function vh(e,n){for(var s=0;s<n.length;s++){const a=n[s];if(typeof a!="string"&&!Array.isArray(a)){for(const c in a)if(c!=="default"&&!(c in e)){const d=Object.getOwnPropertyDescriptor(a,c);d&&Object.defineProperty(e,c,d.get?d:{enumerable:!0,get:()=>a[c]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))a(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const x of d.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&a(x)}).observe(document,{childList:!0,subtree:!0});function s(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(c){if(c.ep)return;c.ep=!0;const d=s(c);fetch(c.href,d)}})();var ss=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ah(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var m1={exports:{}},gl={},w1={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xs=Symbol.for("react.element"),Sh=Symbol.for("react.portal"),Nh=Symbol.for("react.fragment"),Ih=Symbol.for("react.strict_mode"),bh=Symbol.for("react.profiler"),Th=Symbol.for("react.provider"),_h=Symbol.for("react.context"),Rh=Symbol.for("react.forward_ref"),Oh=Symbol.for("react.suspense"),Dh=Symbol.for("react.memo"),kh=Symbol.for("react.lazy"),Wc=Symbol.iterator;function Mh(e){return e===null||typeof e!="object"?null:(e=Wc&&e[Wc]||e["@@iterator"],typeof e=="function"?e:null)}var y1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E1=Object.assign,C1={};function zi(e,n,s){this.props=e,this.context=n,this.refs=C1,this.updater=s||y1}zi.prototype.isReactComponent={};zi.prototype.setState=function(e,n){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")};zi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function v1(){}v1.prototype=zi.prototype;function vu(e,n,s){this.props=e,this.context=n,this.refs=C1,this.updater=s||y1}var Au=vu.prototype=new v1;Au.constructor=vu;E1(Au,zi.prototype);Au.isPureReactComponent=!0;var Hc=Array.isArray,A1=Object.prototype.hasOwnProperty,Su={current:null},S1={key:!0,ref:!0,__self:!0,__source:!0};function N1(e,n,s){var a,c={},d=null,x=null;if(n!=null)for(a in n.ref!==void 0&&(x=n.ref),n.key!==void 0&&(d=""+n.key),n)A1.call(n,a)&&!S1.hasOwnProperty(a)&&(c[a]=n[a]);var w=arguments.length-2;if(w===1)c.children=s;else if(1<w){for(var E=Array(w),m=0;m<w;m++)E[m]=arguments[m+2];c.children=E}if(e&&e.defaultProps)for(a in w=e.defaultProps,w)c[a]===void 0&&(c[a]=w[a]);return{$$typeof:Xs,type:e,key:d,ref:x,props:c,_owner:Su.current}}function Ph(e,n){return{$$typeof:Xs,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}function Nu(e){return typeof e=="object"&&e!==null&&e.$$typeof===Xs}function Lh(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return n[s]})}var Gc=/\/+/g;function ql(e,n){return typeof e=="object"&&e!==null&&e.key!=null?Lh(""+e.key):n.toString(36)}function To(e,n,s,a,c){var d=typeof e;(d==="undefined"||d==="boolean")&&(e=null);var x=!1;if(e===null)x=!0;else switch(d){case"string":case"number":x=!0;break;case"object":switch(e.$$typeof){case Xs:case Sh:x=!0}}if(x)return x=e,c=c(x),e=a===""?"."+ql(x,0):a,Hc(c)?(s="",e!=null&&(s=e.replace(Gc,"$&/")+"/"),To(c,n,s,"",function(m){return m})):c!=null&&(Nu(c)&&(c=Ph(c,s+(!c.key||x&&x.key===c.key?"":(""+c.key).replace(Gc,"$&/")+"/")+e)),n.push(c)),1;if(x=0,a=a===""?".":a+":",Hc(e))for(var w=0;w<e.length;w++){d=e[w];var E=a+ql(d,w);x+=To(d,n,s,E,c)}else if(E=Mh(e),typeof E=="function")for(e=E.call(e),w=0;!(d=e.next()).done;)d=d.value,E=a+ql(d,w++),x+=To(d,n,s,E,c);else if(d==="object")throw n=String(e),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return x}function co(e,n,s){if(e==null)return e;var a=[],c=0;return To(e,a,"","",function(d){return n.call(s,d,c++)}),a}function Bh(e){if(e._status===-1){var n=e._result;n=n(),n.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=n)}if(e._status===1)return e._result.default;throw e._result}var Ut={current:null},_o={transition:null},Fh={ReactCurrentDispatcher:Ut,ReactCurrentBatchConfig:_o,ReactCurrentOwner:Su};function I1(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:co,forEach:function(e,n,s){co(e,function(){n.apply(this,arguments)},s)},count:function(e){var n=0;return co(e,function(){n++}),n},toArray:function(e){return co(e,function(n){return n})||[]},only:function(e){if(!Nu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ve.Component=zi;ve.Fragment=Nh;ve.Profiler=bh;ve.PureComponent=vu;ve.StrictMode=Ih;ve.Suspense=Oh;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fh;ve.act=I1;ve.cloneElement=function(e,n,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=E1({},e.props),c=e.key,d=e.ref,x=e._owner;if(n!=null){if(n.ref!==void 0&&(d=n.ref,x=Su.current),n.key!==void 0&&(c=""+n.key),e.type&&e.type.defaultProps)var w=e.type.defaultProps;for(E in n)A1.call(n,E)&&!S1.hasOwnProperty(E)&&(a[E]=n[E]===void 0&&w!==void 0?w[E]:n[E])}var E=arguments.length-2;if(E===1)a.children=s;else if(1<E){w=Array(E);for(var m=0;m<E;m++)w[m]=arguments[m+2];a.children=w}return{$$typeof:Xs,type:e.type,key:c,ref:d,props:a,_owner:x}};ve.createContext=function(e){return e={$$typeof:_h,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Th,_context:e},e.Consumer=e};ve.createElement=N1;ve.createFactory=function(e){var n=N1.bind(null,e);return n.type=e,n};ve.createRef=function(){return{current:null}};ve.forwardRef=function(e){return{$$typeof:Rh,render:e}};ve.isValidElement=Nu;ve.lazy=function(e){return{$$typeof:kh,_payload:{_status:-1,_result:e},_init:Bh}};ve.memo=function(e,n){return{$$typeof:Dh,type:e,compare:n===void 0?null:n}};ve.startTransition=function(e){var n=_o.transition;_o.transition={};try{e()}finally{_o.transition=n}};ve.unstable_act=I1;ve.useCallback=function(e,n){return Ut.current.useCallback(e,n)};ve.useContext=function(e){return Ut.current.useContext(e)};ve.useDebugValue=function(){};ve.useDeferredValue=function(e){return Ut.current.useDeferredValue(e)};ve.useEffect=function(e,n){return Ut.current.useEffect(e,n)};ve.useId=function(){return Ut.current.useId()};ve.useImperativeHandle=function(e,n,s){return Ut.current.useImperativeHandle(e,n,s)};ve.useInsertionEffect=function(e,n){return Ut.current.useInsertionEffect(e,n)};ve.useLayoutEffect=function(e,n){return Ut.current.useLayoutEffect(e,n)};ve.useMemo=function(e,n){return Ut.current.useMemo(e,n)};ve.useReducer=function(e,n,s){return Ut.current.useReducer(e,n,s)};ve.useRef=function(e){return Ut.current.useRef(e)};ve.useState=function(e){return Ut.current.useState(e)};ve.useSyncExternalStore=function(e,n,s){return Ut.current.useSyncExternalStore(e,n,s)};ve.useTransition=function(){return Ut.current.useTransition()};ve.version="18.3.1";w1.exports=ve;var U=w1.exports;const b1=Ah(U),jh=vh({__proto__:null,default:b1},[U]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uh=U,Vh=Symbol.for("react.element"),zh=Symbol.for("react.fragment"),Wh=Object.prototype.hasOwnProperty,Hh=Uh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Gh={key:!0,ref:!0,__self:!0,__source:!0};function T1(e,n,s){var a,c={},d=null,x=null;s!==void 0&&(d=""+s),n.key!==void 0&&(d=""+n.key),n.ref!==void 0&&(x=n.ref);for(a in n)Wh.call(n,a)&&!Gh.hasOwnProperty(a)&&(c[a]=n[a]);if(e&&e.defaultProps)for(a in n=e.defaultProps,n)c[a]===void 0&&(c[a]=n[a]);return{$$typeof:Vh,type:e,key:d,ref:x,props:c,_owner:Hh.current}}gl.Fragment=zh;gl.jsx=T1;gl.jsxs=T1;m1.exports=gl;var y=m1.exports,Sa={},_1={exports:{}},an={},R1={exports:{}},O1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function n(te,xe){var he=te.length;te.push(xe);e:for(;0<he;){var Fe=he-1>>>1,Ae=te[Fe];if(0<c(Ae,xe))te[Fe]=xe,te[he]=Ae,he=Fe;else break e}}function s(te){return te.length===0?null:te[0]}function a(te){if(te.length===0)return null;var xe=te[0],he=te.pop();if(he!==xe){te[0]=he;e:for(var Fe=0,Ae=te.length,zt=Ae>>>1;Fe<zt;){var ze=2*(Fe+1)-1,On=te[ze],le=ze+1,cn=te[le];if(0>c(On,he))le<Ae&&0>c(cn,On)?(te[Fe]=cn,te[le]=he,Fe=le):(te[Fe]=On,te[ze]=he,Fe=ze);else if(le<Ae&&0>c(cn,he))te[Fe]=cn,te[le]=he,Fe=le;else break e}}return xe}function c(te,xe){var he=te.sortIndex-xe.sortIndex;return he!==0?he:te.id-xe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;e.unstable_now=function(){return d.now()}}else{var x=Date,w=x.now();e.unstable_now=function(){return x.now()-w}}var E=[],m=[],b=1,S=null,k=3,F=!1,H=!1,M=!1,G=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(te){for(var xe=s(m);xe!==null;){if(xe.callback===null)a(m);else if(xe.startTime<=te)a(m),xe.sortIndex=xe.expirationTime,n(E,xe);else break;xe=s(m)}}function V(te){if(M=!1,_(te),!H)if(s(E)!==null)H=!0,be($);else{var xe=s(m);xe!==null&&fe(V,xe.startTime-te)}}function $(te,xe){H=!1,M&&(M=!1,R(Q),Q=-1),F=!0;var he=k;try{for(_(xe),S=s(E);S!==null&&(!(S.expirationTime>xe)||te&&!Ie());){var Fe=S.callback;if(typeof Fe=="function"){S.callback=null,k=S.priorityLevel;var Ae=Fe(S.expirationTime<=xe);xe=e.unstable_now(),typeof Ae=="function"?S.callback=Ae:S===s(E)&&a(E),_(xe)}else a(E);S=s(E)}if(S!==null)var zt=!0;else{var ze=s(m);ze!==null&&fe(V,ze.startTime-xe),zt=!1}return zt}finally{S=null,k=he,F=!1}}var K=!1,P=null,Q=-1,X=5,ce=-1;function Ie(){return!(e.unstable_now()-ce<X)}function ue(){if(P!==null){var te=e.unstable_now();ce=te;var xe=!0;try{xe=P(!0,te)}finally{xe?we():(K=!1,P=null)}}else K=!1}var we;if(typeof T=="function")we=function(){T(ue)};else if(typeof MessageChannel<"u"){var Be=new MessageChannel,L=Be.port2;Be.port1.onmessage=ue,we=function(){L.postMessage(null)}}else we=function(){G(ue,0)};function be(te){P=te,K||(K=!0,we())}function fe(te,xe){Q=G(function(){te(e.unstable_now())},xe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(te){te.callback=null},e.unstable_continueExecution=function(){H||F||(H=!0,be($))},e.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<te?Math.floor(1e3/te):5},e.unstable_getCurrentPriorityLevel=function(){return k},e.unstable_getFirstCallbackNode=function(){return s(E)},e.unstable_next=function(te){switch(k){case 1:case 2:case 3:var xe=3;break;default:xe=k}var he=k;k=xe;try{return te()}finally{k=he}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(te,xe){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var he=k;k=te;try{return xe()}finally{k=he}},e.unstable_scheduleCallback=function(te,xe,he){var Fe=e.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Fe+he:Fe):he=Fe,te){case 1:var Ae=-1;break;case 2:Ae=250;break;case 5:Ae=1073741823;break;case 4:Ae=1e4;break;default:Ae=5e3}return Ae=he+Ae,te={id:b++,callback:xe,priorityLevel:te,startTime:he,expirationTime:Ae,sortIndex:-1},he>Fe?(te.sortIndex=he,n(m,te),s(E)===null&&te===s(m)&&(M?(R(Q),Q=-1):M=!0,fe(V,he-Fe))):(te.sortIndex=Ae,n(E,te),H||F||(H=!0,be($))),te},e.unstable_shouldYield=Ie,e.unstable_wrapCallback=function(te){var xe=k;return function(){var he=k;k=xe;try{return te.apply(this,arguments)}finally{k=he}}}})(O1);R1.exports=O1;var Xh=R1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yh=U,ln=Xh;function q(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var D1=new Set,bs={};function $r(e,n){Mi(e,n),Mi(e+"Capture",n)}function Mi(e,n){for(bs[e]=n,e=0;e<n.length;e++)D1.add(n[e])}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Na=Object.prototype.hasOwnProperty,Zh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xc={},Yc={};function Kh(e){return Na.call(Yc,e)?!0:Na.call(Xc,e)?!1:Zh.test(e)?Yc[e]=!0:(Xc[e]=!0,!1)}function Qh(e,n,s,a){if(s!==null&&s.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return a?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qh(e,n,s,a){if(n===null||typeof n>"u"||Qh(e,n,s,a))return!0;if(a)return!1;if(s!==null)switch(s.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function Vt(e,n,s,a,c,d,x){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=a,this.attributeNamespace=c,this.mustUseProperty=s,this.propertyName=e,this.type=n,this.sanitizeURL=d,this.removeEmptyString=x}var _t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){_t[e]=new Vt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];_t[n]=new Vt(n,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){_t[e]=new Vt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){_t[e]=new Vt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){_t[e]=new Vt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){_t[e]=new Vt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){_t[e]=new Vt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){_t[e]=new Vt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){_t[e]=new Vt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Iu=/[\-:]([a-z])/g;function bu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(Iu,bu);_t[n]=new Vt(n,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(Iu,bu);_t[n]=new Vt(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(Iu,bu);_t[n]=new Vt(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){_t[e]=new Vt(e,1,!1,e.toLowerCase(),null,!1,!1)});_t.xlinkHref=new Vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){_t[e]=new Vt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Tu(e,n,s,a){var c=_t.hasOwnProperty(n)?_t[n]:null;(c!==null?c.type!==0:a||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(qh(n,s,c,a)&&(s=null),a||c===null?Kh(n)&&(s===null?e.removeAttribute(n):e.setAttribute(n,""+s)):c.mustUseProperty?e[c.propertyName]=s===null?c.type===3?!1:"":s:(n=c.attributeName,a=c.attributeNamespace,s===null?e.removeAttribute(n):(c=c.type,s=c===3||c===4&&s===!0?"":""+s,a?e.setAttributeNS(a,n,s):e.setAttribute(n,s))))}var tr=Yh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fo=Symbol.for("react.element"),xi=Symbol.for("react.portal"),pi=Symbol.for("react.fragment"),_u=Symbol.for("react.strict_mode"),Ia=Symbol.for("react.profiler"),k1=Symbol.for("react.provider"),M1=Symbol.for("react.context"),Ru=Symbol.for("react.forward_ref"),ba=Symbol.for("react.suspense"),Ta=Symbol.for("react.suspense_list"),Ou=Symbol.for("react.memo"),cr=Symbol.for("react.lazy"),P1=Symbol.for("react.offscreen"),Zc=Symbol.iterator;function os(e){return e===null||typeof e!="object"?null:(e=Zc&&e[Zc]||e["@@iterator"],typeof e=="function"?e:null)}var nt=Object.assign,Jl;function gs(e){if(Jl===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Jl=n&&n[1]||""}return`
`+Jl+e}var $l=!1;function ea(e,n){if(!e||$l)return"";$l=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(m){var a=m}Reflect.construct(e,[],n)}else{try{n.call()}catch(m){a=m}e.call(n.prototype)}else{try{throw Error()}catch(m){a=m}e()}}catch(m){if(m&&a&&typeof m.stack=="string"){for(var c=m.stack.split(`
`),d=a.stack.split(`
`),x=c.length-1,w=d.length-1;1<=x&&0<=w&&c[x]!==d[w];)w--;for(;1<=x&&0<=w;x--,w--)if(c[x]!==d[w]){if(x!==1||w!==1)do if(x--,w--,0>w||c[x]!==d[w]){var E=`
`+c[x].replace(" at new "," at ");return e.displayName&&E.includes("<anonymous>")&&(E=E.replace("<anonymous>",e.displayName)),E}while(1<=x&&0<=w);break}}}finally{$l=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?gs(e):""}function Jh(e){switch(e.tag){case 5:return gs(e.type);case 16:return gs("Lazy");case 13:return gs("Suspense");case 19:return gs("SuspenseList");case 0:case 2:case 15:return e=ea(e.type,!1),e;case 11:return e=ea(e.type.render,!1),e;case 1:return e=ea(e.type,!0),e;default:return""}}function _a(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case pi:return"Fragment";case xi:return"Portal";case Ia:return"Profiler";case _u:return"StrictMode";case ba:return"Suspense";case Ta:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case M1:return(e.displayName||"Context")+".Consumer";case k1:return(e._context.displayName||"Context")+".Provider";case Ru:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ou:return n=e.displayName||null,n!==null?n:_a(e.type)||"Memo";case cr:n=e._payload,e=e._init;try{return _a(e(n))}catch{}}return null}function $h(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _a(n);case 8:return n===_u?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function br(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function L1(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function eg(e){var n=L1(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),a=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,d=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(x){a=""+x,d.call(this,x)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(x){a=""+x},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ho(e){e._valueTracker||(e._valueTracker=eg(e))}function B1(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),a="";return e&&(a=L1(e)?e.checked?"true":"false":e.value),e=a,e!==s?(n.setValue(e),!0):!1}function Uo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ra(e,n){var s=n.checked;return nt({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Kc(e,n){var s=n.defaultValue==null?"":n.defaultValue,a=n.checked!=null?n.checked:n.defaultChecked;s=br(n.value!=null?n.value:s),e._wrapperState={initialChecked:a,initialValue:s,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function F1(e,n){n=n.checked,n!=null&&Tu(e,"checked",n,!1)}function Oa(e,n){F1(e,n);var s=br(n.value),a=n.type;if(s!=null)a==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Da(e,n.type,s):n.hasOwnProperty("defaultValue")&&Da(e,n.type,br(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function Qc(e,n,s){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var a=n.type;if(!(a!=="submit"&&a!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,s||n===e.value||(e.value=n),e.defaultValue=n}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Da(e,n,s){(n!=="number"||Uo(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var xs=Array.isArray;function Ti(e,n,s,a){if(e=e.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<e.length;s++)c=n.hasOwnProperty("$"+e[s].value),e[s].selected!==c&&(e[s].selected=c),c&&a&&(e[s].defaultSelected=!0)}else{for(s=""+br(s),n=null,c=0;c<e.length;c++){if(e[c].value===s){e[c].selected=!0,a&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function ka(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(q(91));return nt({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function qc(e,n){var s=n.value;if(s==null){if(s=n.children,n=n.defaultValue,s!=null){if(n!=null)throw Error(q(92));if(xs(s)){if(1<s.length)throw Error(q(93));s=s[0]}n=s}n==null&&(n=""),s=n}e._wrapperState={initialValue:br(s)}}function j1(e,n){var s=br(n.value),a=br(n.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),n.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),a!=null&&(e.defaultValue=""+a)}function Jc(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function U1(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ma(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?U1(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var go,V1=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,s,a,c){MSApp.execUnsafeLocalFunction(function(){return e(n,s,a,c)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(go=go||document.createElement("div"),go.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=go.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Ts(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var ws={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tg=["Webkit","ms","Moz","O"];Object.keys(ws).forEach(function(e){tg.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),ws[n]=ws[e]})});function z1(e,n,s){return n==null||typeof n=="boolean"||n===""?"":s||typeof n!="number"||n===0||ws.hasOwnProperty(e)&&ws[e]?(""+n).trim():n+"px"}function W1(e,n){e=e.style;for(var s in n)if(n.hasOwnProperty(s)){var a=s.indexOf("--")===0,c=z1(s,n[s],a);s==="float"&&(s="cssFloat"),a?e.setProperty(s,c):e[s]=c}}var ng=nt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pa(e,n){if(n){if(ng[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(q(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(q(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(q(61))}if(n.style!=null&&typeof n.style!="object")throw Error(q(62))}}function La(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ba=null;function Du(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Fa=null,_i=null,Ri=null;function $c(e){if(e=Ks(e)){if(typeof Fa!="function")throw Error(q(280));var n=e.stateNode;n&&(n=yl(n),Fa(e.stateNode,e.type,n))}}function H1(e){_i?Ri?Ri.push(e):Ri=[e]:_i=e}function G1(){if(_i){var e=_i,n=Ri;if(Ri=_i=null,$c(e),n)for(e=0;e<n.length;e++)$c(n[e])}}function X1(e,n){return e(n)}function Y1(){}var ta=!1;function Z1(e,n,s){if(ta)return e(n,s);ta=!0;try{return X1(e,n,s)}finally{ta=!1,(_i!==null||Ri!==null)&&(Y1(),G1())}}function _s(e,n){var s=e.stateNode;if(s===null)return null;var a=yl(s);if(a===null)return null;s=a[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(q(231,n,typeof s));return s}var ja=!1;if(qn)try{var ls={};Object.defineProperty(ls,"passive",{get:function(){ja=!0}}),window.addEventListener("test",ls,ls),window.removeEventListener("test",ls,ls)}catch{ja=!1}function rg(e,n,s,a,c,d,x,w,E){var m=Array.prototype.slice.call(arguments,3);try{n.apply(s,m)}catch(b){this.onError(b)}}var ys=!1,Vo=null,zo=!1,Ua=null,ig={onError:function(e){ys=!0,Vo=e}};function sg(e,n,s,a,c,d,x,w,E){ys=!1,Vo=null,rg.apply(ig,arguments)}function og(e,n,s,a,c,d,x,w,E){if(sg.apply(this,arguments),ys){if(ys){var m=Vo;ys=!1,Vo=null}else throw Error(q(198));zo||(zo=!0,Ua=m)}}function ei(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function K1(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function e0(e){if(ei(e)!==e)throw Error(q(188))}function lg(e){var n=e.alternate;if(!n){if(n=ei(e),n===null)throw Error(q(188));return n!==e?null:e}for(var s=e,a=n;;){var c=s.return;if(c===null)break;var d=c.alternate;if(d===null){if(a=c.return,a!==null){s=a;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===s)return e0(c),e;if(d===a)return e0(c),n;d=d.sibling}throw Error(q(188))}if(s.return!==a.return)s=c,a=d;else{for(var x=!1,w=c.child;w;){if(w===s){x=!0,s=c,a=d;break}if(w===a){x=!0,a=c,s=d;break}w=w.sibling}if(!x){for(w=d.child;w;){if(w===s){x=!0,s=d,a=c;break}if(w===a){x=!0,a=d,s=c;break}w=w.sibling}if(!x)throw Error(q(189))}}if(s.alternate!==a)throw Error(q(190))}if(s.tag!==3)throw Error(q(188));return s.stateNode.current===s?e:n}function Q1(e){return e=lg(e),e!==null?q1(e):null}function q1(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=q1(e);if(n!==null)return n;e=e.sibling}return null}var J1=ln.unstable_scheduleCallback,t0=ln.unstable_cancelCallback,ag=ln.unstable_shouldYield,ug=ln.unstable_requestPaint,ct=ln.unstable_now,cg=ln.unstable_getCurrentPriorityLevel,ku=ln.unstable_ImmediatePriority,$1=ln.unstable_UserBlockingPriority,Wo=ln.unstable_NormalPriority,fg=ln.unstable_LowPriority,ef=ln.unstable_IdlePriority,xl=null,zn=null;function dg(e){if(zn&&typeof zn.onCommitFiberRoot=="function")try{zn.onCommitFiberRoot(xl,e,void 0,(e.current.flags&128)===128)}catch{}}var Tn=Math.clz32?Math.clz32:xg,hg=Math.log,gg=Math.LN2;function xg(e){return e>>>=0,e===0?32:31-(hg(e)/gg|0)|0}var xo=64,po=4194304;function ps(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ho(e,n){var s=e.pendingLanes;if(s===0)return 0;var a=0,c=e.suspendedLanes,d=e.pingedLanes,x=s&268435455;if(x!==0){var w=x&~c;w!==0?a=ps(w):(d&=x,d!==0&&(a=ps(d)))}else x=s&~c,x!==0?a=ps(x):d!==0&&(a=ps(d));if(a===0)return 0;if(n!==0&&n!==a&&!(n&c)&&(c=a&-a,d=n&-n,c>=d||c===16&&(d&4194240)!==0))return n;if(a&4&&(a|=s&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=a;0<n;)s=31-Tn(n),c=1<<s,a|=e[s],n&=~c;return a}function pg(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mg(e,n){for(var s=e.suspendedLanes,a=e.pingedLanes,c=e.expirationTimes,d=e.pendingLanes;0<d;){var x=31-Tn(d),w=1<<x,E=c[x];E===-1?(!(w&s)||w&a)&&(c[x]=pg(w,n)):E<=n&&(e.expiredLanes|=w),d&=~w}}function Va(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function tf(){var e=xo;return xo<<=1,!(xo&4194240)&&(xo=64),e}function na(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function Ys(e,n,s){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Tn(n),e[n]=s}function wg(e,n){var s=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<s;){var c=31-Tn(s),d=1<<c;n[c]=0,a[c]=-1,e[c]=-1,s&=~d}}function Mu(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var a=31-Tn(s),c=1<<a;c&n|e[a]&n&&(e[a]|=n),s&=~c}}var Pe=0;function nf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var rf,Pu,sf,of,lf,za=!1,mo=[],wr=null,yr=null,Er=null,Rs=new Map,Os=new Map,dr=[],yg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function n0(e,n){switch(e){case"focusin":case"focusout":wr=null;break;case"dragenter":case"dragleave":yr=null;break;case"mouseover":case"mouseout":Er=null;break;case"pointerover":case"pointerout":Rs.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Os.delete(n.pointerId)}}function as(e,n,s,a,c,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:s,eventSystemFlags:a,nativeEvent:d,targetContainers:[c]},n!==null&&(n=Ks(n),n!==null&&Pu(n)),e):(e.eventSystemFlags|=a,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function Eg(e,n,s,a,c){switch(n){case"focusin":return wr=as(wr,e,n,s,a,c),!0;case"dragenter":return yr=as(yr,e,n,s,a,c),!0;case"mouseover":return Er=as(Er,e,n,s,a,c),!0;case"pointerover":var d=c.pointerId;return Rs.set(d,as(Rs.get(d)||null,e,n,s,a,c)),!0;case"gotpointercapture":return d=c.pointerId,Os.set(d,as(Os.get(d)||null,e,n,s,a,c)),!0}return!1}function af(e){var n=Wr(e.target);if(n!==null){var s=ei(n);if(s!==null){if(n=s.tag,n===13){if(n=K1(s),n!==null){e.blockedOn=n,lf(e.priority,function(){sf(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ro(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Wa(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var a=new s.constructor(s.type,s);Ba=a,s.target.dispatchEvent(a),Ba=null}else return n=Ks(s),n!==null&&Pu(n),e.blockedOn=s,!1;n.shift()}return!0}function r0(e,n,s){Ro(e)&&s.delete(n)}function Cg(){za=!1,wr!==null&&Ro(wr)&&(wr=null),yr!==null&&Ro(yr)&&(yr=null),Er!==null&&Ro(Er)&&(Er=null),Rs.forEach(r0),Os.forEach(r0)}function us(e,n){e.blockedOn===n&&(e.blockedOn=null,za||(za=!0,ln.unstable_scheduleCallback(ln.unstable_NormalPriority,Cg)))}function Ds(e){function n(c){return us(c,e)}if(0<mo.length){us(mo[0],e);for(var s=1;s<mo.length;s++){var a=mo[s];a.blockedOn===e&&(a.blockedOn=null)}}for(wr!==null&&us(wr,e),yr!==null&&us(yr,e),Er!==null&&us(Er,e),Rs.forEach(n),Os.forEach(n),s=0;s<dr.length;s++)a=dr[s],a.blockedOn===e&&(a.blockedOn=null);for(;0<dr.length&&(s=dr[0],s.blockedOn===null);)af(s),s.blockedOn===null&&dr.shift()}var Oi=tr.ReactCurrentBatchConfig,Go=!0;function vg(e,n,s,a){var c=Pe,d=Oi.transition;Oi.transition=null;try{Pe=1,Lu(e,n,s,a)}finally{Pe=c,Oi.transition=d}}function Ag(e,n,s,a){var c=Pe,d=Oi.transition;Oi.transition=null;try{Pe=4,Lu(e,n,s,a)}finally{Pe=c,Oi.transition=d}}function Lu(e,n,s,a){if(Go){var c=Wa(e,n,s,a);if(c===null)da(e,n,a,Xo,s),n0(e,a);else if(Eg(c,e,n,s,a))a.stopPropagation();else if(n0(e,a),n&4&&-1<yg.indexOf(e)){for(;c!==null;){var d=Ks(c);if(d!==null&&rf(d),d=Wa(e,n,s,a),d===null&&da(e,n,a,Xo,s),d===c)break;c=d}c!==null&&a.stopPropagation()}else da(e,n,a,null,s)}}var Xo=null;function Wa(e,n,s,a){if(Xo=null,e=Du(a),e=Wr(e),e!==null)if(n=ei(e),n===null)e=null;else if(s=n.tag,s===13){if(e=K1(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return Xo=e,null}function uf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cg()){case ku:return 1;case $1:return 4;case Wo:case fg:return 16;case ef:return 536870912;default:return 16}default:return 16}}var xr=null,Bu=null,Oo=null;function cf(){if(Oo)return Oo;var e,n=Bu,s=n.length,a,c="value"in xr?xr.value:xr.textContent,d=c.length;for(e=0;e<s&&n[e]===c[e];e++);var x=s-e;for(a=1;a<=x&&n[s-a]===c[d-a];a++);return Oo=c.slice(e,1<a?1-a:void 0)}function Do(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function wo(){return!0}function i0(){return!1}function un(e){function n(s,a,c,d,x){this._reactName=s,this._targetInst=c,this.type=a,this.nativeEvent=d,this.target=x,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(s=e[w],this[w]=s?s(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?wo:i0,this.isPropagationStopped=i0,this}return nt(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=wo)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=wo)},persist:function(){},isPersistent:wo}),n}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fu=un(Wi),Zs=nt({},Wi,{view:0,detail:0}),Sg=un(Zs),ra,ia,cs,pl=nt({},Zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ju,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cs&&(cs&&e.type==="mousemove"?(ra=e.screenX-cs.screenX,ia=e.screenY-cs.screenY):ia=ra=0,cs=e),ra)},movementY:function(e){return"movementY"in e?e.movementY:ia}}),s0=un(pl),Ng=nt({},pl,{dataTransfer:0}),Ig=un(Ng),bg=nt({},Zs,{relatedTarget:0}),sa=un(bg),Tg=nt({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),_g=un(Tg),Rg=nt({},Wi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Og=un(Rg),Dg=nt({},Wi,{data:0}),o0=un(Dg),kg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lg(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Pg[e])?!!n[e]:!1}function ju(){return Lg}var Bg=nt({},Zs,{key:function(e){if(e.key){var n=kg[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Do(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Mg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ju,charCode:function(e){return e.type==="keypress"?Do(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Do(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Fg=un(Bg),jg=nt({},pl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),l0=un(jg),Ug=nt({},Zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ju}),Vg=un(Ug),zg=nt({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wg=un(zg),Hg=nt({},pl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Gg=un(Hg),Xg=[9,13,27,32],Uu=qn&&"CompositionEvent"in window,Es=null;qn&&"documentMode"in document&&(Es=document.documentMode);var Yg=qn&&"TextEvent"in window&&!Es,ff=qn&&(!Uu||Es&&8<Es&&11>=Es),a0=" ",u0=!1;function df(e,n){switch(e){case"keyup":return Xg.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var mi=!1;function Zg(e,n){switch(e){case"compositionend":return hf(n);case"keypress":return n.which!==32?null:(u0=!0,a0);case"textInput":return e=n.data,e===a0&&u0?null:e;default:return null}}function Kg(e,n){if(mi)return e==="compositionend"||!Uu&&df(e,n)?(e=cf(),Oo=Bu=xr=null,mi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ff&&n.locale!=="ko"?null:n.data;default:return null}}var Qg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function c0(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Qg[e.type]:n==="textarea"}function gf(e,n,s,a){H1(a),n=Yo(n,"onChange"),0<n.length&&(s=new Fu("onChange","change",null,s,a),e.push({event:s,listeners:n}))}var Cs=null,ks=null;function qg(e){Nf(e,0)}function ml(e){var n=Ei(e);if(B1(n))return e}function Jg(e,n){if(e==="change")return n}var xf=!1;if(qn){var oa;if(qn){var la="oninput"in document;if(!la){var f0=document.createElement("div");f0.setAttribute("oninput","return;"),la=typeof f0.oninput=="function"}oa=la}else oa=!1;xf=oa&&(!document.documentMode||9<document.documentMode)}function d0(){Cs&&(Cs.detachEvent("onpropertychange",pf),ks=Cs=null)}function pf(e){if(e.propertyName==="value"&&ml(ks)){var n=[];gf(n,ks,e,Du(e)),Z1(qg,n)}}function $g(e,n,s){e==="focusin"?(d0(),Cs=n,ks=s,Cs.attachEvent("onpropertychange",pf)):e==="focusout"&&d0()}function ex(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ml(ks)}function tx(e,n){if(e==="click")return ml(n)}function nx(e,n){if(e==="input"||e==="change")return ml(n)}function rx(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Rn=typeof Object.is=="function"?Object.is:rx;function Ms(e,n){if(Rn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),a=Object.keys(n);if(s.length!==a.length)return!1;for(a=0;a<s.length;a++){var c=s[a];if(!Na.call(n,c)||!Rn(e[c],n[c]))return!1}return!0}function h0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function g0(e,n){var s=h0(e);e=0;for(var a;s;){if(s.nodeType===3){if(a=e+s.textContent.length,e<=n&&a>=n)return{node:s,offset:n-e};e=a}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=h0(s)}}function mf(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?mf(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function wf(){for(var e=window,n=Uo();n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=Uo(e.document)}return n}function Vu(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function ix(e){var n=wf(),s=e.focusedElem,a=e.selectionRange;if(n!==s&&s&&s.ownerDocument&&mf(s.ownerDocument.documentElement,s)){if(a!==null&&Vu(s)){if(n=a.start,e=a.end,e===void 0&&(e=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(e,s.value.length);else if(e=(n=s.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var c=s.textContent.length,d=Math.min(a.start,c);a=a.end===void 0?d:Math.min(a.end,c),!e.extend&&d>a&&(c=a,a=d,d=c),c=g0(s,d);var x=g0(s,a);c&&x&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==x.node||e.focusOffset!==x.offset)&&(n=n.createRange(),n.setStart(c.node,c.offset),e.removeAllRanges(),d>a?(e.addRange(n),e.extend(x.node,x.offset)):(n.setEnd(x.node,x.offset),e.addRange(n)))}}for(n=[],e=s;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)e=n[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var sx=qn&&"documentMode"in document&&11>=document.documentMode,wi=null,Ha=null,vs=null,Ga=!1;function x0(e,n,s){var a=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ga||wi==null||wi!==Uo(a)||(a=wi,"selectionStart"in a&&Vu(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),vs&&Ms(vs,a)||(vs=a,a=Yo(Ha,"onSelect"),0<a.length&&(n=new Fu("onSelect","select",null,n,s),e.push({event:n,listeners:a}),n.target=wi)))}function yo(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var yi={animationend:yo("Animation","AnimationEnd"),animationiteration:yo("Animation","AnimationIteration"),animationstart:yo("Animation","AnimationStart"),transitionend:yo("Transition","TransitionEnd")},aa={},yf={};qn&&(yf=document.createElement("div").style,"AnimationEvent"in window||(delete yi.animationend.animation,delete yi.animationiteration.animation,delete yi.animationstart.animation),"TransitionEvent"in window||delete yi.transitionend.transition);function wl(e){if(aa[e])return aa[e];if(!yi[e])return e;var n=yi[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in yf)return aa[e]=n[s];return e}var Ef=wl("animationend"),Cf=wl("animationiteration"),vf=wl("animationstart"),Af=wl("transitionend"),Sf=new Map,p0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _r(e,n){Sf.set(e,n),$r(n,[e])}for(var ua=0;ua<p0.length;ua++){var ca=p0[ua],ox=ca.toLowerCase(),lx=ca[0].toUpperCase()+ca.slice(1);_r(ox,"on"+lx)}_r(Ef,"onAnimationEnd");_r(Cf,"onAnimationIteration");_r(vf,"onAnimationStart");_r("dblclick","onDoubleClick");_r("focusin","onFocus");_r("focusout","onBlur");_r(Af,"onTransitionEnd");Mi("onMouseEnter",["mouseout","mouseover"]);Mi("onMouseLeave",["mouseout","mouseover"]);Mi("onPointerEnter",["pointerout","pointerover"]);Mi("onPointerLeave",["pointerout","pointerover"]);$r("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$r("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$r("onBeforeInput",["compositionend","keypress","textInput","paste"]);$r("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$r("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$r("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ms="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ax=new Set("cancel close invalid load scroll toggle".split(" ").concat(ms));function m0(e,n,s){var a=e.type||"unknown-event";e.currentTarget=s,og(a,n,void 0,e),e.currentTarget=null}function Nf(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var a=e[s],c=a.event;a=a.listeners;e:{var d=void 0;if(n)for(var x=a.length-1;0<=x;x--){var w=a[x],E=w.instance,m=w.currentTarget;if(w=w.listener,E!==d&&c.isPropagationStopped())break e;m0(c,w,m),d=E}else for(x=0;x<a.length;x++){if(w=a[x],E=w.instance,m=w.currentTarget,w=w.listener,E!==d&&c.isPropagationStopped())break e;m0(c,w,m),d=E}}}if(zo)throw e=Ua,zo=!1,Ua=null,e}function Ye(e,n){var s=n[Qa];s===void 0&&(s=n[Qa]=new Set);var a=e+"__bubble";s.has(a)||(If(n,e,2,!1),s.add(a))}function fa(e,n,s){var a=0;n&&(a|=4),If(s,e,a,n)}var Eo="_reactListening"+Math.random().toString(36).slice(2);function Ps(e){if(!e[Eo]){e[Eo]=!0,D1.forEach(function(s){s!=="selectionchange"&&(ax.has(s)||fa(s,!1,e),fa(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Eo]||(n[Eo]=!0,fa("selectionchange",!1,n))}}function If(e,n,s,a){switch(uf(n)){case 1:var c=vg;break;case 4:c=Ag;break;default:c=Lu}s=c.bind(null,n,s,e),c=void 0,!ja||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),a?c!==void 0?e.addEventListener(n,s,{capture:!0,passive:c}):e.addEventListener(n,s,!0):c!==void 0?e.addEventListener(n,s,{passive:c}):e.addEventListener(n,s,!1)}function da(e,n,s,a,c){var d=a;if(!(n&1)&&!(n&2)&&a!==null)e:for(;;){if(a===null)return;var x=a.tag;if(x===3||x===4){var w=a.stateNode.containerInfo;if(w===c||w.nodeType===8&&w.parentNode===c)break;if(x===4)for(x=a.return;x!==null;){var E=x.tag;if((E===3||E===4)&&(E=x.stateNode.containerInfo,E===c||E.nodeType===8&&E.parentNode===c))return;x=x.return}for(;w!==null;){if(x=Wr(w),x===null)return;if(E=x.tag,E===5||E===6){a=d=x;continue e}w=w.parentNode}}a=a.return}Z1(function(){var m=d,b=Du(s),S=[];e:{var k=Sf.get(e);if(k!==void 0){var F=Fu,H=e;switch(e){case"keypress":if(Do(s)===0)break e;case"keydown":case"keyup":F=Fg;break;case"focusin":H="focus",F=sa;break;case"focusout":H="blur",F=sa;break;case"beforeblur":case"afterblur":F=sa;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=s0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Ig;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=Vg;break;case Ef:case Cf:case vf:F=_g;break;case Af:F=Wg;break;case"scroll":F=Sg;break;case"wheel":F=Gg;break;case"copy":case"cut":case"paste":F=Og;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=l0}var M=(n&4)!==0,G=!M&&e==="scroll",R=M?k!==null?k+"Capture":null:k;M=[];for(var T=m,_;T!==null;){_=T;var V=_.stateNode;if(_.tag===5&&V!==null&&(_=V,R!==null&&(V=_s(T,R),V!=null&&M.push(Ls(T,V,_)))),G)break;T=T.return}0<M.length&&(k=new F(k,H,null,s,b),S.push({event:k,listeners:M}))}}if(!(n&7)){e:{if(k=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",k&&s!==Ba&&(H=s.relatedTarget||s.fromElement)&&(Wr(H)||H[Jn]))break e;if((F||k)&&(k=b.window===b?b:(k=b.ownerDocument)?k.defaultView||k.parentWindow:window,F?(H=s.relatedTarget||s.toElement,F=m,H=H?Wr(H):null,H!==null&&(G=ei(H),H!==G||H.tag!==5&&H.tag!==6)&&(H=null)):(F=null,H=m),F!==H)){if(M=s0,V="onMouseLeave",R="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(M=l0,V="onPointerLeave",R="onPointerEnter",T="pointer"),G=F==null?k:Ei(F),_=H==null?k:Ei(H),k=new M(V,T+"leave",F,s,b),k.target=G,k.relatedTarget=_,V=null,Wr(b)===m&&(M=new M(R,T+"enter",H,s,b),M.target=_,M.relatedTarget=G,V=M),G=V,F&&H)t:{for(M=F,R=H,T=0,_=M;_;_=hi(_))T++;for(_=0,V=R;V;V=hi(V))_++;for(;0<T-_;)M=hi(M),T--;for(;0<_-T;)R=hi(R),_--;for(;T--;){if(M===R||R!==null&&M===R.alternate)break t;M=hi(M),R=hi(R)}M=null}else M=null;F!==null&&w0(S,k,F,M,!1),H!==null&&G!==null&&w0(S,G,H,M,!0)}}e:{if(k=m?Ei(m):window,F=k.nodeName&&k.nodeName.toLowerCase(),F==="select"||F==="input"&&k.type==="file")var $=Jg;else if(c0(k))if(xf)$=nx;else{$=ex;var K=$g}else(F=k.nodeName)&&F.toLowerCase()==="input"&&(k.type==="checkbox"||k.type==="radio")&&($=tx);if($&&($=$(e,m))){gf(S,$,s,b);break e}K&&K(e,k,m),e==="focusout"&&(K=k._wrapperState)&&K.controlled&&k.type==="number"&&Da(k,"number",k.value)}switch(K=m?Ei(m):window,e){case"focusin":(c0(K)||K.contentEditable==="true")&&(wi=K,Ha=m,vs=null);break;case"focusout":vs=Ha=wi=null;break;case"mousedown":Ga=!0;break;case"contextmenu":case"mouseup":case"dragend":Ga=!1,x0(S,s,b);break;case"selectionchange":if(sx)break;case"keydown":case"keyup":x0(S,s,b)}var P;if(Uu)e:{switch(e){case"compositionstart":var Q="onCompositionStart";break e;case"compositionend":Q="onCompositionEnd";break e;case"compositionupdate":Q="onCompositionUpdate";break e}Q=void 0}else mi?df(e,s)&&(Q="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Q="onCompositionStart");Q&&(ff&&s.locale!=="ko"&&(mi||Q!=="onCompositionStart"?Q==="onCompositionEnd"&&mi&&(P=cf()):(xr=b,Bu="value"in xr?xr.value:xr.textContent,mi=!0)),K=Yo(m,Q),0<K.length&&(Q=new o0(Q,e,null,s,b),S.push({event:Q,listeners:K}),P?Q.data=P:(P=hf(s),P!==null&&(Q.data=P)))),(P=Yg?Zg(e,s):Kg(e,s))&&(m=Yo(m,"onBeforeInput"),0<m.length&&(b=new o0("onBeforeInput","beforeinput",null,s,b),S.push({event:b,listeners:m}),b.data=P))}Nf(S,n)})}function Ls(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Yo(e,n){for(var s=n+"Capture",a=[];e!==null;){var c=e,d=c.stateNode;c.tag===5&&d!==null&&(c=d,d=_s(e,s),d!=null&&a.unshift(Ls(e,d,c)),d=_s(e,n),d!=null&&a.push(Ls(e,d,c))),e=e.return}return a}function hi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function w0(e,n,s,a,c){for(var d=n._reactName,x=[];s!==null&&s!==a;){var w=s,E=w.alternate,m=w.stateNode;if(E!==null&&E===a)break;w.tag===5&&m!==null&&(w=m,c?(E=_s(s,d),E!=null&&x.unshift(Ls(s,E,w))):c||(E=_s(s,d),E!=null&&x.push(Ls(s,E,w)))),s=s.return}x.length!==0&&e.push({event:n,listeners:x})}var ux=/\r\n?/g,cx=/\u0000|\uFFFD/g;function y0(e){return(typeof e=="string"?e:""+e).replace(ux,`
`).replace(cx,"")}function Co(e,n,s){if(n=y0(n),y0(e)!==n&&s)throw Error(q(425))}function Zo(){}var Xa=null,Ya=null;function Za(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ka=typeof setTimeout=="function"?setTimeout:void 0,fx=typeof clearTimeout=="function"?clearTimeout:void 0,E0=typeof Promise=="function"?Promise:void 0,dx=typeof queueMicrotask=="function"?queueMicrotask:typeof E0<"u"?function(e){return E0.resolve(null).then(e).catch(hx)}:Ka;function hx(e){setTimeout(function(){throw e})}function ha(e,n){var s=n,a=0;do{var c=s.nextSibling;if(e.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"){if(a===0){e.removeChild(c),Ds(n);return}a--}else s!=="$"&&s!=="$?"&&s!=="$!"||a++;s=c}while(s);Ds(n)}function Cr(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function C0(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}var Hi=Math.random().toString(36).slice(2),Vn="__reactFiber$"+Hi,Bs="__reactProps$"+Hi,Jn="__reactContainer$"+Hi,Qa="__reactEvents$"+Hi,gx="__reactListeners$"+Hi,xx="__reactHandles$"+Hi;function Wr(e){var n=e[Vn];if(n)return n;for(var s=e.parentNode;s;){if(n=s[Jn]||s[Vn]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=C0(e);e!==null;){if(s=e[Vn])return s;e=C0(e)}return n}e=s,s=e.parentNode}return null}function Ks(e){return e=e[Vn]||e[Jn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ei(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(q(33))}function yl(e){return e[Bs]||null}var qa=[],Ci=-1;function Rr(e){return{current:e}}function Ze(e){0>Ci||(e.current=qa[Ci],qa[Ci]=null,Ci--)}function Ge(e,n){Ci++,qa[Ci]=e.current,e.current=n}var Tr={},Pt=Rr(Tr),qt=Rr(!1),Zr=Tr;function Pi(e,n){var s=e.type.contextTypes;if(!s)return Tr;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===n)return a.__reactInternalMemoizedMaskedChildContext;var c={},d;for(d in s)c[d]=n[d];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=c),c}function Jt(e){return e=e.childContextTypes,e!=null}function Ko(){Ze(qt),Ze(Pt)}function v0(e,n,s){if(Pt.current!==Tr)throw Error(q(168));Ge(Pt,n),Ge(qt,s)}function bf(e,n,s){var a=e.stateNode;if(n=n.childContextTypes,typeof a.getChildContext!="function")return s;a=a.getChildContext();for(var c in a)if(!(c in n))throw Error(q(108,$h(e)||"Unknown",c));return nt({},s,a)}function Qo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Tr,Zr=Pt.current,Ge(Pt,e),Ge(qt,qt.current),!0}function A0(e,n,s){var a=e.stateNode;if(!a)throw Error(q(169));s?(e=bf(e,n,Zr),a.__reactInternalMemoizedMergedChildContext=e,Ze(qt),Ze(Pt),Ge(Pt,e)):Ze(qt),Ge(qt,s)}var Yn=null,El=!1,ga=!1;function Tf(e){Yn===null?Yn=[e]:Yn.push(e)}function px(e){El=!0,Tf(e)}function Or(){if(!ga&&Yn!==null){ga=!0;var e=0,n=Pe;try{var s=Yn;for(Pe=1;e<s.length;e++){var a=s[e];do a=a(!0);while(a!==null)}Yn=null,El=!1}catch(c){throw Yn!==null&&(Yn=Yn.slice(e+1)),J1(ku,Or),c}finally{Pe=n,ga=!1}}return null}var vi=[],Ai=0,qo=null,Jo=0,xn=[],pn=0,Kr=null,Zn=1,Kn="";function Vr(e,n){vi[Ai++]=Jo,vi[Ai++]=qo,qo=e,Jo=n}function _f(e,n,s){xn[pn++]=Zn,xn[pn++]=Kn,xn[pn++]=Kr,Kr=e;var a=Zn;e=Kn;var c=32-Tn(a)-1;a&=~(1<<c),s+=1;var d=32-Tn(n)+c;if(30<d){var x=c-c%5;d=(a&(1<<x)-1).toString(32),a>>=x,c-=x,Zn=1<<32-Tn(n)+c|s<<c|a,Kn=d+e}else Zn=1<<d|s<<c|a,Kn=e}function zu(e){e.return!==null&&(Vr(e,1),_f(e,1,0))}function Wu(e){for(;e===qo;)qo=vi[--Ai],vi[Ai]=null,Jo=vi[--Ai],vi[Ai]=null;for(;e===Kr;)Kr=xn[--pn],xn[pn]=null,Kn=xn[--pn],xn[pn]=null,Zn=xn[--pn],xn[pn]=null}var on=null,sn=null,Qe=!1,bn=null;function Rf(e,n){var s=mn(5,null,null,0);s.elementType="DELETED",s.stateNode=n,s.return=e,n=e.deletions,n===null?(e.deletions=[s],e.flags|=16):n.push(s)}function S0(e,n){switch(e.tag){case 5:var s=e.type;return n=n.nodeType!==1||s.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,on=e,sn=Cr(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,on=e,sn=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(s=Kr!==null?{id:Zn,overflow:Kn}:null,e.memoizedState={dehydrated:n,treeContext:s,retryLane:1073741824},s=mn(18,null,null,0),s.stateNode=n,s.return=e,e.child=s,on=e,sn=null,!0):!1;default:return!1}}function Ja(e){return(e.mode&1)!==0&&(e.flags&128)===0}function $a(e){if(Qe){var n=sn;if(n){var s=n;if(!S0(e,n)){if(Ja(e))throw Error(q(418));n=Cr(s.nextSibling);var a=on;n&&S0(e,n)?Rf(a,s):(e.flags=e.flags&-4097|2,Qe=!1,on=e)}}else{if(Ja(e))throw Error(q(418));e.flags=e.flags&-4097|2,Qe=!1,on=e}}}function N0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;on=e}function vo(e){if(e!==on)return!1;if(!Qe)return N0(e),Qe=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Za(e.type,e.memoizedProps)),n&&(n=sn)){if(Ja(e))throw Of(),Error(q(418));for(;n;)Rf(e,n),n=Cr(n.nextSibling)}if(N0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(q(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(n===0){sn=Cr(e.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++}e=e.nextSibling}sn=null}}else sn=on?Cr(e.stateNode.nextSibling):null;return!0}function Of(){for(var e=sn;e;)e=Cr(e.nextSibling)}function Li(){sn=on=null,Qe=!1}function Hu(e){bn===null?bn=[e]:bn.push(e)}var mx=tr.ReactCurrentBatchConfig;function fs(e,n,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(q(309));var a=s.stateNode}if(!a)throw Error(q(147,e));var c=a,d=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===d?n.ref:(n=function(x){var w=c.refs;x===null?delete w[d]:w[d]=x},n._stringRef=d,n)}if(typeof e!="string")throw Error(q(284));if(!s._owner)throw Error(q(290,e))}return e}function Ao(e,n){throw e=Object.prototype.toString.call(n),Error(q(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function I0(e){var n=e._init;return n(e._payload)}function Df(e){function n(R,T){if(e){var _=R.deletions;_===null?(R.deletions=[T],R.flags|=16):_.push(T)}}function s(R,T){if(!e)return null;for(;T!==null;)n(R,T),T=T.sibling;return null}function a(R,T){for(R=new Map;T!==null;)T.key!==null?R.set(T.key,T):R.set(T.index,T),T=T.sibling;return R}function c(R,T){return R=Nr(R,T),R.index=0,R.sibling=null,R}function d(R,T,_){return R.index=_,e?(_=R.alternate,_!==null?(_=_.index,_<T?(R.flags|=2,T):_):(R.flags|=2,T)):(R.flags|=1048576,T)}function x(R){return e&&R.alternate===null&&(R.flags|=2),R}function w(R,T,_,V){return T===null||T.tag!==6?(T=Ca(_,R.mode,V),T.return=R,T):(T=c(T,_),T.return=R,T)}function E(R,T,_,V){var $=_.type;return $===pi?b(R,T,_.props.children,V,_.key):T!==null&&(T.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===cr&&I0($)===T.type)?(V=c(T,_.props),V.ref=fs(R,T,_),V.return=R,V):(V=jo(_.type,_.key,_.props,null,R.mode,V),V.ref=fs(R,T,_),V.return=R,V)}function m(R,T,_,V){return T===null||T.tag!==4||T.stateNode.containerInfo!==_.containerInfo||T.stateNode.implementation!==_.implementation?(T=va(_,R.mode,V),T.return=R,T):(T=c(T,_.children||[]),T.return=R,T)}function b(R,T,_,V,$){return T===null||T.tag!==7?(T=Yr(_,R.mode,V,$),T.return=R,T):(T=c(T,_),T.return=R,T)}function S(R,T,_){if(typeof T=="string"&&T!==""||typeof T=="number")return T=Ca(""+T,R.mode,_),T.return=R,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case fo:return _=jo(T.type,T.key,T.props,null,R.mode,_),_.ref=fs(R,null,T),_.return=R,_;case xi:return T=va(T,R.mode,_),T.return=R,T;case cr:var V=T._init;return S(R,V(T._payload),_)}if(xs(T)||os(T))return T=Yr(T,R.mode,_,null),T.return=R,T;Ao(R,T)}return null}function k(R,T,_,V){var $=T!==null?T.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return $!==null?null:w(R,T,""+_,V);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case fo:return _.key===$?E(R,T,_,V):null;case xi:return _.key===$?m(R,T,_,V):null;case cr:return $=_._init,k(R,T,$(_._payload),V)}if(xs(_)||os(_))return $!==null?null:b(R,T,_,V,null);Ao(R,_)}return null}function F(R,T,_,V,$){if(typeof V=="string"&&V!==""||typeof V=="number")return R=R.get(_)||null,w(T,R,""+V,$);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case fo:return R=R.get(V.key===null?_:V.key)||null,E(T,R,V,$);case xi:return R=R.get(V.key===null?_:V.key)||null,m(T,R,V,$);case cr:var K=V._init;return F(R,T,_,K(V._payload),$)}if(xs(V)||os(V))return R=R.get(_)||null,b(T,R,V,$,null);Ao(T,V)}return null}function H(R,T,_,V){for(var $=null,K=null,P=T,Q=T=0,X=null;P!==null&&Q<_.length;Q++){P.index>Q?(X=P,P=null):X=P.sibling;var ce=k(R,P,_[Q],V);if(ce===null){P===null&&(P=X);break}e&&P&&ce.alternate===null&&n(R,P),T=d(ce,T,Q),K===null?$=ce:K.sibling=ce,K=ce,P=X}if(Q===_.length)return s(R,P),Qe&&Vr(R,Q),$;if(P===null){for(;Q<_.length;Q++)P=S(R,_[Q],V),P!==null&&(T=d(P,T,Q),K===null?$=P:K.sibling=P,K=P);return Qe&&Vr(R,Q),$}for(P=a(R,P);Q<_.length;Q++)X=F(P,R,Q,_[Q],V),X!==null&&(e&&X.alternate!==null&&P.delete(X.key===null?Q:X.key),T=d(X,T,Q),K===null?$=X:K.sibling=X,K=X);return e&&P.forEach(function(Ie){return n(R,Ie)}),Qe&&Vr(R,Q),$}function M(R,T,_,V){var $=os(_);if(typeof $!="function")throw Error(q(150));if(_=$.call(_),_==null)throw Error(q(151));for(var K=$=null,P=T,Q=T=0,X=null,ce=_.next();P!==null&&!ce.done;Q++,ce=_.next()){P.index>Q?(X=P,P=null):X=P.sibling;var Ie=k(R,P,ce.value,V);if(Ie===null){P===null&&(P=X);break}e&&P&&Ie.alternate===null&&n(R,P),T=d(Ie,T,Q),K===null?$=Ie:K.sibling=Ie,K=Ie,P=X}if(ce.done)return s(R,P),Qe&&Vr(R,Q),$;if(P===null){for(;!ce.done;Q++,ce=_.next())ce=S(R,ce.value,V),ce!==null&&(T=d(ce,T,Q),K===null?$=ce:K.sibling=ce,K=ce);return Qe&&Vr(R,Q),$}for(P=a(R,P);!ce.done;Q++,ce=_.next())ce=F(P,R,Q,ce.value,V),ce!==null&&(e&&ce.alternate!==null&&P.delete(ce.key===null?Q:ce.key),T=d(ce,T,Q),K===null?$=ce:K.sibling=ce,K=ce);return e&&P.forEach(function(ue){return n(R,ue)}),Qe&&Vr(R,Q),$}function G(R,T,_,V){if(typeof _=="object"&&_!==null&&_.type===pi&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case fo:e:{for(var $=_.key,K=T;K!==null;){if(K.key===$){if($=_.type,$===pi){if(K.tag===7){s(R,K.sibling),T=c(K,_.props.children),T.return=R,R=T;break e}}else if(K.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===cr&&I0($)===K.type){s(R,K.sibling),T=c(K,_.props),T.ref=fs(R,K,_),T.return=R,R=T;break e}s(R,K);break}else n(R,K);K=K.sibling}_.type===pi?(T=Yr(_.props.children,R.mode,V,_.key),T.return=R,R=T):(V=jo(_.type,_.key,_.props,null,R.mode,V),V.ref=fs(R,T,_),V.return=R,R=V)}return x(R);case xi:e:{for(K=_.key;T!==null;){if(T.key===K)if(T.tag===4&&T.stateNode.containerInfo===_.containerInfo&&T.stateNode.implementation===_.implementation){s(R,T.sibling),T=c(T,_.children||[]),T.return=R,R=T;break e}else{s(R,T);break}else n(R,T);T=T.sibling}T=va(_,R.mode,V),T.return=R,R=T}return x(R);case cr:return K=_._init,G(R,T,K(_._payload),V)}if(xs(_))return H(R,T,_,V);if(os(_))return M(R,T,_,V);Ao(R,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,T!==null&&T.tag===6?(s(R,T.sibling),T=c(T,_),T.return=R,R=T):(s(R,T),T=Ca(_,R.mode,V),T.return=R,R=T),x(R)):s(R,T)}return G}var Bi=Df(!0),kf=Df(!1),$o=Rr(null),el=null,Si=null,Gu=null;function Xu(){Gu=Si=el=null}function Yu(e){var n=$o.current;Ze($o),e._currentValue=n}function eu(e,n,s){for(;e!==null;){var a=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,a!==null&&(a.childLanes|=n)):a!==null&&(a.childLanes&n)!==n&&(a.childLanes|=n),e===s)break;e=e.return}}function Di(e,n){el=e,Gu=Si=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(Qt=!0),e.firstContext=null)}function yn(e){var n=e._currentValue;if(Gu!==e)if(e={context:e,memoizedValue:n,next:null},Si===null){if(el===null)throw Error(q(308));Si=e,el.dependencies={lanes:0,firstContext:e}}else Si=Si.next=e;return n}var Hr=null;function Zu(e){Hr===null?Hr=[e]:Hr.push(e)}function Mf(e,n,s,a){var c=n.interleaved;return c===null?(s.next=s,Zu(n)):(s.next=c.next,c.next=s),n.interleaved=s,$n(e,a)}function $n(e,n){e.lanes|=n;var s=e.alternate;for(s!==null&&(s.lanes|=n),s=e,e=e.return;e!==null;)e.childLanes|=n,s=e.alternate,s!==null&&(s.childLanes|=n),s=e,e=e.return;return s.tag===3?s.stateNode:null}var fr=!1;function Ku(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Qn(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function vr(e,n,s){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,Re&2){var c=a.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),a.pending=n,$n(e,s)}return c=a.interleaved,c===null?(n.next=n,Zu(a)):(n.next=c.next,c.next=n),a.interleaved=n,$n(e,s)}function ko(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194240)!==0)){var a=n.lanes;a&=e.pendingLanes,s|=a,n.lanes=s,Mu(e,s)}}function b0(e,n){var s=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,s===a)){var c=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var x={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};d===null?c=d=x:d=d.next=x,s=s.next}while(s!==null);d===null?c=d=n:d=d.next=n}else c=d=n;s={baseState:a.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:a.shared,effects:a.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}function tl(e,n,s,a){var c=e.updateQueue;fr=!1;var d=c.firstBaseUpdate,x=c.lastBaseUpdate,w=c.shared.pending;if(w!==null){c.shared.pending=null;var E=w,m=E.next;E.next=null,x===null?d=m:x.next=m,x=E;var b=e.alternate;b!==null&&(b=b.updateQueue,w=b.lastBaseUpdate,w!==x&&(w===null?b.firstBaseUpdate=m:w.next=m,b.lastBaseUpdate=E))}if(d!==null){var S=c.baseState;x=0,b=m=E=null,w=d;do{var k=w.lane,F=w.eventTime;if((a&k)===k){b!==null&&(b=b.next={eventTime:F,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var H=e,M=w;switch(k=n,F=s,M.tag){case 1:if(H=M.payload,typeof H=="function"){S=H.call(F,S,k);break e}S=H;break e;case 3:H.flags=H.flags&-65537|128;case 0:if(H=M.payload,k=typeof H=="function"?H.call(F,S,k):H,k==null)break e;S=nt({},S,k);break e;case 2:fr=!0}}w.callback!==null&&w.lane!==0&&(e.flags|=64,k=c.effects,k===null?c.effects=[w]:k.push(w))}else F={eventTime:F,lane:k,tag:w.tag,payload:w.payload,callback:w.callback,next:null},b===null?(m=b=F,E=S):b=b.next=F,x|=k;if(w=w.next,w===null){if(w=c.shared.pending,w===null)break;k=w,w=k.next,k.next=null,c.lastBaseUpdate=k,c.shared.pending=null}}while(!0);if(b===null&&(E=S),c.baseState=E,c.firstBaseUpdate=m,c.lastBaseUpdate=b,n=c.shared.interleaved,n!==null){c=n;do x|=c.lane,c=c.next;while(c!==n)}else d===null&&(c.shared.lanes=0);qr|=x,e.lanes=x,e.memoizedState=S}}function T0(e,n,s){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var a=e[n],c=a.callback;if(c!==null){if(a.callback=null,a=s,typeof c!="function")throw Error(q(191,c));c.call(a)}}}var Qs={},Wn=Rr(Qs),Fs=Rr(Qs),js=Rr(Qs);function Gr(e){if(e===Qs)throw Error(q(174));return e}function Qu(e,n){switch(Ge(js,n),Ge(Fs,e),Ge(Wn,Qs),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Ma(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Ma(n,e)}Ze(Wn),Ge(Wn,n)}function Fi(){Ze(Wn),Ze(Fs),Ze(js)}function Lf(e){Gr(js.current);var n=Gr(Wn.current),s=Ma(n,e.type);n!==s&&(Ge(Fs,e),Ge(Wn,s))}function qu(e){Fs.current===e&&(Ze(Wn),Ze(Fs))}var et=Rr(0);function nl(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var xa=[];function Ju(){for(var e=0;e<xa.length;e++)xa[e]._workInProgressVersionPrimary=null;xa.length=0}var Mo=tr.ReactCurrentDispatcher,pa=tr.ReactCurrentBatchConfig,Qr=0,tt=null,mt=null,Ct=null,rl=!1,As=!1,Us=0,wx=0;function Dt(){throw Error(q(321))}function $u(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Rn(e[s],n[s]))return!1;return!0}function ec(e,n,s,a,c,d){if(Qr=d,tt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Mo.current=e===null||e.memoizedState===null?vx:Ax,e=s(a,c),As){d=0;do{if(As=!1,Us=0,25<=d)throw Error(q(301));d+=1,Ct=mt=null,n.updateQueue=null,Mo.current=Sx,e=s(a,c)}while(As)}if(Mo.current=il,n=mt!==null&&mt.next!==null,Qr=0,Ct=mt=tt=null,rl=!1,n)throw Error(q(300));return e}function tc(){var e=Us!==0;return Us=0,e}function Un(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?tt.memoizedState=Ct=e:Ct=Ct.next=e,Ct}function En(){if(mt===null){var e=tt.alternate;e=e!==null?e.memoizedState:null}else e=mt.next;var n=Ct===null?tt.memoizedState:Ct.next;if(n!==null)Ct=n,mt=e;else{if(e===null)throw Error(q(310));mt=e,e={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},Ct===null?tt.memoizedState=Ct=e:Ct=Ct.next=e}return Ct}function Vs(e,n){return typeof n=="function"?n(e):n}function ma(e){var n=En(),s=n.queue;if(s===null)throw Error(q(311));s.lastRenderedReducer=e;var a=mt,c=a.baseQueue,d=s.pending;if(d!==null){if(c!==null){var x=c.next;c.next=d.next,d.next=x}a.baseQueue=c=d,s.pending=null}if(c!==null){d=c.next,a=a.baseState;var w=x=null,E=null,m=d;do{var b=m.lane;if((Qr&b)===b)E!==null&&(E=E.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),a=m.hasEagerState?m.eagerState:e(a,m.action);else{var S={lane:b,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};E===null?(w=E=S,x=a):E=E.next=S,tt.lanes|=b,qr|=b}m=m.next}while(m!==null&&m!==d);E===null?x=a:E.next=w,Rn(a,n.memoizedState)||(Qt=!0),n.memoizedState=a,n.baseState=x,n.baseQueue=E,s.lastRenderedState=a}if(e=s.interleaved,e!==null){c=e;do d=c.lane,tt.lanes|=d,qr|=d,c=c.next;while(c!==e)}else c===null&&(s.lanes=0);return[n.memoizedState,s.dispatch]}function wa(e){var n=En(),s=n.queue;if(s===null)throw Error(q(311));s.lastRenderedReducer=e;var a=s.dispatch,c=s.pending,d=n.memoizedState;if(c!==null){s.pending=null;var x=c=c.next;do d=e(d,x.action),x=x.next;while(x!==c);Rn(d,n.memoizedState)||(Qt=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),s.lastRenderedState=d}return[d,a]}function Bf(){}function Ff(e,n){var s=tt,a=En(),c=n(),d=!Rn(a.memoizedState,c);if(d&&(a.memoizedState=c,Qt=!0),a=a.queue,nc(Vf.bind(null,s,a,e),[e]),a.getSnapshot!==n||d||Ct!==null&&Ct.memoizedState.tag&1){if(s.flags|=2048,zs(9,Uf.bind(null,s,a,c,n),void 0,null),vt===null)throw Error(q(349));Qr&30||jf(s,n,c)}return c}function jf(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=tt.updateQueue,n===null?(n={lastEffect:null,stores:null},tt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Uf(e,n,s,a){n.value=s,n.getSnapshot=a,zf(n)&&Wf(e)}function Vf(e,n,s){return s(function(){zf(n)&&Wf(e)})}function zf(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Rn(e,s)}catch{return!0}}function Wf(e){var n=$n(e,1);n!==null&&_n(n,e,1,-1)}function _0(e){var n=Un();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:e},n.queue=e,e=e.dispatch=Cx.bind(null,tt,e),[n.memoizedState,e]}function zs(e,n,s,a){return e={tag:e,create:n,destroy:s,deps:a,next:null},n=tt.updateQueue,n===null?(n={lastEffect:null,stores:null},tt.updateQueue=n,n.lastEffect=e.next=e):(s=n.lastEffect,s===null?n.lastEffect=e.next=e:(a=s.next,s.next=e,e.next=a,n.lastEffect=e)),e}function Hf(){return En().memoizedState}function Po(e,n,s,a){var c=Un();tt.flags|=e,c.memoizedState=zs(1|n,s,void 0,a===void 0?null:a)}function Cl(e,n,s,a){var c=En();a=a===void 0?null:a;var d=void 0;if(mt!==null){var x=mt.memoizedState;if(d=x.destroy,a!==null&&$u(a,x.deps)){c.memoizedState=zs(n,s,d,a);return}}tt.flags|=e,c.memoizedState=zs(1|n,s,d,a)}function R0(e,n){return Po(8390656,8,e,n)}function nc(e,n){return Cl(2048,8,e,n)}function Gf(e,n){return Cl(4,2,e,n)}function Xf(e,n){return Cl(4,4,e,n)}function Yf(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Zf(e,n,s){return s=s!=null?s.concat([e]):null,Cl(4,4,Yf.bind(null,n,e),s)}function rc(){}function Kf(e,n){var s=En();n=n===void 0?null:n;var a=s.memoizedState;return a!==null&&n!==null&&$u(n,a[1])?a[0]:(s.memoizedState=[e,n],e)}function Qf(e,n){var s=En();n=n===void 0?null:n;var a=s.memoizedState;return a!==null&&n!==null&&$u(n,a[1])?a[0]:(e=e(),s.memoizedState=[e,n],e)}function qf(e,n,s){return Qr&21?(Rn(s,n)||(s=tf(),tt.lanes|=s,qr|=s,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,Qt=!0),e.memoizedState=s)}function yx(e,n){var s=Pe;Pe=s!==0&&4>s?s:4,e(!0);var a=pa.transition;pa.transition={};try{e(!1),n()}finally{Pe=s,pa.transition=a}}function Jf(){return En().memoizedState}function Ex(e,n,s){var a=Sr(e);if(s={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null},$f(e))ed(n,s);else if(s=Mf(e,n,s,a),s!==null){var c=jt();_n(s,e,a,c),td(s,n,a)}}function Cx(e,n,s){var a=Sr(e),c={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null};if($f(e))ed(n,c);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var x=n.lastRenderedState,w=d(x,s);if(c.hasEagerState=!0,c.eagerState=w,Rn(w,x)){var E=n.interleaved;E===null?(c.next=c,Zu(n)):(c.next=E.next,E.next=c),n.interleaved=c;return}}catch{}finally{}s=Mf(e,n,c,a),s!==null&&(c=jt(),_n(s,e,a,c),td(s,n,a))}}function $f(e){var n=e.alternate;return e===tt||n!==null&&n===tt}function ed(e,n){As=rl=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function td(e,n,s){if(s&4194240){var a=n.lanes;a&=e.pendingLanes,s|=a,n.lanes=s,Mu(e,s)}}var il={readContext:yn,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},vx={readContext:yn,useCallback:function(e,n){return Un().memoizedState=[e,n===void 0?null:n],e},useContext:yn,useEffect:R0,useImperativeHandle:function(e,n,s){return s=s!=null?s.concat([e]):null,Po(4194308,4,Yf.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Po(4194308,4,e,n)},useInsertionEffect:function(e,n){return Po(4,2,e,n)},useMemo:function(e,n){var s=Un();return n=n===void 0?null:n,e=e(),s.memoizedState=[e,n],e},useReducer:function(e,n,s){var a=Un();return n=s!==void 0?s(n):n,a.memoizedState=a.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},a.queue=e,e=e.dispatch=Ex.bind(null,tt,e),[a.memoizedState,e]},useRef:function(e){var n=Un();return e={current:e},n.memoizedState=e},useState:_0,useDebugValue:rc,useDeferredValue:function(e){return Un().memoizedState=e},useTransition:function(){var e=_0(!1),n=e[0];return e=yx.bind(null,e[1]),Un().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,s){var a=tt,c=Un();if(Qe){if(s===void 0)throw Error(q(407));s=s()}else{if(s=n(),vt===null)throw Error(q(349));Qr&30||jf(a,n,s)}c.memoizedState=s;var d={value:s,getSnapshot:n};return c.queue=d,R0(Vf.bind(null,a,d,e),[e]),a.flags|=2048,zs(9,Uf.bind(null,a,d,s,n),void 0,null),s},useId:function(){var e=Un(),n=vt.identifierPrefix;if(Qe){var s=Kn,a=Zn;s=(a&~(1<<32-Tn(a)-1)).toString(32)+s,n=":"+n+"R"+s,s=Us++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=wx++,n=":"+n+"r"+s.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},Ax={readContext:yn,useCallback:Kf,useContext:yn,useEffect:nc,useImperativeHandle:Zf,useInsertionEffect:Gf,useLayoutEffect:Xf,useMemo:Qf,useReducer:ma,useRef:Hf,useState:function(){return ma(Vs)},useDebugValue:rc,useDeferredValue:function(e){var n=En();return qf(n,mt.memoizedState,e)},useTransition:function(){var e=ma(Vs)[0],n=En().memoizedState;return[e,n]},useMutableSource:Bf,useSyncExternalStore:Ff,useId:Jf,unstable_isNewReconciler:!1},Sx={readContext:yn,useCallback:Kf,useContext:yn,useEffect:nc,useImperativeHandle:Zf,useInsertionEffect:Gf,useLayoutEffect:Xf,useMemo:Qf,useReducer:wa,useRef:Hf,useState:function(){return wa(Vs)},useDebugValue:rc,useDeferredValue:function(e){var n=En();return mt===null?n.memoizedState=e:qf(n,mt.memoizedState,e)},useTransition:function(){var e=wa(Vs)[0],n=En().memoizedState;return[e,n]},useMutableSource:Bf,useSyncExternalStore:Ff,useId:Jf,unstable_isNewReconciler:!1};function Nn(e,n){if(e&&e.defaultProps){n=nt({},n),e=e.defaultProps;for(var s in e)n[s]===void 0&&(n[s]=e[s]);return n}return n}function tu(e,n,s,a){n=e.memoizedState,s=s(a,n),s=s==null?n:nt({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var vl={isMounted:function(e){return(e=e._reactInternals)?ei(e)===e:!1},enqueueSetState:function(e,n,s){e=e._reactInternals;var a=jt(),c=Sr(e),d=Qn(a,c);d.payload=n,s!=null&&(d.callback=s),n=vr(e,d,c),n!==null&&(_n(n,e,c,a),ko(n,e,c))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var a=jt(),c=Sr(e),d=Qn(a,c);d.tag=1,d.payload=n,s!=null&&(d.callback=s),n=vr(e,d,c),n!==null&&(_n(n,e,c,a),ko(n,e,c))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=jt(),a=Sr(e),c=Qn(s,a);c.tag=2,n!=null&&(c.callback=n),n=vr(e,c,a),n!==null&&(_n(n,e,a,s),ko(n,e,a))}};function O0(e,n,s,a,c,d,x){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,d,x):n.prototype&&n.prototype.isPureReactComponent?!Ms(s,a)||!Ms(c,d):!0}function nd(e,n,s){var a=!1,c=Tr,d=n.contextType;return typeof d=="object"&&d!==null?d=yn(d):(c=Jt(n)?Zr:Pt.current,a=n.contextTypes,d=(a=a!=null)?Pi(e,c):Tr),n=new n(s,d),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=vl,e.stateNode=n,n._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=d),n}function D0(e,n,s,a){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,a),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,a),n.state!==e&&vl.enqueueReplaceState(n,n.state,null)}function nu(e,n,s,a){var c=e.stateNode;c.props=s,c.state=e.memoizedState,c.refs={},Ku(e);var d=n.contextType;typeof d=="object"&&d!==null?c.context=yn(d):(d=Jt(n)?Zr:Pt.current,c.context=Pi(e,d)),c.state=e.memoizedState,d=n.getDerivedStateFromProps,typeof d=="function"&&(tu(e,n,d,s),c.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(n=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),n!==c.state&&vl.enqueueReplaceState(c,c.state,null),tl(e,s,c,a),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function ji(e,n){try{var s="",a=n;do s+=Jh(a),a=a.return;while(a);var c=s}catch(d){c=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:n,stack:c,digest:null}}function ya(e,n,s){return{value:e,source:null,stack:s??null,digest:n??null}}function ru(e,n){try{console.error(n.value)}catch(s){setTimeout(function(){throw s})}}var Nx=typeof WeakMap=="function"?WeakMap:Map;function rd(e,n,s){s=Qn(-1,s),s.tag=3,s.payload={element:null};var a=n.value;return s.callback=function(){ol||(ol=!0,hu=a),ru(e,n)},s}function id(e,n,s){s=Qn(-1,s),s.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var c=n.value;s.payload=function(){return a(c)},s.callback=function(){ru(e,n)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(s.callback=function(){ru(e,n),typeof a!="function"&&(Ar===null?Ar=new Set([this]):Ar.add(this));var x=n.stack;this.componentDidCatch(n.value,{componentStack:x!==null?x:""})}),s}function k0(e,n,s){var a=e.pingCache;if(a===null){a=e.pingCache=new Nx;var c=new Set;a.set(n,c)}else c=a.get(n),c===void 0&&(c=new Set,a.set(n,c));c.has(s)||(c.add(s),e=jx.bind(null,e,n,s),n.then(e,e))}function M0(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function P0(e,n,s,a,c){return e.mode&1?(e.flags|=65536,e.lanes=c,e):(e===n?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(n=Qn(-1,1),n.tag=2,vr(s,n,1))),s.lanes|=1),e)}var Ix=tr.ReactCurrentOwner,Qt=!1;function Ft(e,n,s,a){n.child=e===null?kf(n,null,s,a):Bi(n,e.child,s,a)}function L0(e,n,s,a,c){s=s.render;var d=n.ref;return Di(n,c),a=ec(e,n,s,a,d,c),s=tc(),e!==null&&!Qt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~c,er(e,n,c)):(Qe&&s&&zu(n),n.flags|=1,Ft(e,n,a,c),n.child)}function B0(e,n,s,a,c){if(e===null){var d=s.type;return typeof d=="function"&&!fc(d)&&d.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(n.tag=15,n.type=d,sd(e,n,d,a,c)):(e=jo(s.type,null,a,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!(e.lanes&c)){var x=d.memoizedProps;if(s=s.compare,s=s!==null?s:Ms,s(x,a)&&e.ref===n.ref)return er(e,n,c)}return n.flags|=1,e=Nr(d,a),e.ref=n.ref,e.return=n,n.child=e}function sd(e,n,s,a,c){if(e!==null){var d=e.memoizedProps;if(Ms(d,a)&&e.ref===n.ref)if(Qt=!1,n.pendingProps=a=d,(e.lanes&c)!==0)e.flags&131072&&(Qt=!0);else return n.lanes=e.lanes,er(e,n,c)}return iu(e,n,s,a,c)}function od(e,n,s){var a=n.pendingProps,c=a.children,d=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(Ii,rn),rn|=s;else{if(!(s&1073741824))return e=d!==null?d.baseLanes|s:s,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Ge(Ii,rn),rn|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=d!==null?d.baseLanes:s,Ge(Ii,rn),rn|=a}else d!==null?(a=d.baseLanes|s,n.memoizedState=null):a=s,Ge(Ii,rn),rn|=a;return Ft(e,n,c,s),n.child}function ld(e,n){var s=n.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(n.flags|=512,n.flags|=2097152)}function iu(e,n,s,a,c){var d=Jt(s)?Zr:Pt.current;return d=Pi(n,d),Di(n,c),s=ec(e,n,s,a,d,c),a=tc(),e!==null&&!Qt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~c,er(e,n,c)):(Qe&&a&&zu(n),n.flags|=1,Ft(e,n,s,c),n.child)}function F0(e,n,s,a,c){if(Jt(s)){var d=!0;Qo(n)}else d=!1;if(Di(n,c),n.stateNode===null)Lo(e,n),nd(n,s,a),nu(n,s,a,c),a=!0;else if(e===null){var x=n.stateNode,w=n.memoizedProps;x.props=w;var E=x.context,m=s.contextType;typeof m=="object"&&m!==null?m=yn(m):(m=Jt(s)?Zr:Pt.current,m=Pi(n,m));var b=s.getDerivedStateFromProps,S=typeof b=="function"||typeof x.getSnapshotBeforeUpdate=="function";S||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(w!==a||E!==m)&&D0(n,x,a,m),fr=!1;var k=n.memoizedState;x.state=k,tl(n,a,x,c),E=n.memoizedState,w!==a||k!==E||qt.current||fr?(typeof b=="function"&&(tu(n,s,b,a),E=n.memoizedState),(w=fr||O0(n,s,w,a,k,E,m))?(S||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(n.flags|=4194308)):(typeof x.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=a,n.memoizedState=E),x.props=a,x.state=E,x.context=m,a=w):(typeof x.componentDidMount=="function"&&(n.flags|=4194308),a=!1)}else{x=n.stateNode,Pf(e,n),w=n.memoizedProps,m=n.type===n.elementType?w:Nn(n.type,w),x.props=m,S=n.pendingProps,k=x.context,E=s.contextType,typeof E=="object"&&E!==null?E=yn(E):(E=Jt(s)?Zr:Pt.current,E=Pi(n,E));var F=s.getDerivedStateFromProps;(b=typeof F=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(w!==S||k!==E)&&D0(n,x,a,E),fr=!1,k=n.memoizedState,x.state=k,tl(n,a,x,c);var H=n.memoizedState;w!==S||k!==H||qt.current||fr?(typeof F=="function"&&(tu(n,s,F,a),H=n.memoizedState),(m=fr||O0(n,s,m,a,k,H,E)||!1)?(b||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(a,H,E),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(a,H,E)),typeof x.componentDidUpdate=="function"&&(n.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof x.componentDidUpdate!="function"||w===e.memoizedProps&&k===e.memoizedState||(n.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&k===e.memoizedState||(n.flags|=1024),n.memoizedProps=a,n.memoizedState=H),x.props=a,x.state=H,x.context=E,a=m):(typeof x.componentDidUpdate!="function"||w===e.memoizedProps&&k===e.memoizedState||(n.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&k===e.memoizedState||(n.flags|=1024),a=!1)}return su(e,n,s,a,d,c)}function su(e,n,s,a,c,d){ld(e,n);var x=(n.flags&128)!==0;if(!a&&!x)return c&&A0(n,s,!1),er(e,n,d);a=n.stateNode,Ix.current=n;var w=x&&typeof s.getDerivedStateFromError!="function"?null:a.render();return n.flags|=1,e!==null&&x?(n.child=Bi(n,e.child,null,d),n.child=Bi(n,null,w,d)):Ft(e,n,w,d),n.memoizedState=a.state,c&&A0(n,s,!0),n.child}function ad(e){var n=e.stateNode;n.pendingContext?v0(e,n.pendingContext,n.pendingContext!==n.context):n.context&&v0(e,n.context,!1),Qu(e,n.containerInfo)}function j0(e,n,s,a,c){return Li(),Hu(c),n.flags|=256,Ft(e,n,s,a),n.child}var ou={dehydrated:null,treeContext:null,retryLane:0};function lu(e){return{baseLanes:e,cachePool:null,transitions:null}}function ud(e,n,s){var a=n.pendingProps,c=et.current,d=!1,x=(n.flags&128)!==0,w;if((w=x)||(w=e!==null&&e.memoizedState===null?!1:(c&2)!==0),w?(d=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),Ge(et,c&1),e===null)return $a(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(x=a.children,e=a.fallback,d?(a=n.mode,d=n.child,x={mode:"hidden",children:x},!(a&1)&&d!==null?(d.childLanes=0,d.pendingProps=x):d=Nl(x,a,0,null),e=Yr(e,a,s,null),d.return=n,e.return=n,d.sibling=e,n.child=d,n.child.memoizedState=lu(s),n.memoizedState=ou,e):ic(n,x));if(c=e.memoizedState,c!==null&&(w=c.dehydrated,w!==null))return bx(e,n,x,a,w,c,s);if(d){d=a.fallback,x=n.mode,c=e.child,w=c.sibling;var E={mode:"hidden",children:a.children};return!(x&1)&&n.child!==c?(a=n.child,a.childLanes=0,a.pendingProps=E,n.deletions=null):(a=Nr(c,E),a.subtreeFlags=c.subtreeFlags&14680064),w!==null?d=Nr(w,d):(d=Yr(d,x,s,null),d.flags|=2),d.return=n,a.return=n,a.sibling=d,n.child=a,a=d,d=n.child,x=e.child.memoizedState,x=x===null?lu(s):{baseLanes:x.baseLanes|s,cachePool:null,transitions:x.transitions},d.memoizedState=x,d.childLanes=e.childLanes&~s,n.memoizedState=ou,a}return d=e.child,e=d.sibling,a=Nr(d,{mode:"visible",children:a.children}),!(n.mode&1)&&(a.lanes=s),a.return=n,a.sibling=null,e!==null&&(s=n.deletions,s===null?(n.deletions=[e],n.flags|=16):s.push(e)),n.child=a,n.memoizedState=null,a}function ic(e,n){return n=Nl({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function So(e,n,s,a){return a!==null&&Hu(a),Bi(n,e.child,null,s),e=ic(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function bx(e,n,s,a,c,d,x){if(s)return n.flags&256?(n.flags&=-257,a=ya(Error(q(422))),So(e,n,x,a)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(d=a.fallback,c=n.mode,a=Nl({mode:"visible",children:a.children},c,0,null),d=Yr(d,c,x,null),d.flags|=2,a.return=n,d.return=n,a.sibling=d,n.child=a,n.mode&1&&Bi(n,e.child,null,x),n.child.memoizedState=lu(x),n.memoizedState=ou,d);if(!(n.mode&1))return So(e,n,x,null);if(c.data==="$!"){if(a=c.nextSibling&&c.nextSibling.dataset,a)var w=a.dgst;return a=w,d=Error(q(419)),a=ya(d,a,void 0),So(e,n,x,a)}if(w=(x&e.childLanes)!==0,Qt||w){if(a=vt,a!==null){switch(x&-x){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=c&(a.suspendedLanes|x)?0:c,c!==0&&c!==d.retryLane&&(d.retryLane=c,$n(e,c),_n(a,e,c,-1))}return cc(),a=ya(Error(q(421))),So(e,n,x,a)}return c.data==="$?"?(n.flags|=128,n.child=e.child,n=Ux.bind(null,e),c._reactRetry=n,null):(e=d.treeContext,sn=Cr(c.nextSibling),on=n,Qe=!0,bn=null,e!==null&&(xn[pn++]=Zn,xn[pn++]=Kn,xn[pn++]=Kr,Zn=e.id,Kn=e.overflow,Kr=n),n=ic(n,a.children),n.flags|=4096,n)}function U0(e,n,s){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n),eu(e.return,n,s)}function Ea(e,n,s,a,c){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:a,tail:s,tailMode:c}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=a,d.tail=s,d.tailMode=c)}function cd(e,n,s){var a=n.pendingProps,c=a.revealOrder,d=a.tail;if(Ft(e,n,a.children,s),a=et.current,a&2)a=a&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&U0(e,s,n);else if(e.tag===19)U0(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Ge(et,a),!(n.mode&1))n.memoizedState=null;else switch(c){case"forwards":for(s=n.child,c=null;s!==null;)e=s.alternate,e!==null&&nl(e)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),Ea(n,!1,c,s,d);break;case"backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&nl(e)===null){n.child=c;break}e=c.sibling,c.sibling=s,s=c,c=e}Ea(n,!0,s,null,d);break;case"together":Ea(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Lo(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function er(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),qr|=n.lanes,!(s&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(q(153));if(n.child!==null){for(e=n.child,s=Nr(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Nr(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Tx(e,n,s){switch(n.tag){case 3:ad(n),Li();break;case 5:Lf(n);break;case 1:Jt(n.type)&&Qo(n);break;case 4:Qu(n,n.stateNode.containerInfo);break;case 10:var a=n.type._context,c=n.memoizedProps.value;Ge($o,a._currentValue),a._currentValue=c;break;case 13:if(a=n.memoizedState,a!==null)return a.dehydrated!==null?(Ge(et,et.current&1),n.flags|=128,null):s&n.child.childLanes?ud(e,n,s):(Ge(et,et.current&1),e=er(e,n,s),e!==null?e.sibling:null);Ge(et,et.current&1);break;case 19:if(a=(s&n.childLanes)!==0,e.flags&128){if(a)return cd(e,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Ge(et,et.current),a)break;return null;case 22:case 23:return n.lanes=0,od(e,n,s)}return er(e,n,s)}var fd,au,dd,hd;fd=function(e,n){for(var s=n.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};au=function(){};dd=function(e,n,s,a){var c=e.memoizedProps;if(c!==a){e=n.stateNode,Gr(Wn.current);var d=null;switch(s){case"input":c=Ra(e,c),a=Ra(e,a),d=[];break;case"select":c=nt({},c,{value:void 0}),a=nt({},a,{value:void 0}),d=[];break;case"textarea":c=ka(e,c),a=ka(e,a),d=[];break;default:typeof c.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=Zo)}Pa(s,a);var x;s=null;for(m in c)if(!a.hasOwnProperty(m)&&c.hasOwnProperty(m)&&c[m]!=null)if(m==="style"){var w=c[m];for(x in w)w.hasOwnProperty(x)&&(s||(s={}),s[x]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(bs.hasOwnProperty(m)?d||(d=[]):(d=d||[]).push(m,null));for(m in a){var E=a[m];if(w=c!=null?c[m]:void 0,a.hasOwnProperty(m)&&E!==w&&(E!=null||w!=null))if(m==="style")if(w){for(x in w)!w.hasOwnProperty(x)||E&&E.hasOwnProperty(x)||(s||(s={}),s[x]="");for(x in E)E.hasOwnProperty(x)&&w[x]!==E[x]&&(s||(s={}),s[x]=E[x])}else s||(d||(d=[]),d.push(m,s)),s=E;else m==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,w=w?w.__html:void 0,E!=null&&w!==E&&(d=d||[]).push(m,E)):m==="children"?typeof E!="string"&&typeof E!="number"||(d=d||[]).push(m,""+E):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(bs.hasOwnProperty(m)?(E!=null&&m==="onScroll"&&Ye("scroll",e),d||w===E||(d=[])):(d=d||[]).push(m,E))}s&&(d=d||[]).push("style",s);var m=d;(n.updateQueue=m)&&(n.flags|=4)}};hd=function(e,n,s,a){s!==a&&(n.flags|=4)};function ds(e,n){if(!Qe)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function kt(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,a=0;if(n)for(var c=e.child;c!==null;)s|=c.lanes|c.childLanes,a|=c.subtreeFlags&14680064,a|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)s|=c.lanes|c.childLanes,a|=c.subtreeFlags,a|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=a,e.childLanes=s,n}function _x(e,n,s){var a=n.pendingProps;switch(Wu(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(n),null;case 1:return Jt(n.type)&&Ko(),kt(n),null;case 3:return a=n.stateNode,Fi(),Ze(qt),Ze(Pt),Ju(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(vo(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,bn!==null&&(pu(bn),bn=null))),au(e,n),kt(n),null;case 5:qu(n);var c=Gr(js.current);if(s=n.type,e!==null&&n.stateNode!=null)dd(e,n,s,a,c),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!a){if(n.stateNode===null)throw Error(q(166));return kt(n),null}if(e=Gr(Wn.current),vo(n)){a=n.stateNode,s=n.type;var d=n.memoizedProps;switch(a[Vn]=n,a[Bs]=d,e=(n.mode&1)!==0,s){case"dialog":Ye("cancel",a),Ye("close",a);break;case"iframe":case"object":case"embed":Ye("load",a);break;case"video":case"audio":for(c=0;c<ms.length;c++)Ye(ms[c],a);break;case"source":Ye("error",a);break;case"img":case"image":case"link":Ye("error",a),Ye("load",a);break;case"details":Ye("toggle",a);break;case"input":Kc(a,d),Ye("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!d.multiple},Ye("invalid",a);break;case"textarea":qc(a,d),Ye("invalid",a)}Pa(s,d),c=null;for(var x in d)if(d.hasOwnProperty(x)){var w=d[x];x==="children"?typeof w=="string"?a.textContent!==w&&(d.suppressHydrationWarning!==!0&&Co(a.textContent,w,e),c=["children",w]):typeof w=="number"&&a.textContent!==""+w&&(d.suppressHydrationWarning!==!0&&Co(a.textContent,w,e),c=["children",""+w]):bs.hasOwnProperty(x)&&w!=null&&x==="onScroll"&&Ye("scroll",a)}switch(s){case"input":ho(a),Qc(a,d,!0);break;case"textarea":ho(a),Jc(a);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(a.onclick=Zo)}a=c,n.updateQueue=a,a!==null&&(n.flags|=4)}else{x=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=U1(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=x.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=x.createElement(s,{is:a.is}):(e=x.createElement(s),s==="select"&&(x=e,a.multiple?x.multiple=!0:a.size&&(x.size=a.size))):e=x.createElementNS(e,s),e[Vn]=n,e[Bs]=a,fd(e,n,!1,!1),n.stateNode=e;e:{switch(x=La(s,a),s){case"dialog":Ye("cancel",e),Ye("close",e),c=a;break;case"iframe":case"object":case"embed":Ye("load",e),c=a;break;case"video":case"audio":for(c=0;c<ms.length;c++)Ye(ms[c],e);c=a;break;case"source":Ye("error",e),c=a;break;case"img":case"image":case"link":Ye("error",e),Ye("load",e),c=a;break;case"details":Ye("toggle",e),c=a;break;case"input":Kc(e,a),c=Ra(e,a),Ye("invalid",e);break;case"option":c=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},c=nt({},a,{value:void 0}),Ye("invalid",e);break;case"textarea":qc(e,a),c=ka(e,a),Ye("invalid",e);break;default:c=a}Pa(s,c),w=c;for(d in w)if(w.hasOwnProperty(d)){var E=w[d];d==="style"?W1(e,E):d==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,E!=null&&V1(e,E)):d==="children"?typeof E=="string"?(s!=="textarea"||E!=="")&&Ts(e,E):typeof E=="number"&&Ts(e,""+E):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(bs.hasOwnProperty(d)?E!=null&&d==="onScroll"&&Ye("scroll",e):E!=null&&Tu(e,d,E,x))}switch(s){case"input":ho(e),Qc(e,a,!1);break;case"textarea":ho(e),Jc(e);break;case"option":a.value!=null&&e.setAttribute("value",""+br(a.value));break;case"select":e.multiple=!!a.multiple,d=a.value,d!=null?Ti(e,!!a.multiple,d,!1):a.defaultValue!=null&&Ti(e,!!a.multiple,a.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=Zo)}switch(s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return kt(n),null;case 6:if(e&&n.stateNode!=null)hd(e,n,e.memoizedProps,a);else{if(typeof a!="string"&&n.stateNode===null)throw Error(q(166));if(s=Gr(js.current),Gr(Wn.current),vo(n)){if(a=n.stateNode,s=n.memoizedProps,a[Vn]=n,(d=a.nodeValue!==s)&&(e=on,e!==null))switch(e.tag){case 3:Co(a.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Co(a.nodeValue,s,(e.mode&1)!==0)}d&&(n.flags|=4)}else a=(s.nodeType===9?s:s.ownerDocument).createTextNode(a),a[Vn]=n,n.stateNode=a}return kt(n),null;case 13:if(Ze(et),a=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Qe&&sn!==null&&n.mode&1&&!(n.flags&128))Of(),Li(),n.flags|=98560,d=!1;else if(d=vo(n),a!==null&&a.dehydrated!==null){if(e===null){if(!d)throw Error(q(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(q(317));d[Vn]=n}else Li(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;kt(n),d=!1}else bn!==null&&(pu(bn),bn=null),d=!0;if(!d)return n.flags&65536?n:null}return n.flags&128?(n.lanes=s,n):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(n.child.flags|=8192,n.mode&1&&(e===null||et.current&1?wt===0&&(wt=3):cc())),n.updateQueue!==null&&(n.flags|=4),kt(n),null);case 4:return Fi(),au(e,n),e===null&&Ps(n.stateNode.containerInfo),kt(n),null;case 10:return Yu(n.type._context),kt(n),null;case 17:return Jt(n.type)&&Ko(),kt(n),null;case 19:if(Ze(et),d=n.memoizedState,d===null)return kt(n),null;if(a=(n.flags&128)!==0,x=d.rendering,x===null)if(a)ds(d,!1);else{if(wt!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(x=nl(e),x!==null){for(n.flags|=128,ds(d,!1),a=x.updateQueue,a!==null&&(n.updateQueue=a,n.flags|=4),n.subtreeFlags=0,a=s,s=n.child;s!==null;)d=s,e=a,d.flags&=14680066,x=d.alternate,x===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=x.childLanes,d.lanes=x.lanes,d.child=x.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=x.memoizedProps,d.memoizedState=x.memoizedState,d.updateQueue=x.updateQueue,d.type=x.type,e=x.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return Ge(et,et.current&1|2),n.child}e=e.sibling}d.tail!==null&&ct()>Ui&&(n.flags|=128,a=!0,ds(d,!1),n.lanes=4194304)}else{if(!a)if(e=nl(x),e!==null){if(n.flags|=128,a=!0,s=e.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),ds(d,!0),d.tail===null&&d.tailMode==="hidden"&&!x.alternate&&!Qe)return kt(n),null}else 2*ct()-d.renderingStartTime>Ui&&s!==1073741824&&(n.flags|=128,a=!0,ds(d,!1),n.lanes=4194304);d.isBackwards?(x.sibling=n.child,n.child=x):(s=d.last,s!==null?s.sibling=x:n.child=x,d.last=x)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=ct(),n.sibling=null,s=et.current,Ge(et,a?s&1|2:s&1),n):(kt(n),null);case 22:case 23:return uc(),a=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(n.flags|=8192),a&&n.mode&1?rn&1073741824&&(kt(n),n.subtreeFlags&6&&(n.flags|=8192)):kt(n),null;case 24:return null;case 25:return null}throw Error(q(156,n.tag))}function Rx(e,n){switch(Wu(n),n.tag){case 1:return Jt(n.type)&&Ko(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Fi(),Ze(qt),Ze(Pt),Ju(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return qu(n),null;case 13:if(Ze(et),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(q(340));Li()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Ze(et),null;case 4:return Fi(),null;case 10:return Yu(n.type._context),null;case 22:case 23:return uc(),null;case 24:return null;default:return null}}var No=!1,Mt=!1,Ox=typeof WeakSet=="function"?WeakSet:Set,se=null;function Ni(e,n){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(a){at(e,n,a)}else s.current=null}function uu(e,n,s){try{s()}catch(a){at(e,n,a)}}var V0=!1;function Dx(e,n){if(Xa=Go,e=wf(),Vu(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var a=s.getSelection&&s.getSelection();if(a&&a.rangeCount!==0){s=a.anchorNode;var c=a.anchorOffset,d=a.focusNode;a=a.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var x=0,w=-1,E=-1,m=0,b=0,S=e,k=null;t:for(;;){for(var F;S!==s||c!==0&&S.nodeType!==3||(w=x+c),S!==d||a!==0&&S.nodeType!==3||(E=x+a),S.nodeType===3&&(x+=S.nodeValue.length),(F=S.firstChild)!==null;)k=S,S=F;for(;;){if(S===e)break t;if(k===s&&++m===c&&(w=x),k===d&&++b===a&&(E=x),(F=S.nextSibling)!==null)break;S=k,k=S.parentNode}S=F}s=w===-1||E===-1?null:{start:w,end:E}}else s=null}s=s||{start:0,end:0}}else s=null;for(Ya={focusedElem:e,selectionRange:s},Go=!1,se=n;se!==null;)if(n=se,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,se=e;else for(;se!==null;){n=se;try{var H=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(H!==null){var M=H.memoizedProps,G=H.memoizedState,R=n.stateNode,T=R.getSnapshotBeforeUpdate(n.elementType===n.type?M:Nn(n.type,M),G);R.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var _=n.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(V){at(n,n.return,V)}if(e=n.sibling,e!==null){e.return=n.return,se=e;break}se=n.return}return H=V0,V0=!1,H}function Ss(e,n,s){var a=n.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&e)===e){var d=c.destroy;c.destroy=void 0,d!==void 0&&uu(n,s,d)}c=c.next}while(c!==a)}}function Al(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.create;s.destroy=a()}s=s.next}while(s!==n)}}function cu(e){var n=e.ref;if(n!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof n=="function"?n(e):n.current=e}}function gd(e){var n=e.alternate;n!==null&&(e.alternate=null,gd(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Vn],delete n[Bs],delete n[Qa],delete n[gx],delete n[xx])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function xd(e){return e.tag===5||e.tag===3||e.tag===4}function z0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||xd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function fu(e,n,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(e,n):s.insertBefore(e,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(e,s)):(n=s,n.appendChild(e)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Zo));else if(a!==4&&(e=e.child,e!==null))for(fu(e,n,s),e=e.sibling;e!==null;)fu(e,n,s),e=e.sibling}function du(e,n,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(du(e,n,s),e=e.sibling;e!==null;)du(e,n,s),e=e.sibling}var bt=null,In=!1;function ur(e,n,s){for(s=s.child;s!==null;)pd(e,n,s),s=s.sibling}function pd(e,n,s){if(zn&&typeof zn.onCommitFiberUnmount=="function")try{zn.onCommitFiberUnmount(xl,s)}catch{}switch(s.tag){case 5:Mt||Ni(s,n);case 6:var a=bt,c=In;bt=null,ur(e,n,s),bt=a,In=c,bt!==null&&(In?(e=bt,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):bt.removeChild(s.stateNode));break;case 18:bt!==null&&(In?(e=bt,s=s.stateNode,e.nodeType===8?ha(e.parentNode,s):e.nodeType===1&&ha(e,s),Ds(e)):ha(bt,s.stateNode));break;case 4:a=bt,c=In,bt=s.stateNode.containerInfo,In=!0,ur(e,n,s),bt=a,In=c;break;case 0:case 11:case 14:case 15:if(!Mt&&(a=s.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){c=a=a.next;do{var d=c,x=d.destroy;d=d.tag,x!==void 0&&(d&2||d&4)&&uu(s,n,x),c=c.next}while(c!==a)}ur(e,n,s);break;case 1:if(!Mt&&(Ni(s,n),a=s.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=s.memoizedProps,a.state=s.memoizedState,a.componentWillUnmount()}catch(w){at(s,n,w)}ur(e,n,s);break;case 21:ur(e,n,s);break;case 22:s.mode&1?(Mt=(a=Mt)||s.memoizedState!==null,ur(e,n,s),Mt=a):ur(e,n,s);break;default:ur(e,n,s)}}function W0(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new Ox),n.forEach(function(a){var c=Vx.bind(null,e,a);s.has(a)||(s.add(a),a.then(c,c))})}}function Sn(e,n){var s=n.deletions;if(s!==null)for(var a=0;a<s.length;a++){var c=s[a];try{var d=e,x=n,w=x;e:for(;w!==null;){switch(w.tag){case 5:bt=w.stateNode,In=!1;break e;case 3:bt=w.stateNode.containerInfo,In=!0;break e;case 4:bt=w.stateNode.containerInfo,In=!0;break e}w=w.return}if(bt===null)throw Error(q(160));pd(d,x,c),bt=null,In=!1;var E=c.alternate;E!==null&&(E.return=null),c.return=null}catch(m){at(c,n,m)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)md(n,e),n=n.sibling}function md(e,n){var s=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Sn(n,e),jn(e),a&4){try{Ss(3,e,e.return),Al(3,e)}catch(M){at(e,e.return,M)}try{Ss(5,e,e.return)}catch(M){at(e,e.return,M)}}break;case 1:Sn(n,e),jn(e),a&512&&s!==null&&Ni(s,s.return);break;case 5:if(Sn(n,e),jn(e),a&512&&s!==null&&Ni(s,s.return),e.flags&32){var c=e.stateNode;try{Ts(c,"")}catch(M){at(e,e.return,M)}}if(a&4&&(c=e.stateNode,c!=null)){var d=e.memoizedProps,x=s!==null?s.memoizedProps:d,w=e.type,E=e.updateQueue;if(e.updateQueue=null,E!==null)try{w==="input"&&d.type==="radio"&&d.name!=null&&F1(c,d),La(w,x);var m=La(w,d);for(x=0;x<E.length;x+=2){var b=E[x],S=E[x+1];b==="style"?W1(c,S):b==="dangerouslySetInnerHTML"?V1(c,S):b==="children"?Ts(c,S):Tu(c,b,S,m)}switch(w){case"input":Oa(c,d);break;case"textarea":j1(c,d);break;case"select":var k=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!d.multiple;var F=d.value;F!=null?Ti(c,!!d.multiple,F,!1):k!==!!d.multiple&&(d.defaultValue!=null?Ti(c,!!d.multiple,d.defaultValue,!0):Ti(c,!!d.multiple,d.multiple?[]:"",!1))}c[Bs]=d}catch(M){at(e,e.return,M)}}break;case 6:if(Sn(n,e),jn(e),a&4){if(e.stateNode===null)throw Error(q(162));c=e.stateNode,d=e.memoizedProps;try{c.nodeValue=d}catch(M){at(e,e.return,M)}}break;case 3:if(Sn(n,e),jn(e),a&4&&s!==null&&s.memoizedState.isDehydrated)try{Ds(n.containerInfo)}catch(M){at(e,e.return,M)}break;case 4:Sn(n,e),jn(e);break;case 13:Sn(n,e),jn(e),c=e.child,c.flags&8192&&(d=c.memoizedState!==null,c.stateNode.isHidden=d,!d||c.alternate!==null&&c.alternate.memoizedState!==null||(lc=ct())),a&4&&W0(e);break;case 22:if(b=s!==null&&s.memoizedState!==null,e.mode&1?(Mt=(m=Mt)||b,Sn(n,e),Mt=m):Sn(n,e),jn(e),a&8192){if(m=e.memoizedState!==null,(e.stateNode.isHidden=m)&&!b&&e.mode&1)for(se=e,b=e.child;b!==null;){for(S=se=b;se!==null;){switch(k=se,F=k.child,k.tag){case 0:case 11:case 14:case 15:Ss(4,k,k.return);break;case 1:Ni(k,k.return);var H=k.stateNode;if(typeof H.componentWillUnmount=="function"){a=k,s=k.return;try{n=a,H.props=n.memoizedProps,H.state=n.memoizedState,H.componentWillUnmount()}catch(M){at(a,s,M)}}break;case 5:Ni(k,k.return);break;case 22:if(k.memoizedState!==null){G0(S);continue}}F!==null?(F.return=k,se=F):G0(S)}b=b.sibling}e:for(b=null,S=e;;){if(S.tag===5){if(b===null){b=S;try{c=S.stateNode,m?(d=c.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(w=S.stateNode,E=S.memoizedProps.style,x=E!=null&&E.hasOwnProperty("display")?E.display:null,w.style.display=z1("display",x))}catch(M){at(e,e.return,M)}}}else if(S.tag===6){if(b===null)try{S.stateNode.nodeValue=m?"":S.memoizedProps}catch(M){at(e,e.return,M)}}else if((S.tag!==22&&S.tag!==23||S.memoizedState===null||S===e)&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===e)break e;for(;S.sibling===null;){if(S.return===null||S.return===e)break e;b===S&&(b=null),S=S.return}b===S&&(b=null),S.sibling.return=S.return,S=S.sibling}}break;case 19:Sn(n,e),jn(e),a&4&&W0(e);break;case 21:break;default:Sn(n,e),jn(e)}}function jn(e){var n=e.flags;if(n&2){try{e:{for(var s=e.return;s!==null;){if(xd(s)){var a=s;break e}s=s.return}throw Error(q(160))}switch(a.tag){case 5:var c=a.stateNode;a.flags&32&&(Ts(c,""),a.flags&=-33);var d=z0(e);du(e,d,c);break;case 3:case 4:var x=a.stateNode.containerInfo,w=z0(e);fu(e,w,x);break;default:throw Error(q(161))}}catch(E){at(e,e.return,E)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function kx(e,n,s){se=e,wd(e)}function wd(e,n,s){for(var a=(e.mode&1)!==0;se!==null;){var c=se,d=c.child;if(c.tag===22&&a){var x=c.memoizedState!==null||No;if(!x){var w=c.alternate,E=w!==null&&w.memoizedState!==null||Mt;w=No;var m=Mt;if(No=x,(Mt=E)&&!m)for(se=c;se!==null;)x=se,E=x.child,x.tag===22&&x.memoizedState!==null?X0(c):E!==null?(E.return=x,se=E):X0(c);for(;d!==null;)se=d,wd(d),d=d.sibling;se=c,No=w,Mt=m}H0(e)}else c.subtreeFlags&8772&&d!==null?(d.return=c,se=d):H0(e)}}function H0(e){for(;se!==null;){var n=se;if(n.flags&8772){var s=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:Mt||Al(5,n);break;case 1:var a=n.stateNode;if(n.flags&4&&!Mt)if(s===null)a.componentDidMount();else{var c=n.elementType===n.type?s.memoizedProps:Nn(n.type,s.memoizedProps);a.componentDidUpdate(c,s.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var d=n.updateQueue;d!==null&&T0(n,d,a);break;case 3:var x=n.updateQueue;if(x!==null){if(s=null,n.child!==null)switch(n.child.tag){case 5:s=n.child.stateNode;break;case 1:s=n.child.stateNode}T0(n,x,s)}break;case 5:var w=n.stateNode;if(s===null&&n.flags&4){s=w;var E=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":E.autoFocus&&s.focus();break;case"img":E.src&&(s.src=E.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var m=n.alternate;if(m!==null){var b=m.memoizedState;if(b!==null){var S=b.dehydrated;S!==null&&Ds(S)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}Mt||n.flags&512&&cu(n)}catch(k){at(n,n.return,k)}}if(n===e){se=null;break}if(s=n.sibling,s!==null){s.return=n.return,se=s;break}se=n.return}}function G0(e){for(;se!==null;){var n=se;if(n===e){se=null;break}var s=n.sibling;if(s!==null){s.return=n.return,se=s;break}se=n.return}}function X0(e){for(;se!==null;){var n=se;try{switch(n.tag){case 0:case 11:case 15:var s=n.return;try{Al(4,n)}catch(E){at(n,s,E)}break;case 1:var a=n.stateNode;if(typeof a.componentDidMount=="function"){var c=n.return;try{a.componentDidMount()}catch(E){at(n,c,E)}}var d=n.return;try{cu(n)}catch(E){at(n,d,E)}break;case 5:var x=n.return;try{cu(n)}catch(E){at(n,x,E)}}}catch(E){at(n,n.return,E)}if(n===e){se=null;break}var w=n.sibling;if(w!==null){w.return=n.return,se=w;break}se=n.return}}var Mx=Math.ceil,sl=tr.ReactCurrentDispatcher,sc=tr.ReactCurrentOwner,wn=tr.ReactCurrentBatchConfig,Re=0,vt=null,ht=null,Tt=0,rn=0,Ii=Rr(0),wt=0,Ws=null,qr=0,Sl=0,oc=0,Ns=null,Kt=null,lc=0,Ui=1/0,Xn=null,ol=!1,hu=null,Ar=null,Io=!1,pr=null,ll=0,Is=0,gu=null,Bo=-1,Fo=0;function jt(){return Re&6?ct():Bo!==-1?Bo:Bo=ct()}function Sr(e){return e.mode&1?Re&2&&Tt!==0?Tt&-Tt:mx.transition!==null?(Fo===0&&(Fo=tf()),Fo):(e=Pe,e!==0||(e=window.event,e=e===void 0?16:uf(e.type)),e):1}function _n(e,n,s,a){if(50<Is)throw Is=0,gu=null,Error(q(185));Ys(e,s,a),(!(Re&2)||e!==vt)&&(e===vt&&(!(Re&2)&&(Sl|=s),wt===4&&hr(e,Tt)),$t(e,a),s===1&&Re===0&&!(n.mode&1)&&(Ui=ct()+500,El&&Or()))}function $t(e,n){var s=e.callbackNode;mg(e,n);var a=Ho(e,e===vt?Tt:0);if(a===0)s!==null&&t0(s),e.callbackNode=null,e.callbackPriority=0;else if(n=a&-a,e.callbackPriority!==n){if(s!=null&&t0(s),n===1)e.tag===0?px(Y0.bind(null,e)):Tf(Y0.bind(null,e)),dx(function(){!(Re&6)&&Or()}),s=null;else{switch(nf(a)){case 1:s=ku;break;case 4:s=$1;break;case 16:s=Wo;break;case 536870912:s=ef;break;default:s=Wo}s=Id(s,yd.bind(null,e))}e.callbackPriority=n,e.callbackNode=s}}function yd(e,n){if(Bo=-1,Fo=0,Re&6)throw Error(q(327));var s=e.callbackNode;if(ki()&&e.callbackNode!==s)return null;var a=Ho(e,e===vt?Tt:0);if(a===0)return null;if(a&30||a&e.expiredLanes||n)n=al(e,a);else{n=a;var c=Re;Re|=2;var d=Cd();(vt!==e||Tt!==n)&&(Xn=null,Ui=ct()+500,Xr(e,n));do try{Bx();break}catch(w){Ed(e,w)}while(!0);Xu(),sl.current=d,Re=c,ht!==null?n=0:(vt=null,Tt=0,n=wt)}if(n!==0){if(n===2&&(c=Va(e),c!==0&&(a=c,n=xu(e,c))),n===1)throw s=Ws,Xr(e,0),hr(e,a),$t(e,ct()),s;if(n===6)hr(e,a);else{if(c=e.current.alternate,!(a&30)&&!Px(c)&&(n=al(e,a),n===2&&(d=Va(e),d!==0&&(a=d,n=xu(e,d))),n===1))throw s=Ws,Xr(e,0),hr(e,a),$t(e,ct()),s;switch(e.finishedWork=c,e.finishedLanes=a,n){case 0:case 1:throw Error(q(345));case 2:zr(e,Kt,Xn);break;case 3:if(hr(e,a),(a&130023424)===a&&(n=lc+500-ct(),10<n)){if(Ho(e,0)!==0)break;if(c=e.suspendedLanes,(c&a)!==a){jt(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=Ka(zr.bind(null,e,Kt,Xn),n);break}zr(e,Kt,Xn);break;case 4:if(hr(e,a),(a&4194240)===a)break;for(n=e.eventTimes,c=-1;0<a;){var x=31-Tn(a);d=1<<x,x=n[x],x>c&&(c=x),a&=~d}if(a=c,a=ct()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Mx(a/1960))-a,10<a){e.timeoutHandle=Ka(zr.bind(null,e,Kt,Xn),a);break}zr(e,Kt,Xn);break;case 5:zr(e,Kt,Xn);break;default:throw Error(q(329))}}}return $t(e,ct()),e.callbackNode===s?yd.bind(null,e):null}function xu(e,n){var s=Ns;return e.current.memoizedState.isDehydrated&&(Xr(e,n).flags|=256),e=al(e,n),e!==2&&(n=Kt,Kt=s,n!==null&&pu(n)),e}function pu(e){Kt===null?Kt=e:Kt.push.apply(Kt,e)}function Px(e){for(var n=e;;){if(n.flags&16384){var s=n.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var a=0;a<s.length;a++){var c=s[a],d=c.getSnapshot;c=c.value;try{if(!Rn(d(),c))return!1}catch{return!1}}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function hr(e,n){for(n&=~oc,n&=~Sl,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var s=31-Tn(n),a=1<<s;e[s]=-1,n&=~a}}function Y0(e){if(Re&6)throw Error(q(327));ki();var n=Ho(e,0);if(!(n&1))return $t(e,ct()),null;var s=al(e,n);if(e.tag!==0&&s===2){var a=Va(e);a!==0&&(n=a,s=xu(e,a))}if(s===1)throw s=Ws,Xr(e,0),hr(e,n),$t(e,ct()),s;if(s===6)throw Error(q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,zr(e,Kt,Xn),$t(e,ct()),null}function ac(e,n){var s=Re;Re|=1;try{return e(n)}finally{Re=s,Re===0&&(Ui=ct()+500,El&&Or())}}function Jr(e){pr!==null&&pr.tag===0&&!(Re&6)&&ki();var n=Re;Re|=1;var s=wn.transition,a=Pe;try{if(wn.transition=null,Pe=1,e)return e()}finally{Pe=a,wn.transition=s,Re=n,!(Re&6)&&Or()}}function uc(){rn=Ii.current,Ze(Ii)}function Xr(e,n){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,fx(s)),ht!==null)for(s=ht.return;s!==null;){var a=s;switch(Wu(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&Ko();break;case 3:Fi(),Ze(qt),Ze(Pt),Ju();break;case 5:qu(a);break;case 4:Fi();break;case 13:Ze(et);break;case 19:Ze(et);break;case 10:Yu(a.type._context);break;case 22:case 23:uc()}s=s.return}if(vt=e,ht=e=Nr(e.current,null),Tt=rn=n,wt=0,Ws=null,oc=Sl=qr=0,Kt=Ns=null,Hr!==null){for(n=0;n<Hr.length;n++)if(s=Hr[n],a=s.interleaved,a!==null){s.interleaved=null;var c=a.next,d=s.pending;if(d!==null){var x=d.next;d.next=c,a.next=x}s.pending=a}Hr=null}return e}function Ed(e,n){do{var s=ht;try{if(Xu(),Mo.current=il,rl){for(var a=tt.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}rl=!1}if(Qr=0,Ct=mt=tt=null,As=!1,Us=0,sc.current=null,s===null||s.return===null){wt=1,Ws=n,ht=null;break}e:{var d=e,x=s.return,w=s,E=n;if(n=Tt,w.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){var m=E,b=w,S=b.tag;if(!(b.mode&1)&&(S===0||S===11||S===15)){var k=b.alternate;k?(b.updateQueue=k.updateQueue,b.memoizedState=k.memoizedState,b.lanes=k.lanes):(b.updateQueue=null,b.memoizedState=null)}var F=M0(x);if(F!==null){F.flags&=-257,P0(F,x,w,d,n),F.mode&1&&k0(d,m,n),n=F,E=m;var H=n.updateQueue;if(H===null){var M=new Set;M.add(E),n.updateQueue=M}else H.add(E);break e}else{if(!(n&1)){k0(d,m,n),cc();break e}E=Error(q(426))}}else if(Qe&&w.mode&1){var G=M0(x);if(G!==null){!(G.flags&65536)&&(G.flags|=256),P0(G,x,w,d,n),Hu(ji(E,w));break e}}d=E=ji(E,w),wt!==4&&(wt=2),Ns===null?Ns=[d]:Ns.push(d),d=x;do{switch(d.tag){case 3:d.flags|=65536,n&=-n,d.lanes|=n;var R=rd(d,E,n);b0(d,R);break e;case 1:w=E;var T=d.type,_=d.stateNode;if(!(d.flags&128)&&(typeof T.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ar===null||!Ar.has(_)))){d.flags|=65536,n&=-n,d.lanes|=n;var V=id(d,w,n);b0(d,V);break e}}d=d.return}while(d!==null)}Ad(s)}catch($){n=$,ht===s&&s!==null&&(ht=s=s.return);continue}break}while(!0)}function Cd(){var e=sl.current;return sl.current=il,e===null?il:e}function cc(){(wt===0||wt===3||wt===2)&&(wt=4),vt===null||!(qr&268435455)&&!(Sl&268435455)||hr(vt,Tt)}function al(e,n){var s=Re;Re|=2;var a=Cd();(vt!==e||Tt!==n)&&(Xn=null,Xr(e,n));do try{Lx();break}catch(c){Ed(e,c)}while(!0);if(Xu(),Re=s,sl.current=a,ht!==null)throw Error(q(261));return vt=null,Tt=0,wt}function Lx(){for(;ht!==null;)vd(ht)}function Bx(){for(;ht!==null&&!ag();)vd(ht)}function vd(e){var n=Nd(e.alternate,e,rn);e.memoizedProps=e.pendingProps,n===null?Ad(e):ht=n,sc.current=null}function Ad(e){var n=e;do{var s=n.alternate;if(e=n.return,n.flags&32768){if(s=Rx(s,n),s!==null){s.flags&=32767,ht=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{wt=6,ht=null;return}}else if(s=_x(s,n,rn),s!==null){ht=s;return}if(n=n.sibling,n!==null){ht=n;return}ht=n=e}while(n!==null);wt===0&&(wt=5)}function zr(e,n,s){var a=Pe,c=wn.transition;try{wn.transition=null,Pe=1,Fx(e,n,s,a)}finally{wn.transition=c,Pe=a}return null}function Fx(e,n,s,a){do ki();while(pr!==null);if(Re&6)throw Error(q(327));s=e.finishedWork;var c=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(q(177));e.callbackNode=null,e.callbackPriority=0;var d=s.lanes|s.childLanes;if(wg(e,d),e===vt&&(ht=vt=null,Tt=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Io||(Io=!0,Id(Wo,function(){return ki(),null})),d=(s.flags&15990)!==0,s.subtreeFlags&15990||d){d=wn.transition,wn.transition=null;var x=Pe;Pe=1;var w=Re;Re|=4,sc.current=null,Dx(e,s),md(s,e),ix(Ya),Go=!!Xa,Ya=Xa=null,e.current=s,kx(s),ug(),Re=w,Pe=x,wn.transition=d}else e.current=s;if(Io&&(Io=!1,pr=e,ll=c),d=e.pendingLanes,d===0&&(Ar=null),dg(s.stateNode),$t(e,ct()),n!==null)for(a=e.onRecoverableError,s=0;s<n.length;s++)c=n[s],a(c.value,{componentStack:c.stack,digest:c.digest});if(ol)throw ol=!1,e=hu,hu=null,e;return ll&1&&e.tag!==0&&ki(),d=e.pendingLanes,d&1?e===gu?Is++:(Is=0,gu=e):Is=0,Or(),null}function ki(){if(pr!==null){var e=nf(ll),n=wn.transition,s=Pe;try{if(wn.transition=null,Pe=16>e?16:e,pr===null)var a=!1;else{if(e=pr,pr=null,ll=0,Re&6)throw Error(q(331));var c=Re;for(Re|=4,se=e.current;se!==null;){var d=se,x=d.child;if(se.flags&16){var w=d.deletions;if(w!==null){for(var E=0;E<w.length;E++){var m=w[E];for(se=m;se!==null;){var b=se;switch(b.tag){case 0:case 11:case 15:Ss(8,b,d)}var S=b.child;if(S!==null)S.return=b,se=S;else for(;se!==null;){b=se;var k=b.sibling,F=b.return;if(gd(b),b===m){se=null;break}if(k!==null){k.return=F,se=k;break}se=F}}}var H=d.alternate;if(H!==null){var M=H.child;if(M!==null){H.child=null;do{var G=M.sibling;M.sibling=null,M=G}while(M!==null)}}se=d}}if(d.subtreeFlags&2064&&x!==null)x.return=d,se=x;else e:for(;se!==null;){if(d=se,d.flags&2048)switch(d.tag){case 0:case 11:case 15:Ss(9,d,d.return)}var R=d.sibling;if(R!==null){R.return=d.return,se=R;break e}se=d.return}}var T=e.current;for(se=T;se!==null;){x=se;var _=x.child;if(x.subtreeFlags&2064&&_!==null)_.return=x,se=_;else e:for(x=T;se!==null;){if(w=se,w.flags&2048)try{switch(w.tag){case 0:case 11:case 15:Al(9,w)}}catch($){at(w,w.return,$)}if(w===x){se=null;break e}var V=w.sibling;if(V!==null){V.return=w.return,se=V;break e}se=w.return}}if(Re=c,Or(),zn&&typeof zn.onPostCommitFiberRoot=="function")try{zn.onPostCommitFiberRoot(xl,e)}catch{}a=!0}return a}finally{Pe=s,wn.transition=n}}return!1}function Z0(e,n,s){n=ji(s,n),n=rd(e,n,1),e=vr(e,n,1),n=jt(),e!==null&&(Ys(e,1,n),$t(e,n))}function at(e,n,s){if(e.tag===3)Z0(e,e,s);else for(;n!==null;){if(n.tag===3){Z0(n,e,s);break}else if(n.tag===1){var a=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Ar===null||!Ar.has(a))){e=ji(s,e),e=id(n,e,1),n=vr(n,e,1),e=jt(),n!==null&&(Ys(n,1,e),$t(n,e));break}}n=n.return}}function jx(e,n,s){var a=e.pingCache;a!==null&&a.delete(n),n=jt(),e.pingedLanes|=e.suspendedLanes&s,vt===e&&(Tt&s)===s&&(wt===4||wt===3&&(Tt&130023424)===Tt&&500>ct()-lc?Xr(e,0):oc|=s),$t(e,n)}function Sd(e,n){n===0&&(e.mode&1?(n=po,po<<=1,!(po&130023424)&&(po=4194304)):n=1);var s=jt();e=$n(e,n),e!==null&&(Ys(e,n,s),$t(e,s))}function Ux(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Sd(e,s)}function Vx(e,n){var s=0;switch(e.tag){case 13:var a=e.stateNode,c=e.memoizedState;c!==null&&(s=c.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(q(314))}a!==null&&a.delete(n),Sd(e,s)}var Nd;Nd=function(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps||qt.current)Qt=!0;else{if(!(e.lanes&s)&&!(n.flags&128))return Qt=!1,Tx(e,n,s);Qt=!!(e.flags&131072)}else Qt=!1,Qe&&n.flags&1048576&&_f(n,Jo,n.index);switch(n.lanes=0,n.tag){case 2:var a=n.type;Lo(e,n),e=n.pendingProps;var c=Pi(n,Pt.current);Di(n,s),c=ec(null,n,a,e,c,s);var d=tc();return n.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Jt(a)?(d=!0,Qo(n)):d=!1,n.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,Ku(n),c.updater=vl,n.stateNode=c,c._reactInternals=n,nu(n,a,e,s),n=su(null,n,a,!0,d,s)):(n.tag=0,Qe&&d&&zu(n),Ft(null,n,c,s),n=n.child),n;case 16:a=n.elementType;e:{switch(Lo(e,n),e=n.pendingProps,c=a._init,a=c(a._payload),n.type=a,c=n.tag=Wx(a),e=Nn(a,e),c){case 0:n=iu(null,n,a,e,s);break e;case 1:n=F0(null,n,a,e,s);break e;case 11:n=L0(null,n,a,e,s);break e;case 14:n=B0(null,n,a,Nn(a.type,e),s);break e}throw Error(q(306,a,""))}return n;case 0:return a=n.type,c=n.pendingProps,c=n.elementType===a?c:Nn(a,c),iu(e,n,a,c,s);case 1:return a=n.type,c=n.pendingProps,c=n.elementType===a?c:Nn(a,c),F0(e,n,a,c,s);case 3:e:{if(ad(n),e===null)throw Error(q(387));a=n.pendingProps,d=n.memoizedState,c=d.element,Pf(e,n),tl(n,a,null,s);var x=n.memoizedState;if(a=x.element,d.isDehydrated)if(d={element:a,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){c=ji(Error(q(423)),n),n=j0(e,n,a,s,c);break e}else if(a!==c){c=ji(Error(q(424)),n),n=j0(e,n,a,s,c);break e}else for(sn=Cr(n.stateNode.containerInfo.firstChild),on=n,Qe=!0,bn=null,s=kf(n,null,a,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Li(),a===c){n=er(e,n,s);break e}Ft(e,n,a,s)}n=n.child}return n;case 5:return Lf(n),e===null&&$a(n),a=n.type,c=n.pendingProps,d=e!==null?e.memoizedProps:null,x=c.children,Za(a,c)?x=null:d!==null&&Za(a,d)&&(n.flags|=32),ld(e,n),Ft(e,n,x,s),n.child;case 6:return e===null&&$a(n),null;case 13:return ud(e,n,s);case 4:return Qu(n,n.stateNode.containerInfo),a=n.pendingProps,e===null?n.child=Bi(n,null,a,s):Ft(e,n,a,s),n.child;case 11:return a=n.type,c=n.pendingProps,c=n.elementType===a?c:Nn(a,c),L0(e,n,a,c,s);case 7:return Ft(e,n,n.pendingProps,s),n.child;case 8:return Ft(e,n,n.pendingProps.children,s),n.child;case 12:return Ft(e,n,n.pendingProps.children,s),n.child;case 10:e:{if(a=n.type._context,c=n.pendingProps,d=n.memoizedProps,x=c.value,Ge($o,a._currentValue),a._currentValue=x,d!==null)if(Rn(d.value,x)){if(d.children===c.children&&!qt.current){n=er(e,n,s);break e}}else for(d=n.child,d!==null&&(d.return=n);d!==null;){var w=d.dependencies;if(w!==null){x=d.child;for(var E=w.firstContext;E!==null;){if(E.context===a){if(d.tag===1){E=Qn(-1,s&-s),E.tag=2;var m=d.updateQueue;if(m!==null){m=m.shared;var b=m.pending;b===null?E.next=E:(E.next=b.next,b.next=E),m.pending=E}}d.lanes|=s,E=d.alternate,E!==null&&(E.lanes|=s),eu(d.return,s,n),w.lanes|=s;break}E=E.next}}else if(d.tag===10)x=d.type===n.type?null:d.child;else if(d.tag===18){if(x=d.return,x===null)throw Error(q(341));x.lanes|=s,w=x.alternate,w!==null&&(w.lanes|=s),eu(x,s,n),x=d.sibling}else x=d.child;if(x!==null)x.return=d;else for(x=d;x!==null;){if(x===n){x=null;break}if(d=x.sibling,d!==null){d.return=x.return,x=d;break}x=x.return}d=x}Ft(e,n,c.children,s),n=n.child}return n;case 9:return c=n.type,a=n.pendingProps.children,Di(n,s),c=yn(c),a=a(c),n.flags|=1,Ft(e,n,a,s),n.child;case 14:return a=n.type,c=Nn(a,n.pendingProps),c=Nn(a.type,c),B0(e,n,a,c,s);case 15:return sd(e,n,n.type,n.pendingProps,s);case 17:return a=n.type,c=n.pendingProps,c=n.elementType===a?c:Nn(a,c),Lo(e,n),n.tag=1,Jt(a)?(e=!0,Qo(n)):e=!1,Di(n,s),nd(n,a,c),nu(n,a,c,s),su(null,n,a,!0,e,s);case 19:return cd(e,n,s);case 22:return od(e,n,s)}throw Error(q(156,n.tag))};function Id(e,n){return J1(e,n)}function zx(e,n,s,a){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(e,n,s,a){return new zx(e,n,s,a)}function fc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Wx(e){if(typeof e=="function")return fc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ru)return 11;if(e===Ou)return 14}return 2}function Nr(e,n){var s=e.alternate;return s===null?(s=mn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function jo(e,n,s,a,c,d){var x=2;if(a=e,typeof e=="function")fc(e)&&(x=1);else if(typeof e=="string")x=5;else e:switch(e){case pi:return Yr(s.children,c,d,n);case _u:x=8,c|=8;break;case Ia:return e=mn(12,s,n,c|2),e.elementType=Ia,e.lanes=d,e;case ba:return e=mn(13,s,n,c),e.elementType=ba,e.lanes=d,e;case Ta:return e=mn(19,s,n,c),e.elementType=Ta,e.lanes=d,e;case P1:return Nl(s,c,d,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case k1:x=10;break e;case M1:x=9;break e;case Ru:x=11;break e;case Ou:x=14;break e;case cr:x=16,a=null;break e}throw Error(q(130,e==null?e:typeof e,""))}return n=mn(x,s,n,c),n.elementType=e,n.type=a,n.lanes=d,n}function Yr(e,n,s,a){return e=mn(7,e,a,n),e.lanes=s,e}function Nl(e,n,s,a){return e=mn(22,e,a,n),e.elementType=P1,e.lanes=s,e.stateNode={isHidden:!1},e}function Ca(e,n,s){return e=mn(6,e,null,n),e.lanes=s,e}function va(e,n,s){return n=mn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Hx(e,n,s,a,c){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=na(0),this.expirationTimes=na(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=na(0),this.identifierPrefix=a,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function dc(e,n,s,a,c,d,x,w,E){return e=new Hx(e,n,s,w,E),n===1?(n=1,d===!0&&(n|=8)):n=0,d=mn(3,null,null,n),e.current=d,d.stateNode=e,d.memoizedState={element:a,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ku(d),e}function Gx(e,n,s){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xi,key:a==null?null:""+a,children:e,containerInfo:n,implementation:s}}function bd(e){if(!e)return Tr;e=e._reactInternals;e:{if(ei(e)!==e||e.tag!==1)throw Error(q(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Jt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(q(171))}if(e.tag===1){var s=e.type;if(Jt(s))return bf(e,s,n)}return n}function Td(e,n,s,a,c,d,x,w,E){return e=dc(s,a,!0,e,c,d,x,w,E),e.context=bd(null),s=e.current,a=jt(),c=Sr(s),d=Qn(a,c),d.callback=n??null,vr(s,d,c),e.current.lanes=c,Ys(e,c,a),$t(e,a),e}function Il(e,n,s,a){var c=n.current,d=jt(),x=Sr(c);return s=bd(s),n.context===null?n.context=s:n.pendingContext=s,n=Qn(d,x),n.payload={element:e},a=a===void 0?null:a,a!==null&&(n.callback=a),e=vr(c,n,x),e!==null&&(_n(e,c,x,d),ko(e,c,x)),x}function ul(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function K0(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function hc(e,n){K0(e,n),(e=e.alternate)&&K0(e,n)}function Xx(){return null}var _d=typeof reportError=="function"?reportError:function(e){console.error(e)};function gc(e){this._internalRoot=e}bl.prototype.render=gc.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(q(409));Il(e,n,null,null)};bl.prototype.unmount=gc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Jr(function(){Il(null,e,null,null)}),n[Jn]=null}};function bl(e){this._internalRoot=e}bl.prototype.unstable_scheduleHydration=function(e){if(e){var n=of();e={blockedOn:null,target:e,priority:n};for(var s=0;s<dr.length&&n!==0&&n<dr[s].priority;s++);dr.splice(s,0,e),s===0&&af(e)}};function xc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Tl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Q0(){}function Yx(e,n,s,a,c){if(c){if(typeof a=="function"){var d=a;a=function(){var m=ul(x);d.call(m)}}var x=Td(n,a,e,0,null,!1,!1,"",Q0);return e._reactRootContainer=x,e[Jn]=x.current,Ps(e.nodeType===8?e.parentNode:e),Jr(),x}for(;c=e.lastChild;)e.removeChild(c);if(typeof a=="function"){var w=a;a=function(){var m=ul(E);w.call(m)}}var E=dc(e,0,!1,null,null,!1,!1,"",Q0);return e._reactRootContainer=E,e[Jn]=E.current,Ps(e.nodeType===8?e.parentNode:e),Jr(function(){Il(n,E,s,a)}),E}function _l(e,n,s,a,c){var d=s._reactRootContainer;if(d){var x=d;if(typeof c=="function"){var w=c;c=function(){var E=ul(x);w.call(E)}}Il(n,x,e,c)}else x=Yx(s,n,e,c,a);return ul(x)}rf=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var s=ps(n.pendingLanes);s!==0&&(Mu(n,s|1),$t(n,ct()),!(Re&6)&&(Ui=ct()+500,Or()))}break;case 13:Jr(function(){var a=$n(e,1);if(a!==null){var c=jt();_n(a,e,1,c)}}),hc(e,1)}};Pu=function(e){if(e.tag===13){var n=$n(e,134217728);if(n!==null){var s=jt();_n(n,e,134217728,s)}hc(e,134217728)}};sf=function(e){if(e.tag===13){var n=Sr(e),s=$n(e,n);if(s!==null){var a=jt();_n(s,e,n,a)}hc(e,n)}};of=function(){return Pe};lf=function(e,n){var s=Pe;try{return Pe=e,n()}finally{Pe=s}};Fa=function(e,n,s){switch(n){case"input":if(Oa(e,s),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<s.length;n++){var a=s[n];if(a!==e&&a.form===e.form){var c=yl(a);if(!c)throw Error(q(90));B1(a),Oa(a,c)}}}break;case"textarea":j1(e,s);break;case"select":n=s.value,n!=null&&Ti(e,!!s.multiple,n,!1)}};X1=ac;Y1=Jr;var Zx={usingClientEntryPoint:!1,Events:[Ks,Ei,yl,H1,G1,ac]},hs={findFiberByHostInstance:Wr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Kx={bundleType:hs.bundleType,version:hs.version,rendererPackageName:hs.rendererPackageName,rendererConfig:hs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:tr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Q1(e),e===null?null:e.stateNode},findFiberByHostInstance:hs.findFiberByHostInstance||Xx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bo.isDisabled&&bo.supportsFiber)try{xl=bo.inject(Kx),zn=bo}catch{}}an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zx;an.createPortal=function(e,n){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xc(n))throw Error(q(200));return Gx(e,n,null,s)};an.createRoot=function(e,n){if(!xc(e))throw Error(q(299));var s=!1,a="",c=_d;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(c=n.onRecoverableError)),n=dc(e,1,!1,null,null,s,!1,a,c),e[Jn]=n.current,Ps(e.nodeType===8?e.parentNode:e),new gc(n)};an.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(q(188)):(e=Object.keys(e).join(","),Error(q(268,e)));return e=Q1(n),e=e===null?null:e.stateNode,e};an.flushSync=function(e){return Jr(e)};an.hydrate=function(e,n,s){if(!Tl(n))throw Error(q(200));return _l(null,e,n,!0,s)};an.hydrateRoot=function(e,n,s){if(!xc(e))throw Error(q(405));var a=s!=null&&s.hydratedSources||null,c=!1,d="",x=_d;if(s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(x=s.onRecoverableError)),n=Td(n,null,e,1,s??null,c,!1,d,x),e[Jn]=n.current,Ps(e),a)for(e=0;e<a.length;e++)s=a[e],c=s._getVersion,c=c(s._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[s,c]:n.mutableSourceEagerHydrationData.push(s,c);return new bl(n)};an.render=function(e,n,s){if(!Tl(n))throw Error(q(200));return _l(null,e,n,!1,s)};an.unmountComponentAtNode=function(e){if(!Tl(e))throw Error(q(40));return e._reactRootContainer?(Jr(function(){_l(null,null,e,!1,function(){e._reactRootContainer=null,e[Jn]=null})}),!0):!1};an.unstable_batchedUpdates=ac;an.unstable_renderSubtreeIntoContainer=function(e,n,s,a){if(!Tl(s))throw Error(q(200));if(e==null||e._reactInternals===void 0)throw Error(q(38));return _l(e,n,s,!1,a)};an.version="18.3.1-next-f1338f8080-20240426";function Rd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Rd)}catch(e){console.error(e)}}Rd(),_1.exports=an;var Qx=_1.exports,q0=Qx;Sa.createRoot=q0.createRoot,Sa.hydrateRoot=q0.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hs(){return Hs=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Hs.apply(this,arguments)}var mr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(mr||(mr={}));const J0="popstate";function qx(e){e===void 0&&(e={});function n(a,c){let{pathname:d,search:x,hash:w}=a.location;return mu("",{pathname:d,search:x,hash:w},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function s(a,c){return typeof c=="string"?c:cl(c)}return $x(n,s,null,e)}function ft(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function pc(e,n){if(!e){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function Jx(){return Math.random().toString(36).substr(2,8)}function $0(e,n){return{usr:e.state,key:e.key,idx:n}}function mu(e,n,s,a){return s===void 0&&(s=null),Hs({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof n=="string"?Gi(n):n,{state:s,key:n&&n.key||a||Jx()})}function cl(e){let{pathname:n="/",search:s="",hash:a=""}=e;return s&&s!=="?"&&(n+=s.charAt(0)==="?"?s:"?"+s),a&&a!=="#"&&(n+=a.charAt(0)==="#"?a:"#"+a),n}function Gi(e){let n={};if(e){let s=e.indexOf("#");s>=0&&(n.hash=e.substr(s),e=e.substr(0,s));let a=e.indexOf("?");a>=0&&(n.search=e.substr(a),e=e.substr(0,a)),e&&(n.pathname=e)}return n}function $x(e,n,s,a){a===void 0&&(a={});let{window:c=document.defaultView,v5Compat:d=!1}=a,x=c.history,w=mr.Pop,E=null,m=b();m==null&&(m=0,x.replaceState(Hs({},x.state,{idx:m}),""));function b(){return(x.state||{idx:null}).idx}function S(){w=mr.Pop;let G=b(),R=G==null?null:G-m;m=G,E&&E({action:w,location:M.location,delta:R})}function k(G,R){w=mr.Push;let T=mu(M.location,G,R);m=b()+1;let _=$0(T,m),V=M.createHref(T);try{x.pushState(_,"",V)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;c.location.assign(V)}d&&E&&E({action:w,location:M.location,delta:1})}function F(G,R){w=mr.Replace;let T=mu(M.location,G,R);m=b();let _=$0(T,m),V=M.createHref(T);x.replaceState(_,"",V),d&&E&&E({action:w,location:M.location,delta:0})}function H(G){let R=c.location.origin!=="null"?c.location.origin:c.location.href,T=typeof G=="string"?G:cl(G);return T=T.replace(/ $/,"%20"),ft(R,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,R)}let M={get action(){return w},get location(){return e(c,x)},listen(G){if(E)throw new Error("A history only accepts one active listener");return c.addEventListener(J0,S),E=G,()=>{c.removeEventListener(J0,S),E=null}},createHref(G){return n(c,G)},createURL:H,encodeLocation(G){let R=H(G);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:k,replace:F,go(G){return x.go(G)}};return M}var e1;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(e1||(e1={}));function e2(e,n,s){return s===void 0&&(s="/"),t2(e,n,s)}function t2(e,n,s,a){let c=typeof n=="string"?Gi(n):n,d=mc(c.pathname||"/",s);if(d==null)return null;let x=Od(e);n2(x);let w=null;for(let E=0;w==null&&E<x.length;++E){let m=g2(d);w=f2(x[E],m)}return w}function Od(e,n,s,a){n===void 0&&(n=[]),s===void 0&&(s=[]),a===void 0&&(a="");let c=(d,x,w)=>{let E={relativePath:w===void 0?d.path||"":w,caseSensitive:d.caseSensitive===!0,childrenIndex:x,route:d};E.relativePath.startsWith("/")&&(ft(E.relativePath.startsWith(a),'Absolute route path "'+E.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),E.relativePath=E.relativePath.slice(a.length));let m=Ir([a,E.relativePath]),b=s.concat(E);d.children&&d.children.length>0&&(ft(d.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),Od(d.children,n,b,m)),!(d.path==null&&!d.index)&&n.push({path:m,score:u2(m,d.index),routesMeta:b})};return e.forEach((d,x)=>{var w;if(d.path===""||!((w=d.path)!=null&&w.includes("?")))c(d,x);else for(let E of Dd(d.path))c(d,x,E)}),n}function Dd(e){let n=e.split("/");if(n.length===0)return[];let[s,...a]=n,c=s.endsWith("?"),d=s.replace(/\?$/,"");if(a.length===0)return c?[d,""]:[d];let x=Dd(a.join("/")),w=[];return w.push(...x.map(E=>E===""?d:[d,E].join("/"))),c&&w.push(...x),w.map(E=>e.startsWith("/")&&E===""?"/":E)}function n2(e){e.sort((n,s)=>n.score!==s.score?s.score-n.score:c2(n.routesMeta.map(a=>a.childrenIndex),s.routesMeta.map(a=>a.childrenIndex)))}const r2=/^:[\w-]+$/,i2=3,s2=2,o2=1,l2=10,a2=-2,t1=e=>e==="*";function u2(e,n){let s=e.split("/"),a=s.length;return s.some(t1)&&(a+=a2),n&&(a+=s2),s.filter(c=>!t1(c)).reduce((c,d)=>c+(r2.test(d)?i2:d===""?o2:l2),a)}function c2(e,n){return e.length===n.length&&e.slice(0,-1).every((a,c)=>a===n[c])?e[e.length-1]-n[n.length-1]:0}function f2(e,n,s){let{routesMeta:a}=e,c={},d="/",x=[];for(let w=0;w<a.length;++w){let E=a[w],m=w===a.length-1,b=d==="/"?n:n.slice(d.length)||"/",S=d2({path:E.relativePath,caseSensitive:E.caseSensitive,end:m},b),k=E.route;if(!S)return null;Object.assign(c,S.params),x.push({params:c,pathname:Ir([d,S.pathname]),pathnameBase:y2(Ir([d,S.pathnameBase])),route:k}),S.pathnameBase!=="/"&&(d=Ir([d,S.pathnameBase]))}return x}function d2(e,n){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,a]=h2(e.path,e.caseSensitive,e.end),c=n.match(s);if(!c)return null;let d=c[0],x=d.replace(/(.)\/+$/,"$1"),w=c.slice(1);return{params:a.reduce((m,b,S)=>{let{paramName:k,isOptional:F}=b;if(k==="*"){let M=w[S]||"";x=d.slice(0,d.length-M.length).replace(/(.)\/+$/,"$1")}const H=w[S];return F&&!H?m[k]=void 0:m[k]=(H||"").replace(/%2F/g,"/"),m},{}),pathname:d,pathnameBase:x,pattern:e}}function h2(e,n,s){n===void 0&&(n=!1),s===void 0&&(s=!0),pc(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],c="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(x,w,E)=>(a.push({paramName:w,isOptional:E!=null}),E?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),c+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?c+="\\/*$":e!==""&&e!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,n?void 0:"i"),a]}function g2(e){try{return e.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return pc(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),e}}function mc(e,n){if(n==="/")return e;if(!e.toLowerCase().startsWith(n.toLowerCase()))return null;let s=n.endsWith("/")?n.length-1:n.length,a=e.charAt(s);return a&&a!=="/"?null:e.slice(s)||"/"}const x2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,p2=e=>x2.test(e);function m2(e,n){n===void 0&&(n="/");let{pathname:s,search:a="",hash:c=""}=typeof e=="string"?Gi(e):e,d;if(s)if(p2(s))d=s;else{if(s.includes("//")){let x=s;s=s.replace(/\/\/+/g,"/"),pc(!1,"Pathnames cannot have embedded double slashes - normalizing "+(x+" -> "+s))}s.startsWith("/")?d=n1(s.substring(1),"/"):d=n1(s,n)}else d=n;return{pathname:d,search:E2(a),hash:C2(c)}}function n1(e,n){let s=n.replace(/\/+$/,"").split("/");return e.split("/").forEach(c=>{c===".."?s.length>1&&s.pop():c!=="."&&s.push(c)}),s.length>1?s.join("/"):"/"}function Aa(e,n,s,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function w2(e){return e.filter((n,s)=>s===0||n.route.path&&n.route.path.length>0)}function wc(e,n){let s=w2(e);return n?s.map((a,c)=>c===s.length-1?a.pathname:a.pathnameBase):s.map(a=>a.pathnameBase)}function yc(e,n,s,a){a===void 0&&(a=!1);let c;typeof e=="string"?c=Gi(e):(c=Hs({},e),ft(!c.pathname||!c.pathname.includes("?"),Aa("?","pathname","search",c)),ft(!c.pathname||!c.pathname.includes("#"),Aa("#","pathname","hash",c)),ft(!c.search||!c.search.includes("#"),Aa("#","search","hash",c)));let d=e===""||c.pathname==="",x=d?"/":c.pathname,w;if(x==null)w=s;else{let S=n.length-1;if(!a&&x.startsWith("..")){let k=x.split("/");for(;k[0]==="..";)k.shift(),S-=1;c.pathname=k.join("/")}w=S>=0?n[S]:"/"}let E=m2(c,w),m=x&&x!=="/"&&x.endsWith("/"),b=(d||x===".")&&s.endsWith("/");return!E.pathname.endsWith("/")&&(m||b)&&(E.pathname+="/"),E}const Ir=e=>e.join("/").replace(/\/\/+/g,"/"),y2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),E2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,C2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function v2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const kd=["post","put","patch","delete"];new Set(kd);const A2=["get",...kd];new Set(A2);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gs(){return Gs=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Gs.apply(this,arguments)}const Ec=U.createContext(null),S2=U.createContext(null),Dr=U.createContext(null),Rl=U.createContext(null),kr=U.createContext({outlet:null,matches:[],isDataRoute:!1}),Md=U.createContext(null);function N2(e,n){let{relative:s}=n===void 0?{}:n;Xi()||ft(!1);let{basename:a,navigator:c}=U.useContext(Dr),{hash:d,pathname:x,search:w}=Ld(e,{relative:s}),E=x;return a!=="/"&&(E=x==="/"?a:Ir([a,x])),c.createHref({pathname:E,search:w,hash:d})}function Xi(){return U.useContext(Rl)!=null}function ti(){return Xi()||ft(!1),U.useContext(Rl).location}function Pd(e){U.useContext(Dr).static||U.useLayoutEffect(e)}function ni(){let{isDataRoute:e}=U.useContext(kr);return e?F2():I2()}function I2(){Xi()||ft(!1);let e=U.useContext(Ec),{basename:n,future:s,navigator:a}=U.useContext(Dr),{matches:c}=U.useContext(kr),{pathname:d}=ti(),x=JSON.stringify(wc(c,s.v7_relativeSplatPath)),w=U.useRef(!1);return Pd(()=>{w.current=!0}),U.useCallback(function(m,b){if(b===void 0&&(b={}),!w.current)return;if(typeof m=="number"){a.go(m);return}let S=yc(m,JSON.parse(x),d,b.relative==="path");e==null&&n!=="/"&&(S.pathname=S.pathname==="/"?n:Ir([n,S.pathname])),(b.replace?a.replace:a.push)(S,b.state,b)},[n,a,x,d,e])}function Ld(e,n){let{relative:s}=n===void 0?{}:n,{future:a}=U.useContext(Dr),{matches:c}=U.useContext(kr),{pathname:d}=ti(),x=JSON.stringify(wc(c,a.v7_relativeSplatPath));return U.useMemo(()=>yc(e,JSON.parse(x),d,s==="path"),[e,x,d,s])}function b2(e,n){return T2(e,n)}function T2(e,n,s,a){Xi()||ft(!1);let{navigator:c}=U.useContext(Dr),{matches:d}=U.useContext(kr),x=d[d.length-1],w=x?x.params:{};x&&x.pathname;let E=x?x.pathnameBase:"/";x&&x.route;let m=ti(),b;if(n){var S;let G=typeof n=="string"?Gi(n):n;E==="/"||(S=G.pathname)!=null&&S.startsWith(E)||ft(!1),b=G}else b=m;let k=b.pathname||"/",F=k;if(E!=="/"){let G=E.replace(/^\//,"").split("/");F="/"+k.replace(/^\//,"").split("/").slice(G.length).join("/")}let H=e2(e,{pathname:F}),M=k2(H&&H.map(G=>Object.assign({},G,{params:Object.assign({},w,G.params),pathname:Ir([E,c.encodeLocation?c.encodeLocation(G.pathname).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?E:Ir([E,c.encodeLocation?c.encodeLocation(G.pathnameBase).pathname:G.pathnameBase])})),d,s,a);return n&&M?U.createElement(Rl.Provider,{value:{location:Gs({pathname:"/",search:"",hash:"",state:null,key:"default"},b),navigationType:mr.Pop}},M):M}function _2(){let e=B2(),n=v2(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,c={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},n),s?U.createElement("pre",{style:c},s):null,null)}const R2=U.createElement(_2,null);class O2 extends U.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,s){return s.location!==n.location||s.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:s.error,location:s.location,revalidation:n.revalidation||s.revalidation}}componentDidCatch(n,s){console.error("React Router caught the following error during render",n,s)}render(){return this.state.error!==void 0?U.createElement(kr.Provider,{value:this.props.routeContext},U.createElement(Md.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function D2(e){let{routeContext:n,match:s,children:a}=e,c=U.useContext(Ec);return c&&c.static&&c.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=s.route.id),U.createElement(kr.Provider,{value:n},a)}function k2(e,n,s,a){var c;if(n===void 0&&(n=[]),s===void 0&&(s=null),a===void 0&&(a=null),e==null){var d;if(!s)return null;if(s.errors)e=s.matches;else if((d=a)!=null&&d.v7_partialHydration&&n.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let x=e,w=(c=s)==null?void 0:c.errors;if(w!=null){let b=x.findIndex(S=>S.route.id&&(w==null?void 0:w[S.route.id])!==void 0);b>=0||ft(!1),x=x.slice(0,Math.min(x.length,b+1))}let E=!1,m=-1;if(s&&a&&a.v7_partialHydration)for(let b=0;b<x.length;b++){let S=x[b];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(m=b),S.route.id){let{loaderData:k,errors:F}=s,H=S.route.loader&&k[S.route.id]===void 0&&(!F||F[S.route.id]===void 0);if(S.route.lazy||H){E=!0,m>=0?x=x.slice(0,m+1):x=[x[0]];break}}}return x.reduceRight((b,S,k)=>{let F,H=!1,M=null,G=null;s&&(F=w&&S.route.id?w[S.route.id]:void 0,M=S.route.errorElement||R2,E&&(m<0&&k===0?(j2("route-fallback"),H=!0,G=null):m===k&&(H=!0,G=S.route.hydrateFallbackElement||null)));let R=n.concat(x.slice(0,k+1)),T=()=>{let _;return F?_=M:H?_=G:S.route.Component?_=U.createElement(S.route.Component,null):S.route.element?_=S.route.element:_=b,U.createElement(D2,{match:S,routeContext:{outlet:b,matches:R,isDataRoute:s!=null},children:_})};return s&&(S.route.ErrorBoundary||S.route.errorElement||k===0)?U.createElement(O2,{location:s.location,revalidation:s.revalidation,component:M,error:F,children:T(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):T()},null)}var Bd=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Bd||{}),Fd=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Fd||{});function M2(e){let n=U.useContext(Ec);return n||ft(!1),n}function P2(e){let n=U.useContext(S2);return n||ft(!1),n}function L2(e){let n=U.useContext(kr);return n||ft(!1),n}function jd(e){let n=L2(),s=n.matches[n.matches.length-1];return s.route.id||ft(!1),s.route.id}function B2(){var e;let n=U.useContext(Md),s=P2(),a=jd();return n!==void 0?n:(e=s.errors)==null?void 0:e[a]}function F2(){let{router:e}=M2(Bd.UseNavigateStable),n=jd(Fd.UseNavigateStable),s=U.useRef(!1);return Pd(()=>{s.current=!0}),U.useCallback(function(c,d){d===void 0&&(d={}),s.current&&(typeof c=="number"?e.navigate(c):e.navigate(c,Gs({fromRouteId:n},d)))},[e,n])}const r1={};function j2(e,n,s){r1[e]||(r1[e]=!0)}function U2(e,n){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function gr(e){let{to:n,replace:s,state:a,relative:c}=e;Xi()||ft(!1);let{future:d,static:x}=U.useContext(Dr),{matches:w}=U.useContext(kr),{pathname:E}=ti(),m=ni(),b=yc(n,wc(w,d.v7_relativeSplatPath),E,c==="path"),S=JSON.stringify(b);return U.useEffect(()=>m(JSON.parse(S),{replace:s,state:a,relative:c}),[m,S,c,s,a]),null}function tn(e){ft(!1)}function V2(e){let{basename:n="/",children:s=null,location:a,navigationType:c=mr.Pop,navigator:d,static:x=!1,future:w}=e;Xi()&&ft(!1);let E=n.replace(/^\/*/,"/"),m=U.useMemo(()=>({basename:E,navigator:d,static:x,future:Gs({v7_relativeSplatPath:!1},w)}),[E,w,d,x]);typeof a=="string"&&(a=Gi(a));let{pathname:b="/",search:S="",hash:k="",state:F=null,key:H="default"}=a,M=U.useMemo(()=>{let G=mc(b,E);return G==null?null:{location:{pathname:G,search:S,hash:k,state:F,key:H},navigationType:c}},[E,b,S,k,F,H,c]);return M==null?null:U.createElement(Dr.Provider,{value:m},U.createElement(Rl.Provider,{children:s,value:M}))}function z2(e){let{children:n,location:s}=e;return b2(wu(n),s)}new Promise(()=>{});function wu(e,n){n===void 0&&(n=[]);let s=[];return U.Children.forEach(e,(a,c)=>{if(!U.isValidElement(a))return;let d=[...n,c];if(a.type===U.Fragment){s.push.apply(s,wu(a.props.children,d));return}a.type!==tn&&ft(!1),!a.props.index||!a.props.children||ft(!1);let x={id:a.props.id||d.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(x.children=wu(a.props.children,d)),s.push(x)}),s}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yu(){return yu=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},yu.apply(this,arguments)}function W2(e,n){if(e==null)return{};var s={},a=Object.keys(e),c,d;for(d=0;d<a.length;d++)c=a[d],!(n.indexOf(c)>=0)&&(s[c]=e[c]);return s}function H2(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function G2(e,n){return e.button===0&&(!n||n==="_self")&&!H2(e)}const X2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Y2="6";try{window.__reactRouterVersion=Y2}catch{}const Z2="startTransition",i1=jh[Z2];function K2(e){let{basename:n,children:s,future:a,window:c}=e,d=U.useRef();d.current==null&&(d.current=qx({window:c,v5Compat:!0}));let x=d.current,[w,E]=U.useState({action:x.action,location:x.location}),{v7_startTransition:m}=a||{},b=U.useCallback(S=>{m&&i1?i1(()=>E(S)):E(S)},[E,m]);return U.useLayoutEffect(()=>x.listen(b),[x,b]),U.useEffect(()=>U2(a),[a]),U.createElement(V2,{basename:n,children:s,location:w.location,navigationType:w.action,navigator:x,future:a})}const Q2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",q2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ud=U.forwardRef(function(n,s){let{onClick:a,relative:c,reloadDocument:d,replace:x,state:w,target:E,to:m,preventScrollReset:b,viewTransition:S}=n,k=W2(n,X2),{basename:F}=U.useContext(Dr),H,M=!1;if(typeof m=="string"&&q2.test(m)&&(H=m,Q2))try{let _=new URL(window.location.href),V=m.startsWith("//")?new URL(_.protocol+m):new URL(m),$=mc(V.pathname,F);V.origin===_.origin&&$!=null?m=$+V.search+V.hash:M=!0}catch{}let G=N2(m,{relative:c}),R=J2(m,{replace:x,state:w,target:E,preventScrollReset:b,relative:c,viewTransition:S});function T(_){a&&a(_),_.defaultPrevented||R(_)}return U.createElement("a",yu({},k,{href:H||G,onClick:M||d?a:T,ref:s,target:E}))});var s1;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(s1||(s1={}));var o1;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(o1||(o1={}));function J2(e,n){let{target:s,replace:a,state:c,preventScrollReset:d,relative:x,viewTransition:w}=n===void 0?{}:n,E=ni(),m=ti(),b=Ld(e,{relative:x});return U.useCallback(S=>{if(G2(S,s)){S.preventDefault();let k=a!==void 0?a:cl(m)===cl(b);E(e,{replace:k,state:c,preventScrollReset:d,relative:x,viewTransition:w})}},[m,E,b,a,c,s,e,d,x,w])}const $2="/api";async function ot(e,n){const s=localStorage.getItem("token"),a={"Content-Type":"application/json",...n==null?void 0:n.headers};s&&(a.Authorization=`Bearer ${s}`);const c=await fetch(`${$2}${e}`,{...n,headers:a}),d=await c.json();if(!c.ok)throw new Error(d.error||"Request failed");return d}const qe={login:(e,n)=>ot("/auth/login",{method:"POST",body:JSON.stringify({username:e,password:n})}),me:()=>ot("/auth/me"),lookupStudent:e=>ot(`/students/lookup?studentId=${encodeURIComponent(e)}`),searchStudents:e=>ot(`/students/lookup?query=${encodeURIComponent(e)}`),upsertStudent:e=>ot("/students",{method:"POST",body:JSON.stringify(e)}),getDevices:()=>ot("/devices"),lookupDevice:e=>{const n=new URLSearchParams(e).toString();return ot(`/devices/lookup?${n}`)},createDevice:e=>ot("/devices",{method:"POST",body:JSON.stringify(e)}),updateDevice:(e,n)=>ot(`/devices/${e}`,{method:"PUT",body:JSON.stringify(n)}),createManualLoan:e=>ot("/loans/manual",{method:"POST",body:JSON.stringify(e)}),reserveLoan:e=>ot("/loans/reserve",{method:"POST",body:JSON.stringify(e)}),getReservations:()=>ot("/loans/reservations"),checkoutLoan:(e,n)=>ot(`/loans/${e}/checkout`,{method:"POST",body:JSON.stringify(n)}),checkinLoan:e=>ot("/loans/checkin",{method:"POST",body:JSON.stringify(e)}),getActiveLoans:()=>ot("/loans/active"),getLoanHistory:(e=1,n=25)=>ot(`/loans/history?page=${e}&limit=${n}`),updateLoan:(e,n)=>ot(`/loans/${e}`,{method:"PUT",body:JSON.stringify(n)}),cancelLoan:e=>ot(`/loans/${e}`,{method:"DELETE"}),exportLoans:()=>{const e=localStorage.getItem("token"),n=document.createElement("a");return n.href="/api/loans/export",fetch("/api/loans/export",{headers:e?{Authorization:`Bearer ${e}`}:{}}).then(s=>s.blob()).then(s=>{const a=URL.createObjectURL(s);n.href=a,n.download=`loans-${new Date().toISOString().slice(0,10)}.csv`,n.click(),URL.revokeObjectURL(a)})},getStats:()=>ot("/dashboard/stats"),getStaff:()=>ot("/staff"),createStaff:e=>ot("/staff",{method:"POST",body:JSON.stringify(e)}),updateStaff:(e,n)=>ot(`/staff/${e}`,{method:"PUT",body:JSON.stringify(n)})},Vd=U.createContext(null);function ep({children:e}){const[n,s]=U.useState(null),[a,c]=U.useState(!0),[d,x]=U.useState(!1);U.useEffect(()=>{localStorage.getItem("token")?qe.me().then(F=>s(F.data)).catch(()=>localStorage.removeItem("token")).finally(()=>c(!1)):c(!1),sessionStorage.getItem("kioskMode")==="true"&&x(!0)},[]);const w=async(S,k)=>{const F=await qe.login(S,k);localStorage.setItem("token",F.data.token),s(F.data.staff)},E=()=>{localStorage.removeItem("token"),sessionStorage.removeItem("kioskMode"),s(null),x(!1)},m=()=>{x(!0),sessionStorage.setItem("kioskMode","true")},b=async S=>{if(!n)return!1;try{return await qe.login(n.username,S),x(!1),sessionStorage.removeItem("kioskMode"),!0}catch{return!1}};return y.jsx(Vd.Provider,{value:{user:n,loading:a,login:w,logout:E,isAdmin:(n==null?void 0:n.role)==="admin",isKioskMode:d,enterKiosk:m,exitKiosk:b},children:e})}function Vi(){const e=U.useContext(Vd);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}function tp(){const{login:e}=Vi(),n=ni(),[s,a]=U.useState(""),[c,d]=U.useState(""),[x,w]=U.useState(""),[E,m]=U.useState(!1),b=async S=>{S.preventDefault(),w(""),m(!0);try{await e(s,c),n("/admin")}catch(k){w(k.message||"Login failed")}finally{m(!1)}};return y.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:y.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 w-full max-w-sm",children:[y.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-1",children:"Loaner Laptop Manager"}),y.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Sign in to continue"}),x&&y.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md text-red-700 text-sm",children:x}),y.jsxs("form",{onSubmit:b,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Username or Email"}),y.jsx("input",{type:"text",value:s,onChange:S=>a(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",required:!0,autoFocus:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),y.jsx("input",{type:"password",value:c,onChange:S=>d(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",required:!0})]}),y.jsx("button",{type:"submit",disabled:E,className:"w-full py-2 px-4 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white rounded-md font-medium text-sm transition-colors",children:E?"Signing in...":"Sign In"})]}),y.jsxs("p",{className:"mt-4 text-center text-xs text-gray-400",children:["Or go to"," ",y.jsx("a",{href:"/kiosk",className:"text-blue-500 hover:underline",children:"kiosk mode"})]})]})})}function Yi({children:e}){const{user:n,logout:s,isAdmin:a,enterKiosk:c}=Vi(),d=ti(),x=ni(),w=[{to:"/admin",label:"Dashboard",exact:!0},{to:"/admin/reservations",label:"Reservations"},{to:"/admin/loans",label:"Active Loans"},{to:"/admin/history",label:"History"},...a?[{to:"/admin/devices",label:"Devices"},{to:"/admin/staff",label:"Staff"}]:[]],E=(m,b)=>d.pathname===m;return y.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[y.jsxs("aside",{className:"w-60 bg-blue-900 text-white flex flex-col shrink-0",children:[y.jsxs("div",{className:"p-4 border-b border-blue-800",children:[y.jsx("h1",{className:"text-lg font-bold",children:"Loaner Laptops"}),y.jsxs("p",{className:"text-blue-300 text-xs mt-1",children:[n==null?void 0:n.username,"  ",n==null?void 0:n.role]})]}),y.jsx("nav",{className:"flex-1 p-3 space-y-1",children:w.map(m=>y.jsx(Ud,{to:m.to,className:`block px-3 py-2 rounded-md text-sm font-medium transition-colors ${E(m.to,m.exact)?"bg-blue-700 text-white":"text-blue-200 hover:bg-blue-800 hover:text-white"}`,children:m.label},m.to))}),y.jsxs("div",{className:"p-3 border-t border-blue-800 space-y-2",children:[y.jsx("button",{onClick:()=>{c(),x("/kiosk")},className:"w-full px-3 py-2 bg-green-600 hover:bg-green-700 text-white rounded-md text-sm font-medium",children:"Enter Kiosk Mode"}),y.jsx("button",{onClick:()=>{s(),x("/login")},className:"w-full px-3 py-2 bg-blue-800 hover:bg-blue-700 text-white rounded-md text-sm font-medium",children:"Sign Out"})]})]}),y.jsx("main",{className:"flex-1 p-6 overflow-auto",children:e})]})}function np(){const[e,n]=U.useState(null),[s,a]=U.useState(!0);U.useEffect(()=>{qe.getStats().then(d=>n(d.data)).finally(()=>a(!1))},[]);const c=e?[{label:"Available",value:e.available,color:"bg-green-500",link:"/admin/devices"},{label:"Checked Out",value:e.checkedOut,color:"bg-blue-500",link:"/admin/loans"},{label:"Reserved",value:e.reserved,color:"bg-yellow-500",link:"/admin/reservations"},{label:"Overdue",value:e.overdue,color:"bg-red-500",link:"/admin/loans"},{label:"Maintenance",value:e.maintenance,color:"bg-gray-400",link:"/admin/devices"}]:[];return y.jsxs(Yi,{children:[y.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Dashboard"}),s?y.jsx("p",{className:"text-gray-500",children:"Loading stats..."}):y.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 max-w-4xl",children:c.map(d=>y.jsxs(Ud,{to:d.link,className:"bg-white rounded-xl shadow p-4 flex flex-col items-center hover:shadow-md transition-shadow",children:[y.jsx("span",{className:`text-3xl font-bold text-white ${d.color} rounded-full w-16 h-16 flex items-center justify-center mb-2`,children:d.value}),y.jsx("span",{className:"text-sm font-medium text-gray-600",children:d.label})]},d.label))})]})}function rp(){const e=ni(),{user:n,exitKiosk:s}=Vi(),[a,c]=U.useState(!1),[d,x]=U.useState(!1),[w,E]=U.useState(""),[m,b]=U.useState(""),[S,k]=U.useState(!1),[F,H]=U.useState(""),[M,G]=U.useState(""),[R,T]=U.useState(""),[_,V]=U.useState(!1),{login:$,enterKiosk:K}=Vi(),P=async()=>{if(!w)return;k(!0),b(""),await s(w)?(c(!1),e("/admin")):b("Incorrect password"),k(!1),E("")},Q=async()=>{if(!(!F||!M)){V(!0),T("");try{await $(F,M),K(),x(!1),e("/admin")}catch{T("Invalid credentials")}finally{V(!1)}}},X=()=>{n?(c(!0),b(""),E("")):(x(!0),T(""),H(""),G(""))};return y.jsxs("div",{className:"min-h-screen bg-blue-900 flex flex-col items-center justify-center text-white select-none",children:[y.jsxs("div",{className:"text-center mb-16",children:[y.jsx("h1",{className:"text-5xl font-bold mb-3",children:"Loaner Laptops"}),y.jsx("p",{className:"text-blue-300 text-xl",children:"ICT Department Self-Service Kiosk"})]}),y.jsx("div",{className:"w-full max-w-lg px-6",children:y.jsx("button",{onClick:()=>e("/kiosk/checkout"),className:"w-full py-10 text-3xl font-bold bg-green-500 hover:bg-green-400 active:bg-green-600 rounded-2xl shadow-lg transition-colors",children:"Request a Laptop"})}),y.jsx("p",{className:"mt-12 text-blue-400 text-sm text-center px-6",children:"Collect your device from ICT staff after submitting your request"}),y.jsx("button",{onClick:X,className:"fixed bottom-4 right-4 text-xs text-blue-400 bg-blue-800 hover:bg-blue-700 px-3 py-2 rounded opacity-50 hover:opacity-100 transition-opacity",children:n?"Exit Kiosk":"Staff Login"}),a&&y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50",children:y.jsxs("div",{className:"bg-white rounded-2xl p-8 w-full max-w-sm text-gray-900",children:[y.jsx("h2",{className:"text-xl font-bold mb-1",children:"Exit Kiosk Mode"}),y.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"Enter your password to exit"}),m&&y.jsx("p",{className:"text-red-600 text-sm mb-3",children:m}),y.jsx("input",{type:"password",value:w,onChange:ce=>E(ce.target.value),onKeyDown:ce=>ce.key==="Enter"&&P(),placeholder:"Password",className:"w-full border border-gray-300 rounded-lg px-4 py-3 mb-4 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0}),y.jsxs("div",{className:"flex space-x-3",children:[y.jsx("button",{onClick:()=>c(!1),className:"flex-1 py-3 border border-gray-300 rounded-lg text-gray-600 hover:bg-gray-50 text-sm",children:"Cancel"}),y.jsx("button",{onClick:P,disabled:S||!w,className:"flex-1 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 text-sm font-medium",children:S?"Verifying...":"Exit"})]})]})}),d&&y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50",children:y.jsxs("div",{className:"bg-white rounded-2xl p-8 w-full max-w-sm text-gray-900",children:[y.jsx("h2",{className:"text-xl font-bold mb-1",children:"Staff Login"}),y.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"Sign in to access admin mode"}),R&&y.jsx("p",{className:"text-red-600 text-sm mb-3",children:R}),y.jsx("input",{type:"text",value:F,onChange:ce=>H(ce.target.value),placeholder:"Username or email",className:"w-full border border-gray-300 rounded-lg px-4 py-3 mb-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0}),y.jsx("input",{type:"password",value:M,onChange:ce=>G(ce.target.value),onKeyDown:ce=>ce.key==="Enter"&&Q(),placeholder:"Password",className:"w-full border border-gray-300 rounded-lg px-4 py-3 mb-4 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),y.jsxs("div",{className:"flex space-x-3",children:[y.jsx("button",{onClick:()=>x(!1),className:"flex-1 py-3 border border-gray-300 rounded-lg text-gray-600 hover:bg-gray-50 text-sm",children:"Cancel"}),y.jsx("button",{onClick:Q,disabled:_,className:"flex-1 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 text-sm font-medium",children:_?"Signing in...":"Sign In"})]})]})})]})}var ie;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ie||(ie={}));var l1=new Map([[ie.QR_CODE,"QR_CODE"],[ie.AZTEC,"AZTEC"],[ie.CODABAR,"CODABAR"],[ie.CODE_39,"CODE_39"],[ie.CODE_93,"CODE_93"],[ie.CODE_128,"CODE_128"],[ie.DATA_MATRIX,"DATA_MATRIX"],[ie.MAXICODE,"MAXICODE"],[ie.ITF,"ITF"],[ie.EAN_13,"EAN_13"],[ie.EAN_8,"EAN_8"],[ie.PDF_417,"PDF_417"],[ie.RSS_14,"RSS_14"],[ie.RSS_EXPANDED,"RSS_EXPANDED"],[ie.UPC_A,"UPC_A"],[ie.UPC_E,"UPC_E"],[ie.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),a1;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(a1||(a1={}));function ip(e){return Object.values(ie).includes(e)}var fl;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(fl||(fl={}));var sp=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[fl.SCAN_TYPE_CAMERA,fl.SCAN_TYPE_FILE],e}(),zd=function(){function e(n,s){this.format=n,this.formatName=s}return e.prototype.toString=function(){return this.formatName},e.create=function(n){if(!l1.has(n))throw"".concat(n," not in html5QrcodeSupportedFormatsTextMap");return new e(n,l1.get(n))},e}(),u1=function(){function e(){}return e.createFromText=function(n){var s={text:n};return{decodedText:n,result:s}},e.createFromQrcodeResult=function(n){return{decodedText:n.text,result:n}},e}(),Eu;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Eu||(Eu={}));var op=function(){function e(){}return e.createFrom=function(n){return{errorMessage:n,type:Eu.UNKWOWN_ERROR}},e}(),lp=function(){function e(n){this.verbose=n}return e.prototype.log=function(n){this.verbose&&console.log(n)},e.prototype.warn=function(n){this.verbose&&console.warn(n)},e.prototype.logError=function(n,s){(this.verbose||s===!0)&&console.error(n)},e.prototype.logErrors=function(n){if(n.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(n)},e}();function Gn(e){return typeof e>"u"||e===null}var bi=function(){function e(){}return e.codeParseError=function(n){return"QR code parse error, error = ".concat(n)},e.errorGettingUserMedia=function(n){return"Error getting userMedia, error = ".concat(n)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),Wd=function(){function e(){}return e.isMediaStreamConstraintsValid=function(n,s){if(typeof n!="object"){var a=typeof n;return s.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(a,"."),!0),!1}for(var c=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],d=new Set(c),x=Object.keys(n),w=0,E=x;w<E.length;w++){var m=E[w];if(d.has(m))return s.logError("".concat(m," is not supported videoConstaints."),!0),!1}return!0},e}(),Cu={exports:{}};(function(e,n){(function(s,a){a(n)})(ss,function(s){function a(C){return C==null}var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,t){C.__proto__=t}||function(C,t){for(var r in t)t.hasOwnProperty(r)&&(C[r]=t[r])};function d(C,t){c(C,t);function r(){this.constructor=C}C.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function x(C,t){var r=Object.setPrototypeOf;r?r(C,t):C.__proto__=t}function w(C,t){t===void 0&&(t=C.constructor);var r=Error.captureStackTrace;r&&r(C,t)}var E=function(C){d(t,C);function t(r){var i=this.constructor,o=C.call(this,r)||this;return Object.defineProperty(o,"name",{value:i.name,enumerable:!1}),x(o,i.prototype),w(o),o}return t}(Error);class m extends E{constructor(t=void 0){super(t),this.message=t}getKind(){return this.constructor.kind}}m.kind="Exception";class b extends m{}b.kind="ArgumentException";class S extends m{}S.kind="IllegalArgumentException";class k{constructor(t){if(this.binarizer=t,t===null)throw new S("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(t,r){return this.binarizer.getBlackRow(t,r)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(t,r,i,o){const l=this.binarizer.getLuminanceSource().crop(t,r,i,o);return new k(this.binarizer.createBinarizer(l))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new k(this.binarizer.createBinarizer(t))}rotateCounterClockwise45(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new k(this.binarizer.createBinarizer(t))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class F extends m{static getChecksumInstance(){return new F}}F.kind="ChecksumException";class H{constructor(t){this.source=t}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class M{static arraycopy(t,r,i,o,l){for(;l--;)i[o++]=t[r++]}static currentTimeMillis(){return Date.now()}}class G extends m{}G.kind="IndexOutOfBoundsException";class R extends G{constructor(t=void 0,r=void 0){super(r),this.index=t,this.message=r}}R.kind="ArrayIndexOutOfBoundsException";class T{static fill(t,r){for(let i=0,o=t.length;i<o;i++)t[i]=r}static fillWithin(t,r,i,o){T.rangeCheck(t.length,r,i);for(let l=r;l<i;l++)t[l]=o}static rangeCheck(t,r,i){if(r>i)throw new S("fromIndex("+r+") > toIndex("+i+")");if(r<0)throw new R(r);if(i>t)throw new R(i)}static asList(...t){return t}static create(t,r,i){return Array.from({length:t}).map(l=>Array.from({length:r}).fill(i))}static createInt32Array(t,r,i){return Array.from({length:t}).map(l=>Int32Array.from({length:r}).fill(i))}static equals(t,r){if(!t||!r||!t.length||!r.length||t.length!==r.length)return!1;for(let i=0,o=t.length;i<o;i++)if(t[i]!==r[i])return!1;return!0}static hashCode(t){if(t===null)return 0;let r=1;for(const i of t)r=31*r+i;return r}static fillUint8Array(t,r){for(let i=0;i!==t.length;i++)t[i]=r}static copyOf(t,r){return t.slice(0,r)}static copyOfUint8Array(t,r){if(t.length<=r){const i=new Uint8Array(r);return i.set(t),i}return t.slice(0,r)}static copyOfRange(t,r,i){const o=i-r,l=new Int32Array(o);return M.arraycopy(t,r,l,0,o),l}static binarySearch(t,r,i){i===void 0&&(i=T.numberComparator);let o=0,l=t.length-1;for(;o<=l;){const u=l+o>>1,f=i(r,t[u]);if(f>0)o=u+1;else if(f<0)l=u-1;else return u}return-o-1}static numberComparator(t,r){return t-r}}class _{static numberOfTrailingZeros(t){let r;if(t===0)return 32;let i=31;return r=t<<16,r!==0&&(i-=16,t=r),r=t<<8,r!==0&&(i-=8,t=r),r=t<<4,r!==0&&(i-=4,t=r),r=t<<2,r!==0&&(i-=2,t=r),i-(t<<1>>>31)}static numberOfLeadingZeros(t){if(t===0)return 32;let r=1;return t>>>16||(r+=16,t<<=16),t>>>24||(r+=8,t<<=8),t>>>28||(r+=4,t<<=4),t>>>30||(r+=2,t<<=2),r-=t>>>31,r}static toHexString(t){return t.toString(16)}static toBinaryString(t){return String(parseInt(String(t),2))}static bitCount(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63}static truncDivision(t,r){return Math.trunc(t/r)}static parseInt(t,r=void 0){return parseInt(t,r)}}_.MIN_VALUE_32_BITS=-2147483648,_.MAX_VALUE=Number.MAX_SAFE_INTEGER;class V{constructor(t,r){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,r==null?this.bits=V.makeArray(t):this.bits=r)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(t){if(t>this.bits.length*32){const r=V.makeArray(t);M.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}}get(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0}set(t){this.bits[Math.floor(t/32)]|=1<<(t&31)}flip(t){this.bits[Math.floor(t/32)]^=1<<(t&31)}getNextSet(t){const r=this.size;if(t>=r)return r;const i=this.bits;let o=Math.floor(t/32),l=i[o];l&=~((1<<(t&31))-1);const u=i.length;for(;l===0;){if(++o===u)return r;l=i[o]}const f=o*32+_.numberOfTrailingZeros(l);return f>r?r:f}getNextUnset(t){const r=this.size;if(t>=r)return r;const i=this.bits;let o=Math.floor(t/32),l=~i[o];l&=~((1<<(t&31))-1);const u=i.length;for(;l===0;){if(++o===u)return r;l=~i[o]}const f=o*32+_.numberOfTrailingZeros(l);return f>r?r:f}setBulk(t,r){this.bits[Math.floor(t/32)]=r}setRange(t,r){if(r<t||t<0||r>this.size)throw new S;if(r===t)return;r--;const i=Math.floor(t/32),o=Math.floor(r/32),l=this.bits;for(let u=i;u<=o;u++){const f=u>i?0:t&31,g=(2<<(u<o?31:r&31))-(1<<f);l[u]|=g}}clear(){const t=this.bits.length,r=this.bits;for(let i=0;i<t;i++)r[i]=0}isRange(t,r,i){if(r<t||t<0||r>this.size)throw new S;if(r===t)return!0;r--;const o=Math.floor(t/32),l=Math.floor(r/32),u=this.bits;for(let f=o;f<=l;f++){const h=f>o?0:t&31,p=(2<<(f<l?31:r&31))-(1<<h)&4294967295;if((u[f]&p)!==(i?p:0))return!1}return!0}appendBit(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(t,r){if(r<0||r>32)throw new S("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(let i=r;i>0;i--)this.appendBit((t>>i-1&1)===1)}appendBitArray(t){const r=t.size;this.ensureCapacity(this.size+r);for(let i=0;i<r;i++)this.appendBit(t.get(i))}xor(t){if(this.size!==t.size)throw new S("Sizes don't match");const r=this.bits;for(let i=0,o=r.length;i<o;i++)r[i]^=t.bits[i]}toBytes(t,r,i,o){for(let l=0;l<o;l++){let u=0;for(let f=0;f<8;f++)this.get(t)&&(u|=1<<7-f),t++;r[i+l]=u}}getBitArray(){return this.bits}reverse(){const t=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),i=r+1,o=this.bits;for(let l=0;l<i;l++){let u=o[l];u=u>>1&1431655765|(u&1431655765)<<1,u=u>>2&858993459|(u&858993459)<<2,u=u>>4&252645135|(u&252645135)<<4,u=u>>8&16711935|(u&16711935)<<8,u=u>>16&65535|(u&65535)<<16,t[r-l]=u}if(this.size!==i*32){const l=i*32-this.size;let u=t[0]>>>l;for(let f=1;f<i;f++){const h=t[f];u|=h<<32-l,t[f-1]=u,u=h>>>l}t[i-1]=u}this.bits=t}static makeArray(t){return new Int32Array(Math.floor((t+31)/32))}equals(t){if(!(t instanceof V))return!1;const r=t;return this.size===r.size&&T.equals(this.bits,r.bits)}hashCode(){return 31*this.size+T.hashCode(this.bits)}toString(){let t="";for(let r=0,i=this.size;r<i;r++)r&7||(t+=" "),t+=this.get(r)?"X":".";return t}clone(){return new V(this.size,this.bits.slice())}}var $;(function(C){C[C.OTHER=0]="OTHER",C[C.PURE_BARCODE=1]="PURE_BARCODE",C[C.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",C[C.TRY_HARDER=3]="TRY_HARDER",C[C.CHARACTER_SET=4]="CHARACTER_SET",C[C.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",C[C.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",C[C.ASSUME_GS1=7]="ASSUME_GS1",C[C.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",C[C.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",C[C.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})($||($={}));var K=$;class P extends m{static getFormatInstance(){return new P}}P.kind="FormatException";var Q;(function(C){C[C.Cp437=0]="Cp437",C[C.ISO8859_1=1]="ISO8859_1",C[C.ISO8859_2=2]="ISO8859_2",C[C.ISO8859_3=3]="ISO8859_3",C[C.ISO8859_4=4]="ISO8859_4",C[C.ISO8859_5=5]="ISO8859_5",C[C.ISO8859_6=6]="ISO8859_6",C[C.ISO8859_7=7]="ISO8859_7",C[C.ISO8859_8=8]="ISO8859_8",C[C.ISO8859_9=9]="ISO8859_9",C[C.ISO8859_10=10]="ISO8859_10",C[C.ISO8859_11=11]="ISO8859_11",C[C.ISO8859_13=12]="ISO8859_13",C[C.ISO8859_14=13]="ISO8859_14",C[C.ISO8859_15=14]="ISO8859_15",C[C.ISO8859_16=15]="ISO8859_16",C[C.SJIS=16]="SJIS",C[C.Cp1250=17]="Cp1250",C[C.Cp1251=18]="Cp1251",C[C.Cp1252=19]="Cp1252",C[C.Cp1256=20]="Cp1256",C[C.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",C[C.UTF8=22]="UTF8",C[C.ASCII=23]="ASCII",C[C.Big5=24]="Big5",C[C.GB18030=25]="GB18030",C[C.EUC_KR=26]="EUC_KR"})(Q||(Q={}));class X{constructor(t,r,i,...o){this.valueIdentifier=t,this.name=i,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=o,X.VALUE_IDENTIFIER_TO_ECI.set(t,this),X.NAME_TO_ECI.set(i,this);const l=this.values;for(let u=0,f=l.length;u!==f;u++){const h=l[u];X.VALUES_TO_ECI.set(h,this)}for(const u of o)X.NAME_TO_ECI.set(u,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(t){if(t<0||t>=900)throw new P("incorect value");const r=X.VALUES_TO_ECI.get(t);if(r===void 0)throw new P("incorect value");return r}static getCharacterSetECIByName(t){const r=X.NAME_TO_ECI.get(t);if(r===void 0)throw new P("incorect value");return r}equals(t){if(!(t instanceof X))return!1;const r=t;return this.getName()===r.getName()}}X.VALUE_IDENTIFIER_TO_ECI=new Map,X.VALUES_TO_ECI=new Map,X.NAME_TO_ECI=new Map,X.Cp437=new X(Q.Cp437,Int32Array.from([0,2]),"Cp437"),X.ISO8859_1=new X(Q.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),X.ISO8859_2=new X(Q.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),X.ISO8859_3=new X(Q.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),X.ISO8859_4=new X(Q.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),X.ISO8859_5=new X(Q.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),X.ISO8859_6=new X(Q.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),X.ISO8859_7=new X(Q.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),X.ISO8859_8=new X(Q.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),X.ISO8859_9=new X(Q.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),X.ISO8859_10=new X(Q.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),X.ISO8859_11=new X(Q.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),X.ISO8859_13=new X(Q.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),X.ISO8859_14=new X(Q.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),X.ISO8859_15=new X(Q.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),X.ISO8859_16=new X(Q.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),X.SJIS=new X(Q.SJIS,20,"SJIS","Shift_JIS"),X.Cp1250=new X(Q.Cp1250,21,"Cp1250","windows-1250"),X.Cp1251=new X(Q.Cp1251,22,"Cp1251","windows-1251"),X.Cp1252=new X(Q.Cp1252,23,"Cp1252","windows-1252"),X.Cp1256=new X(Q.Cp1256,24,"Cp1256","windows-1256"),X.UnicodeBigUnmarked=new X(Q.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),X.UTF8=new X(Q.UTF8,26,"UTF8","UTF-8"),X.ASCII=new X(Q.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),X.Big5=new X(Q.Big5,28,"Big5"),X.GB18030=new X(Q.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),X.EUC_KR=new X(Q.EUC_KR,30,"EUC_KR","EUC-KR");class ce extends m{}ce.kind="UnsupportedOperationException";class Ie{static decode(t,r){const i=this.encodingName(r);return this.customDecoder?this.customDecoder(t,i):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(i)?this.decodeFallback(t,i):new TextDecoder(i).decode(t)}static shouldDecodeOnFallback(t){return!Ie.isBrowser()&&t==="ISO-8859-1"}static encode(t,r){const i=this.encodingName(r);return this.customEncoder?this.customEncoder(t,i):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(t){return typeof t=="string"?t:t.getName()}static encodingCharacterSet(t){return t instanceof X?t:X.getCharacterSetECIByName(t)}static decodeFallback(t,r){const i=this.encodingCharacterSet(r);if(Ie.isDecodeFallbackSupported(i)){let o="";for(let l=0,u=t.length;l<u;l++){let f=t[l].toString(16);f.length<2&&(f="0"+f),o+="%"+f}return decodeURIComponent(o)}if(i.equals(X.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new ce(`Encoding ${this.encodingName(r)} not supported by fallback.`)}static isDecodeFallbackSupported(t){return t.equals(X.UTF8)||t.equals(X.ISO8859_1)||t.equals(X.ASCII)}static encodeFallback(t){const i=btoa(unescape(encodeURIComponent(t))).split(""),o=[];for(let l=0;l<i.length;l++)o.push(i[l].charCodeAt(0));return new Uint8Array(o)}}class ue{static castAsNonUtf8Char(t,r=null){const i=r?r.getName():this.ISO88591;return Ie.decode(new Uint8Array([t]),i)}static guessEncoding(t,r){if(r!=null&&r.get(K.CHARACTER_SET)!==void 0)return r.get(K.CHARACTER_SET).toString();const i=t.length;let o=!0,l=!0,u=!0,f=0,h=0,g=0,p=0,v=0,A=0,I=0,O=0,D=0,B=0,W=0;const J=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191;for(let ee=0;ee<i&&(o||l||u);ee++){const Z=t[ee]&255;u&&(f>0?Z&128?f--:u=!1:Z&128&&(Z&64?(f++,Z&32?(f++,Z&16?(f++,Z&8?u=!1:p++):g++):h++):u=!1)),o&&(Z>127&&Z<160?o=!1:Z>159&&(Z<192||Z===215||Z===247)&&W++),l&&(v>0?Z<64||Z===127||Z>252?l=!1:v--:Z===128||Z===160||Z>239?l=!1:Z>160&&Z<224?(A++,O=0,I++,I>D&&(D=I)):Z>127?(v++,I=0,O++,O>B&&(B=O)):(I=0,O=0))}return u&&f>0&&(u=!1),l&&v>0&&(l=!1),u&&(J||h+g+p>0)?ue.UTF8:l&&(ue.ASSUME_SHIFT_JIS||D>=3||B>=3)?ue.SHIFT_JIS:o&&l?D===2&&A===2||W*10>=i?ue.SHIFT_JIS:ue.ISO88591:o?ue.ISO88591:l?ue.SHIFT_JIS:u?ue.UTF8:ue.PLATFORM_DEFAULT_ENCODING}static format(t,...r){let i=-1;function o(u,f,h,g,p,v){if(u==="%%")return"%";if(r[++i]===void 0)return;u=g?parseInt(g.substr(1)):void 0;let A=p?parseInt(p.substr(1)):void 0,I;switch(v){case"s":I=r[i];break;case"c":I=r[i][0];break;case"f":I=parseFloat(r[i]).toFixed(u);break;case"p":I=parseFloat(r[i]).toPrecision(u);break;case"e":I=parseFloat(r[i]).toExponential(u);break;case"x":I=parseInt(r[i]).toString(A||16);break;case"d":I=parseFloat(parseInt(r[i],A||10).toPrecision(u)).toFixed(0);break}I=typeof I=="object"?JSON.stringify(I):(+I).toString(A);let O=parseInt(h),D=h&&h[0]+""=="0"?"0":" ";for(;I.length<O;)I=f!==void 0?I+D:D+I;return I}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(l,o)}static getBytes(t,r){return Ie.encode(t,r)}static getCharCode(t,r=0){return t.charCodeAt(r)}static getCharAt(t){return String.fromCharCode(t)}}ue.SHIFT_JIS=X.SJIS.getName(),ue.GB2312="GB2312",ue.ISO88591=X.ISO8859_1.getName(),ue.EUC_JP="EUC_JP",ue.UTF8=X.UTF8.getName(),ue.PLATFORM_DEFAULT_ENCODING=ue.UTF8,ue.ASSUME_SHIFT_JIS=!1;class we{constructor(t=""){this.value=t}enableDecoding(t){return this.encoding=t,this}append(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=ue.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this}appendChars(t,r,i){for(let o=r;r<r+i;o++)this.append(t[o]);return this}length(){return this.value.length}charAt(t){return this.value.charAt(t)}deleteCharAt(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)}setCharAt(t,r){this.value=this.value.substr(0,t)+r+this.value.substr(t+1)}substring(t,r){return this.value.substring(t,r)}setLengthToZero(){this.value=""}toString(){return this.value}insert(t,r){this.value=this.value.substr(0,t)+r+this.value.substr(t+r.length)}}class Be{constructor(t,r,i,o){if(this.width=t,this.height=r,this.rowSize=i,this.bits=o,r==null&&(r=t),this.height=r,t<1||r<1)throw new S("Both dimensions must be greater than 0");i==null&&(i=Math.floor((t+31)/32)),this.rowSize=i,o==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(t){const r=t.length,i=t[0].length,o=new Be(i,r);for(let l=0;l<r;l++){const u=t[l];for(let f=0;f<i;f++)u[f]&&o.set(f,l)}return o}static parseFromString(t,r,i){if(t===null)throw new S("stringRepresentation cannot be null");const o=new Array(t.length);let l=0,u=0,f=-1,h=0,g=0;for(;g<t.length;)if(t.charAt(g)===`
`||t.charAt(g)==="\r"){if(l>u){if(f===-1)f=l-u;else if(l-u!==f)throw new S("row lengths do not match");u=l,h++}g++}else if(t.substring(g,g+r.length)===r)g+=r.length,o[l]=!0,l++;else if(t.substring(g,g+i.length)===i)g+=i.length,o[l]=!1,l++;else throw new S("illegal character encountered: "+t.substring(g));if(l>u){if(f===-1)f=l-u;else if(l-u!==f)throw new S("row lengths do not match");h++}const p=new Be(f,h);for(let v=0;v<l;v++)o[v]&&p.set(Math.floor(v%f),Math.floor(v/f));return p}get(t,r){const i=r*this.rowSize+Math.floor(t/32);return(this.bits[i]>>>(t&31)&1)!==0}set(t,r){const i=r*this.rowSize+Math.floor(t/32);this.bits[i]|=1<<(t&31)&4294967295}unset(t,r){const i=r*this.rowSize+Math.floor(t/32);this.bits[i]&=~(1<<(t&31)&4294967295)}flip(t,r){const i=r*this.rowSize+Math.floor(t/32);this.bits[i]^=1<<(t&31)&4294967295}xor(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new S("input matrix dimensions do not match");const r=new V(Math.floor(this.width/32)+1),i=this.rowSize,o=this.bits;for(let l=0,u=this.height;l<u;l++){const f=l*i,h=t.getRow(l,r).getBitArray();for(let g=0;g<i;g++)o[f+g]^=h[g]}}clear(){const t=this.bits,r=t.length;for(let i=0;i<r;i++)t[i]=0}setRegion(t,r,i,o){if(r<0||t<0)throw new S("Left and top must be nonnegative");if(o<1||i<1)throw new S("Height and width must be at least 1");const l=t+i,u=r+o;if(u>this.height||l>this.width)throw new S("The region must fit inside the matrix");const f=this.rowSize,h=this.bits;for(let g=r;g<u;g++){const p=g*f;for(let v=t;v<l;v++)h[p+Math.floor(v/32)]|=1<<(v&31)&4294967295}}getRow(t,r){r==null||r.getSize()<this.width?r=new V(this.width):r.clear();const i=this.rowSize,o=this.bits,l=t*i;for(let u=0;u<i;u++)r.setBulk(u*32,o[l+u]);return r}setRow(t,r){M.arraycopy(r.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)}rotate180(){const t=this.getWidth(),r=this.getHeight();let i=new V(t),o=new V(t);for(let l=0,u=Math.floor((r+1)/2);l<u;l++)i=this.getRow(l,i),o=this.getRow(r-1-l,o),i.reverse(),o.reverse(),this.setRow(l,o),this.setRow(r-1-l,i)}getEnclosingRectangle(){const t=this.width,r=this.height,i=this.rowSize,o=this.bits;let l=t,u=r,f=-1,h=-1;for(let g=0;g<r;g++)for(let p=0;p<i;p++){const v=o[g*i+p];if(v!==0){if(g<u&&(u=g),g>h&&(h=g),p*32<l){let A=0;for(;!(v<<31-A&4294967295);)A++;p*32+A<l&&(l=p*32+A)}if(p*32+31>f){let A=31;for(;!(v>>>A);)A--;p*32+A>f&&(f=p*32+A)}}}return f<l||h<u?null:Int32Array.from([l,u,f-l+1,h-u+1])}getTopLeftOnBit(){const t=this.rowSize,r=this.bits;let i=0;for(;i<r.length&&r[i]===0;)i++;if(i===r.length)return null;const o=i/t;let l=i%t*32;const u=r[i];let f=0;for(;!(u<<31-f&4294967295);)f++;return l+=f,Int32Array.from([l,o])}getBottomRightOnBit(){const t=this.rowSize,r=this.bits;let i=r.length-1;for(;i>=0&&r[i]===0;)i--;if(i<0)return null;const o=Math.floor(i/t);let l=Math.floor(i%t)*32;const u=r[i];let f=31;for(;!(u>>>f);)f--;return l+=f,Int32Array.from([l,o])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(t){if(!(t instanceof Be))return!1;const r=t;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&T.equals(this.bits,r.bits)}hashCode(){let t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+T.hashCode(this.bits),t}toString(t="X ",r="  ",i=`
`){return this.buildToString(t,r,i)}buildToString(t,r,i){let o=new we;for(let l=0,u=this.height;l<u;l++){for(let f=0,h=this.width;f<h;f++)o.append(this.get(f,l)?t:r);o.append(i)}return o.toString()}clone(){return new Be(this.width,this.height,this.rowSize,this.bits.slice())}}class L extends m{static getNotFoundInstance(){return new L}}L.kind="NotFoundException";class be extends H{constructor(t){super(t),this.luminances=be.EMPTY,this.buckets=new Int32Array(be.LUMINANCE_BUCKETS)}getBlackRow(t,r){const i=this.getLuminanceSource(),o=i.getWidth();r==null||r.getSize()<o?r=new V(o):r.clear(),this.initArrays(o);const l=i.getRow(t,this.luminances),u=this.buckets;for(let h=0;h<o;h++)u[(l[h]&255)>>be.LUMINANCE_SHIFT]++;const f=be.estimateBlackPoint(u);if(o<3)for(let h=0;h<o;h++)(l[h]&255)<f&&r.set(h);else{let h=l[0]&255,g=l[1]&255;for(let p=1;p<o-1;p++){const v=l[p+1]&255;(g*4-h-v)/2<f&&r.set(p),h=g,g=v}}return r}getBlackMatrix(){const t=this.getLuminanceSource(),r=t.getWidth(),i=t.getHeight(),o=new Be(r,i);this.initArrays(r);const l=this.buckets;for(let h=1;h<5;h++){const g=Math.floor(i*h/5),p=t.getRow(g,this.luminances),v=Math.floor(r*4/5);for(let A=Math.floor(r/5);A<v;A++){const I=p[A]&255;l[I>>be.LUMINANCE_SHIFT]++}}const u=be.estimateBlackPoint(l),f=t.getMatrix();for(let h=0;h<i;h++){const g=h*r;for(let p=0;p<r;p++)(f[g+p]&255)<u&&o.set(p,h)}return o}createBinarizer(t){return new be(t)}initArrays(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));const r=this.buckets;for(let i=0;i<be.LUMINANCE_BUCKETS;i++)r[i]=0}static estimateBlackPoint(t){const r=t.length;let i=0,o=0,l=0;for(let p=0;p<r;p++)t[p]>l&&(o=p,l=t[p]),t[p]>i&&(i=t[p]);let u=0,f=0;for(let p=0;p<r;p++){const v=p-o,A=t[p]*v*v;A>f&&(u=p,f=A)}if(o>u){const p=o;o=u,u=p}if(u-o<=r/16)throw new L;let h=u-1,g=-1;for(let p=u-1;p>o;p--){const v=p-o,A=v*v*(u-p)*(i-t[p]);A>g&&(h=p,g=A)}return h<<be.LUMINANCE_SHIFT}}be.LUMINANCE_BITS=5,be.LUMINANCE_SHIFT=8-be.LUMINANCE_BITS,be.LUMINANCE_BUCKETS=1<<be.LUMINANCE_BITS,be.EMPTY=Uint8ClampedArray.from([0]);class fe extends be{constructor(t){super(t),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const t=this.getLuminanceSource(),r=t.getWidth(),i=t.getHeight();if(r>=fe.MINIMUM_DIMENSION&&i>=fe.MINIMUM_DIMENSION){const o=t.getMatrix();let l=r>>fe.BLOCK_SIZE_POWER;r&fe.BLOCK_SIZE_MASK&&l++;let u=i>>fe.BLOCK_SIZE_POWER;i&fe.BLOCK_SIZE_MASK&&u++;const f=fe.calculateBlackPoints(o,l,u,r,i),h=new Be(r,i);fe.calculateThresholdForBlock(o,l,u,r,i,f,h),this.matrix=h}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(t){return new fe(t)}static calculateThresholdForBlock(t,r,i,o,l,u,f){const h=l-fe.BLOCK_SIZE,g=o-fe.BLOCK_SIZE;for(let p=0;p<i;p++){let v=p<<fe.BLOCK_SIZE_POWER;v>h&&(v=h);const A=fe.cap(p,2,i-3);for(let I=0;I<r;I++){let O=I<<fe.BLOCK_SIZE_POWER;O>g&&(O=g);const D=fe.cap(I,2,r-3);let B=0;for(let J=-2;J<=2;J++){const ee=u[A+J];B+=ee[D-2]+ee[D-1]+ee[D]+ee[D+1]+ee[D+2]}const W=B/25;fe.thresholdBlock(t,O,v,W,o,f)}}}static cap(t,r,i){return t<r?r:t>i?i:t}static thresholdBlock(t,r,i,o,l,u){for(let f=0,h=i*l+r;f<fe.BLOCK_SIZE;f++,h+=l)for(let g=0;g<fe.BLOCK_SIZE;g++)(t[h+g]&255)<=o&&u.set(r+g,i+f)}static calculateBlackPoints(t,r,i,o,l){const u=l-fe.BLOCK_SIZE,f=o-fe.BLOCK_SIZE,h=new Array(i);for(let g=0;g<i;g++){h[g]=new Int32Array(r);let p=g<<fe.BLOCK_SIZE_POWER;p>u&&(p=u);for(let v=0;v<r;v++){let A=v<<fe.BLOCK_SIZE_POWER;A>f&&(A=f);let I=0,O=255,D=0;for(let W=0,J=p*o+A;W<fe.BLOCK_SIZE;W++,J+=o){for(let ee=0;ee<fe.BLOCK_SIZE;ee++){const Z=t[J+ee]&255;I+=Z,Z<O&&(O=Z),Z>D&&(D=Z)}if(D-O>fe.MIN_DYNAMIC_RANGE)for(W++,J+=o;W<fe.BLOCK_SIZE;W++,J+=o)for(let ee=0;ee<fe.BLOCK_SIZE;ee++)I+=t[J+ee]&255}let B=I>>fe.BLOCK_SIZE_POWER*2;if(D-O<=fe.MIN_DYNAMIC_RANGE&&(B=O/2,g>0&&v>0)){const W=(h[g-1][v]+2*h[g][v-1]+h[g-1][v-1])/4;O<W&&(B=W)}h[g][v]=B}}return h}}fe.BLOCK_SIZE_POWER=3,fe.BLOCK_SIZE=1<<fe.BLOCK_SIZE_POWER,fe.BLOCK_SIZE_MASK=fe.BLOCK_SIZE-1,fe.MINIMUM_DIMENSION=fe.BLOCK_SIZE*5,fe.MIN_DYNAMIC_RANGE=24;class te{constructor(t,r){this.width=t,this.height=r}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(t,r,i,o){throw new ce("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new ce("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new ce("This luminance source does not support rotation by 45 degrees.")}toString(){const t=new Uint8ClampedArray(this.width);let r=new we;for(let i=0;i<this.height;i++){const o=this.getRow(i,t);for(let l=0;l<this.width;l++){const u=o[l]&255;let f;u<64?f="#":u<128?f="+":u<192?f=".":f=" ",r.append(f)}r.append(`
`)}return r.toString()}}class xe extends te{constructor(t){super(t.getWidth(),t.getHeight()),this.delegate=t}getRow(t,r){const i=this.delegate.getRow(t,r),o=this.getWidth();for(let l=0;l<o;l++)i[l]=255-(i[l]&255);return i}getMatrix(){const t=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(r);for(let o=0;o<r;o++)i[o]=255-(t[o]&255);return i}isCropSupported(){return this.delegate.isCropSupported()}crop(t,r,i,o){return new xe(this.delegate.crop(t,r,i,o))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new xe(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new xe(this.delegate.rotateCounterClockwise45())}}class he extends te{constructor(t){super(t.width,t.height),this.canvas=t,this.tempCanvasElement=null,this.buffer=he.makeBufferFromCanvasImageData(t)}static makeBufferFromCanvasImageData(t){const r=t.getContext("2d").getImageData(0,0,t.width,t.height);return he.toGrayscaleBuffer(r.data,t.width,t.height)}static toGrayscaleBuffer(t,r,i){const o=new Uint8ClampedArray(r*i);for(let l=0,u=0,f=t.length;l<f;l+=4,u++){let h;if(t[l+3]===0)h=255;else{const p=t[l],v=t[l+1],A=t[l+2];h=306*p+601*v+117*A+512>>10}o[u]=h}return o}getRow(t,r){if(t<0||t>=this.getHeight())throw new S("Requested row is outside the image: "+t);const i=this.getWidth(),o=t*i;return r===null?r=this.buffer.slice(o,o+i):(r.length<i&&(r=new Uint8ClampedArray(i)),r.set(this.buffer.slice(o,o+i))),r}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(t,r,i,o){return super.crop(t,r,i,o),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement}rotate(t){const r=this.getTempCanvasElement(),i=r.getContext("2d"),o=t*he.DEGREE_TO_RADIANS,l=this.canvas.width,u=this.canvas.height,f=Math.ceil(Math.abs(Math.cos(o))*l+Math.abs(Math.sin(o))*u),h=Math.ceil(Math.abs(Math.sin(o))*l+Math.abs(Math.cos(o))*u);return r.width=f,r.height=h,i.translate(f/2,h/2),i.rotate(o),i.drawImage(this.canvas,l/-2,u/-2),this.buffer=he.makeBufferFromCanvasImageData(r),this}invert(){return new xe(this)}}he.DEGREE_TO_RADIANS=Math.PI/180;class Fe{constructor(t,r,i){this.deviceId=t,this.label=r,this.kind="videoinput",this.groupId=i||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Ae=(globalThis||ss||self||window||void 0)&&(globalThis||ss||self||window||void 0).__awaiter||function(C,t,r,i){function o(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function f(p){try{g(i.next(p))}catch(v){u(v)}}function h(p){try{g(i.throw(p))}catch(v){u(v)}}function g(p){p.done?l(p.value):o(p.value).then(f,h)}g((i=i.apply(C,t||[])).next())})};class zt{constructor(t,r=500,i){this.reader=t,this.timeBetweenScansMillis=r,this._hints=i,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(t){this._timeBetweenDecodingAttempts=t<0?0:t}set hints(t){this._hints=t||null}get hints(){return this._hints}listVideoInputDevices(){return Ae(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const t=yield navigator.mediaDevices.enumerateDevices(),r=[];for(const i of t){const o=i.kind==="video"?"videoinput":i.kind;if(o!=="videoinput")continue;const l=i.deviceId||i.id,u=i.label||`Video device ${r.length+1}`,f=i.groupId,h={deviceId:l,label:u,kind:o,groupId:f};r.push(h)}return r})}getVideoInputDevices(){return Ae(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(r=>new Fe(r.deviceId,r.label))})}findDeviceById(t){return Ae(this,void 0,void 0,function*(){const r=yield this.listVideoInputDevices();return r?r.find(i=>i.deviceId===t):null})}decodeFromInputVideoDevice(t,r){return Ae(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(t,r)})}decodeOnceFromVideoDevice(t,r){return Ae(this,void 0,void 0,function*(){this.reset();let i;t?i={deviceId:{exact:t}}:i={facingMode:"environment"};const o={video:i};return yield this.decodeOnceFromConstraints(o,r)})}decodeOnceFromConstraints(t,r){return Ae(this,void 0,void 0,function*(){const i=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeOnceFromStream(i,r)})}decodeOnceFromStream(t,r){return Ae(this,void 0,void 0,function*(){this.reset();const i=yield this.attachStreamToVideo(t,r);return yield this.decodeOnce(i)})}decodeFromInputVideoDeviceContinuously(t,r,i){return Ae(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(t,r,i)})}decodeFromVideoDevice(t,r,i){return Ae(this,void 0,void 0,function*(){let o;t?o={deviceId:{exact:t}}:o={facingMode:"environment"};const l={video:o};return yield this.decodeFromConstraints(l,r,i)})}decodeFromConstraints(t,r,i){return Ae(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeFromStream(o,r,i)})}decodeFromStream(t,r,i){return Ae(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(t,r);return yield this.decodeContinuously(o,i)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(t,r){return Ae(this,void 0,void 0,function*(){const i=this.prepareVideoElement(r);return this.addVideoSource(i,t),this.videoElement=i,this.stream=t,yield this.playVideoOnLoadAsync(i),i})}playVideoOnLoadAsync(t){return new Promise((r,i)=>this.playVideoOnLoad(t,()=>r()))}playVideoOnLoad(t,r){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(t),t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",r),this.tryPlayVideo(t)}isVideoPlaying(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2}tryPlayVideo(t){return Ae(this,void 0,void 0,function*(){if(this.isVideoPlaying(t)){console.warn("Trying to play video that is already playing.");return}try{yield t.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(t,r){const i=document.getElementById(t);if(!i)throw new b(`element with id '${t}' not found`);if(i.nodeName.toLowerCase()!==r.toLowerCase())throw new b(`element with id '${t}' must be an ${r} element`);return i}decodeFromImage(t,r){if(!t&&!r)throw new b("either imageElement with a src set or an url must be provided");return r&&!t?this.decodeFromImageUrl(r):this.decodeFromImageElement(t)}decodeFromVideo(t,r){if(!t&&!r)throw new b("Either an element with a src set or an URL must be provided");return r&&!t?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(t)}decodeFromVideoContinuously(t,r,i){if(t===void 0&&r===void 0)throw new b("Either an element with a src set or an URL must be provided");return r&&!t?this.decodeFromVideoUrlContinuously(r,i):this.decodeFromVideoElementContinuously(t,i)}decodeFromImageElement(t){if(!t)throw new b("An image element must be provided.");this.reset();const r=this.prepareImageElement(t);this.imageElement=r;let i;return this.isImageLoaded(r)?i=this.decodeOnce(r,!1,!0):i=this._decodeOnLoadImage(r),i}decodeFromVideoElement(t){const r=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(r)}decodeFromVideoElementContinuously(t,r){const i=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(i,r)}_decodeFromVideoElementSetup(t){if(!t)throw new b("A video element must be provided.");this.reset();const r=this.prepareVideoElement(t);return this.videoElement=r,r}decodeFromImageUrl(t){if(!t)throw new b("An URL must be provided.");this.reset();const r=this.prepareImageElement();this.imageElement=r;const i=this._decodeOnLoadImage(r);return r.src=t,i}decodeFromVideoUrl(t){if(!t)throw new b("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),i=this.decodeFromVideoElement(r);return r.src=t,i}decodeFromVideoUrlContinuously(t,r){if(!t)throw new b("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),o=this.decodeFromVideoElementContinuously(i,r);return i.src=t,o}_decodeOnLoadImage(t){return new Promise((r,i)=>{this.imageLoadedListener=()=>this.decodeOnce(t,!1,!0).then(r,i),t.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(t){return Ae(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(t),yield this.decodeOnce(t)})}_decodeOnLoadVideoContinuously(t,r){return Ae(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(t),this.decodeContinuously(t,r)})}isImageLoaded(t){return!(!t.complete||t.naturalWidth===0)}prepareImageElement(t){let r;return typeof t>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof t=="string"&&(r=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(r=t),r}prepareVideoElement(t){let r;return!t&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof t=="string"&&(r=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(r=t),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r}decodeOnce(t,r=!0,i=!0){this._stopAsyncDecode=!1;const o=(l,u)=>{if(this._stopAsyncDecode){u(new L("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const f=this.decode(t);l(f)}catch(f){const h=r&&f instanceof L,p=(f instanceof F||f instanceof P)&&i;if(h||p)return setTimeout(o,this._timeBetweenDecodingAttempts,l,u);u(f)}};return new Promise((l,u)=>o(l,u))}decodeContinuously(t,r){this._stopContinuousDecode=!1;const i=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const o=this.decode(t);r(o,null),setTimeout(i,this.timeBetweenScansMillis)}catch(o){r(null,o);const l=o instanceof F||o instanceof P,u=o instanceof L;(l||u)&&setTimeout(i,this._timeBetweenDecodingAttempts)}};i()}decode(t){const r=this.createBinaryBitmap(t);return this.decodeBitmap(r)}_isHTMLVideoElement(t){return t.videoWidth!==0}drawFrameOnCanvas(t,r,i){r||(r={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),i||(i=this.captureCanvasContext),i.drawImage(t,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}drawImageOnCanvas(t,r,i=this.captureCanvasContext){r||(r={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),i||(i=this.captureCanvasContext),i.drawImage(t,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}createBinaryBitmap(t){this.getCaptureCanvasContext(t),this._isHTMLVideoElement(t)?this.drawFrameOnCanvas(t):this.drawImageOnCanvas(t);const r=this.getCaptureCanvas(t),i=new he(r),o=new fe(i);return new k(o)}getCaptureCanvasContext(t){if(!this.captureCanvasContext){const i=this.getCaptureCanvas(t).getContext("2d");this.captureCanvasContext=i}return this.captureCanvasContext}getCaptureCanvas(t){if(!this.captureCanvas){const r=this.createCaptureCanvas(t);this.captureCanvas=r}return this.captureCanvas}decodeBitmap(t){return this.reader.decode(t,this._hints)}createCaptureCanvas(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const r=document.createElement("canvas");let i,o;return typeof t<"u"&&(t instanceof HTMLVideoElement?(i=t.videoWidth,o=t.videoHeight):t instanceof HTMLImageElement&&(i=t.naturalWidth||t.width,o=t.naturalHeight||t.height)),r.style.width=i+"px",r.style.height=o+"px",r.width=i,r.height=o,r}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(t=>t.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(t,r){try{t.srcObject=r}catch{t.src=URL.createObjectURL(r)}}cleanVideoSource(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")}}class ze{constructor(t,r,i=r==null?0:8*r.length,o,l,u=M.currentTimeMillis()){this.text=t,this.rawBytes=r,this.numBits=i,this.resultPoints=o,this.format=l,this.timestamp=u,this.text=t,this.rawBytes=r,i==null?this.numBits=r==null?0:8*r.length:this.numBits=i,this.resultPoints=o,this.format=l,this.resultMetadata=null,u==null?this.timestamp=M.currentTimeMillis():this.timestamp=u}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(t,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,r)}putAllMetadata(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))}addResultPoints(t){const r=this.resultPoints;if(r===null)this.resultPoints=t;else if(t!==null&&t.length>0){const i=new Array(r.length+t.length);M.arraycopy(r,0,i,0,r.length),M.arraycopy(t,0,i,r.length,t.length),this.resultPoints=i}}getTimestamp(){return this.timestamp}toString(){return this.text}}var On;(function(C){C[C.AZTEC=0]="AZTEC",C[C.CODABAR=1]="CODABAR",C[C.CODE_39=2]="CODE_39",C[C.CODE_93=3]="CODE_93",C[C.CODE_128=4]="CODE_128",C[C.DATA_MATRIX=5]="DATA_MATRIX",C[C.EAN_8=6]="EAN_8",C[C.EAN_13=7]="EAN_13",C[C.ITF=8]="ITF",C[C.MAXICODE=9]="MAXICODE",C[C.PDF_417=10]="PDF_417",C[C.QR_CODE=11]="QR_CODE",C[C.RSS_14=12]="RSS_14",C[C.RSS_EXPANDED=13]="RSS_EXPANDED",C[C.UPC_A=14]="UPC_A",C[C.UPC_E=15]="UPC_E",C[C.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(On||(On={}));var le=On,cn;(function(C){C[C.OTHER=0]="OTHER",C[C.ORIENTATION=1]="ORIENTATION",C[C.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",C[C.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",C[C.ISSUE_NUMBER=4]="ISSUE_NUMBER",C[C.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",C[C.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",C[C.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",C[C.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",C[C.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",C[C.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(cn||(cn={}));var oe=cn;class Mr{constructor(t,r,i,o,l=-1,u=-1){this.rawBytes=t,this.text=r,this.byteSegments=i,this.ecLevel=o,this.structuredAppendSequenceNumber=l,this.structuredAppendParity=u,this.numBits=t==null?0:8*t.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(t){this.numBits=t}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(t){this.errorsCorrected=t}getErasures(){return this.erasures}setErasures(t){this.erasures=t}getOther(){return this.other}setOther(t){this.other=t}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Zi{exp(t){return this.expTable[t]}log(t){if(t===0)throw new S;return this.logTable[t]}static addOrSubtract(t,r){return t^r}}class Wt{constructor(t,r){if(r.length===0)throw new S;this.field=t;const i=r.length;if(i>1&&r[0]===0){let o=1;for(;o<i&&r[o]===0;)o++;o===i?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(i-o),M.arraycopy(r,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);const r=this.coefficients;let i;if(t===1){i=0;for(let u=0,f=r.length;u!==f;u++){const h=r[u];i=Zi.addOrSubtract(i,h)}return i}i=r[0];const o=r.length,l=this.field;for(let u=1;u<o;u++)i=Zi.addOrSubtract(l.multiply(t,i),r[u]);return i}addOrSubtract(t){if(!this.field.equals(t.field))throw new S("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;let r=this.coefficients,i=t.coefficients;if(r.length>i.length){const u=r;r=i,i=u}let o=new Int32Array(i.length);const l=i.length-r.length;M.arraycopy(i,0,o,0,l);for(let u=l;u<i.length;u++)o[u]=Zi.addOrSubtract(r[u-l],i[u]);return new Wt(this.field,o)}multiply(t){if(!this.field.equals(t.field))throw new S("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();const r=this.coefficients,i=r.length,o=t.coefficients,l=o.length,u=new Int32Array(i+l-1),f=this.field;for(let h=0;h<i;h++){const g=r[h];for(let p=0;p<l;p++)u[h+p]=Zi.addOrSubtract(u[h+p],f.multiply(g,o[p]))}return new Wt(f,u)}multiplyScalar(t){if(t===0)return this.field.getZero();if(t===1)return this;const r=this.coefficients.length,i=this.field,o=new Int32Array(r),l=this.coefficients;for(let u=0;u<r;u++)o[u]=i.multiply(l[u],t);return new Wt(i,o)}multiplyByMonomial(t,r){if(t<0)throw new S;if(r===0)return this.field.getZero();const i=this.coefficients,o=i.length,l=new Int32Array(o+t),u=this.field;for(let f=0;f<o;f++)l[f]=u.multiply(i[f],r);return new Wt(u,l)}divide(t){if(!this.field.equals(t.field))throw new S("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new S("Divide by 0");const r=this.field;let i=r.getZero(),o=this;const l=t.getCoefficient(t.getDegree()),u=r.inverse(l);for(;o.getDegree()>=t.getDegree()&&!o.isZero();){const f=o.getDegree()-t.getDegree(),h=r.multiply(o.getCoefficient(o.getDegree()),u),g=t.multiplyByMonomial(f,h),p=r.buildMonomial(f,h);i=i.addOrSubtract(p),o=o.addOrSubtract(g)}return[i,o]}toString(){let t="";for(let r=this.getDegree();r>=0;r--){let i=this.getCoefficient(r);if(i!==0){if(i<0?(t+=" - ",i=-i):t.length>0&&(t+=" + "),r===0||i!==1){const o=this.field.log(i);o===0?t+="1":o===1?t+="a":(t+="a^",t+=o)}r!==0&&(r===1?t+="x":(t+="x^",t+=r))}}return t}}class qs extends m{}qs.kind="ArithmeticException";class Oe extends Zi{constructor(t,r,i){super(),this.primitive=t,this.size=r,this.generatorBase=i;const o=new Int32Array(r);let l=1;for(let f=0;f<r;f++)o[f]=l,l*=2,l>=r&&(l^=t,l&=r-1);this.expTable=o;const u=new Int32Array(r);for(let f=0;f<r-1;f++)u[o[f]]=f;this.logTable=u,this.zero=new Wt(this,Int32Array.from([0])),this.one=new Wt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,r){if(t<0)throw new S;if(r===0)return this.zero;const i=new Int32Array(t+1);return i[0]=r,new Wt(this,i)}inverse(t){if(t===0)throw new qs;return this.expTable[this.size-this.logTable[t]-1]}multiply(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+_.toHexString(this.primitive)+","+this.size+")"}equals(t){return t===this}}Oe.AZTEC_DATA_12=new Oe(4201,4096,1),Oe.AZTEC_DATA_10=new Oe(1033,1024,1),Oe.AZTEC_DATA_6=new Oe(67,64,1),Oe.AZTEC_PARAM=new Oe(19,16,1),Oe.QR_CODE_FIELD_256=new Oe(285,256,0),Oe.DATA_MATRIX_FIELD_256=new Oe(301,256,1),Oe.AZTEC_DATA_8=Oe.DATA_MATRIX_FIELD_256,Oe.MAXICODE_FIELD_64=Oe.AZTEC_DATA_6;class ri extends m{}ri.kind="ReedSolomonException";class Dn extends m{}Dn.kind="IllegalStateException";class Ki{constructor(t){this.field=t}decode(t,r){const i=this.field,o=new Wt(i,t),l=new Int32Array(r);let u=!0;for(let I=0;I<r;I++){const O=o.evaluateAt(i.exp(I+i.getGeneratorBase()));l[l.length-1-I]=O,O!==0&&(u=!1)}if(u)return;const f=new Wt(i,l),h=this.runEuclideanAlgorithm(i.buildMonomial(r,1),f,r),g=h[0],p=h[1],v=this.findErrorLocations(g),A=this.findErrorMagnitudes(p,v);for(let I=0;I<v.length;I++){const O=t.length-1-i.log(v[I]);if(O<0)throw new ri("Bad error location");t[O]=Oe.addOrSubtract(t[O],A[I])}}runEuclideanAlgorithm(t,r,i){if(t.getDegree()<r.getDegree()){const I=t;t=r,r=I}const o=this.field;let l=t,u=r,f=o.getZero(),h=o.getOne();for(;u.getDegree()>=(i/2|0);){let I=l,O=f;if(l=u,f=h,l.isZero())throw new ri("r_{i-1} was zero");u=I;let D=o.getZero();const B=l.getCoefficient(l.getDegree()),W=o.inverse(B);for(;u.getDegree()>=l.getDegree()&&!u.isZero();){const J=u.getDegree()-l.getDegree(),ee=o.multiply(u.getCoefficient(u.getDegree()),W);D=D.addOrSubtract(o.buildMonomial(J,ee)),u=u.addOrSubtract(l.multiplyByMonomial(J,ee))}if(h=D.multiply(f).addOrSubtract(O),u.getDegree()>=l.getDegree())throw new Dn("Division algorithm failed to reduce polynomial?")}const g=h.getCoefficient(0);if(g===0)throw new ri("sigmaTilde(0) was zero");const p=o.inverse(g),v=h.multiplyScalar(p),A=u.multiplyScalar(p);return[v,A]}findErrorLocations(t){const r=t.getDegree();if(r===1)return Int32Array.from([t.getCoefficient(1)]);const i=new Int32Array(r);let o=0;const l=this.field;for(let u=1;u<l.getSize()&&o<r;u++)t.evaluateAt(u)===0&&(i[o]=l.inverse(u),o++);if(o!==r)throw new ri("Error locator degree does not match number of roots");return i}findErrorMagnitudes(t,r){const i=r.length,o=new Int32Array(i),l=this.field;for(let u=0;u<i;u++){const f=l.inverse(r[u]);let h=1;for(let g=0;g<i;g++)if(u!==g){const p=l.multiply(r[g],f),v=p&1?p&-2:p|1;h=l.multiply(h,v)}o[u]=l.multiply(t.evaluateAt(f),l.inverse(h)),l.getGeneratorBase()!==0&&(o[u]=l.multiply(o[u],f))}return o}}var At;(function(C){C[C.UPPER=0]="UPPER",C[C.LOWER=1]="LOWER",C[C.MIXED=2]="MIXED",C[C.DIGIT=3]="DIGIT",C[C.PUNCT=4]="PUNCT",C[C.BINARY=5]="BINARY"})(At||(At={}));class We{decode(t){this.ddata=t;let r=t.getBits(),i=this.extractBits(r),o=this.correctBits(i),l=We.convertBoolArrayToByteArray(o),u=We.getEncodedData(o),f=new Mr(l,u,null,null);return f.setNumBits(o.length),f}static highLevelDecode(t){return this.getEncodedData(t)}static getEncodedData(t){let r=t.length,i=At.UPPER,o=At.UPPER,l="",u=0;for(;u<r;)if(o===At.BINARY){if(r-u<5)break;let f=We.readCode(t,u,5);if(u+=5,f===0){if(r-u<11)break;f=We.readCode(t,u,11)+31,u+=11}for(let h=0;h<f;h++){if(r-u<8){u=r;break}const g=We.readCode(t,u,8);l+=ue.castAsNonUtf8Char(g),u+=8}o=i}else{let f=o===At.DIGIT?4:5;if(r-u<f)break;let h=We.readCode(t,u,f);u+=f;let g=We.getCharacter(o,h);g.startsWith("CTRL_")?(i=o,o=We.getTable(g.charAt(5)),g.charAt(6)==="L"&&(i=o)):(l+=g,o=i)}return l}static getTable(t){switch(t){case"L":return At.LOWER;case"P":return At.PUNCT;case"M":return At.MIXED;case"D":return At.DIGIT;case"B":return At.BINARY;case"U":default:return At.UPPER}}static getCharacter(t,r){switch(t){case At.UPPER:return We.UPPER_TABLE[r];case At.LOWER:return We.LOWER_TABLE[r];case At.MIXED:return We.MIXED_TABLE[r];case At.PUNCT:return We.PUNCT_TABLE[r];case At.DIGIT:return We.DIGIT_TABLE[r];default:throw new Dn("Bad table")}}correctBits(t){let r,i;this.ddata.getNbLayers()<=2?(i=6,r=Oe.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(i=8,r=Oe.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(i=10,r=Oe.AZTEC_DATA_10):(i=12,r=Oe.AZTEC_DATA_12);let o=this.ddata.getNbDatablocks(),l=t.length/i;if(l<o)throw new P;let u=t.length%i,f=new Int32Array(l);for(let A=0;A<l;A++,u+=i)f[A]=We.readCode(t,u,i);try{new Ki(r).decode(f,l-o)}catch(A){throw new P(A)}let h=(1<<i)-1,g=0;for(let A=0;A<o;A++){let I=f[A];if(I===0||I===h)throw new P;(I===1||I===h-1)&&g++}let p=new Array(o*i-g),v=0;for(let A=0;A<o;A++){let I=f[A];if(I===1||I===h-1)p.fill(I>1,v,v+i-1),v+=i-1;else for(let O=i-1;O>=0;--O)p[v++]=(I&1<<O)!==0}return p}extractBits(t){let r=this.ddata.isCompact(),i=this.ddata.getNbLayers(),o=(r?11:14)+i*4,l=new Int32Array(o),u=new Array(this.totalBitsInLayer(i,r));if(r)for(let f=0;f<l.length;f++)l[f]=f;else{let f=o+1+2*_.truncDivision(_.truncDivision(o,2)-1,15),h=o/2,g=_.truncDivision(f,2);for(let p=0;p<h;p++){let v=p+_.truncDivision(p,15);l[h-p-1]=g-v-1,l[h+p]=g+v+1}}for(let f=0,h=0;f<i;f++){let g=(i-f)*4+(r?9:12),p=f*2,v=o-1-p;for(let A=0;A<g;A++){let I=A*2;for(let O=0;O<2;O++)u[h+I+O]=t.get(l[p+O],l[p+A]),u[h+2*g+I+O]=t.get(l[p+A],l[v-O]),u[h+4*g+I+O]=t.get(l[v-O],l[v-A]),u[h+6*g+I+O]=t.get(l[v-A],l[p+O])}h+=g*8}return u}static readCode(t,r,i){let o=0;for(let l=r;l<r+i;l++)o<<=1,t[l]&&(o|=1);return o}static readByte(t,r){let i=t.length-r;return i>=8?We.readCode(t,r,8):We.readCode(t,r,i)<<8-i}static convertBoolArrayToByteArray(t){let r=new Uint8Array((t.length+7)/8);for(let i=0;i<r.length;i++)r[i]=We.readByte(t,8*i);return r}totalBitsInLayer(t,r){return((r?88:112)+16*t)*t}}We.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],We.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],We.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],We.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],We.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Te{constructor(){}static round(t){return t===NaN?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0}static distance(t,r,i,o){const l=t-i,u=r-o;return Math.sqrt(l*l+u*u)}static sum(t){let r=0;for(let i=0,o=t.length;i!==o;i++){const l=t[i];r+=l}return r}}class Js{static floatToIntBits(t){return t}}Js.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ae{constructor(t,r){this.x=t,this.y=r}getX(){return this.x}getY(){return this.y}equals(t){if(t instanceof ae){const r=t;return this.x===r.x&&this.y===r.y}return!1}hashCode(){return 31*Js.floatToIntBits(this.x)+Js.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(t){const r=this.distance(t[0],t[1]),i=this.distance(t[1],t[2]),o=this.distance(t[0],t[2]);let l,u,f;if(i>=r&&i>=o?(u=t[0],l=t[1],f=t[2]):o>=i&&o>=r?(u=t[1],l=t[0],f=t[2]):(u=t[2],l=t[0],f=t[1]),this.crossProductZ(l,u,f)<0){const h=l;l=f,f=h}t[0]=l,t[1]=u,t[2]=f}static distance(t,r){return Te.distance(t.x,t.y,r.x,r.y)}static crossProductZ(t,r,i){const o=r.x,l=r.y;return(i.x-o)*(t.y-l)-(i.y-l)*(t.x-o)}}class $s{constructor(t,r){this.bits=t,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class Ac extends $s{constructor(t,r,i,o,l){super(t,r),this.compact=i,this.nbDatablocks=o,this.nbLayers=l}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Hn{constructor(t,r,i,o){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),r==null&&(r=Hn.INIT_SIZE),i==null&&(i=t.getWidth()/2|0),o==null&&(o=t.getHeight()/2|0);const l=r/2|0;if(this.leftInit=i-l,this.rightInit=i+l,this.upInit=o-l,this.downInit=o+l,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new L}detect(){let t=this.leftInit,r=this.rightInit,i=this.upInit,o=this.downInit,l=!1,u=!0,f=!1,h=!1,g=!1,p=!1,v=!1;const A=this.width,I=this.height;for(;u;){u=!1;let O=!0;for(;(O||!h)&&r<A;)O=this.containsBlackPoint(i,o,r,!1),O?(r++,u=!0,h=!0):h||r++;if(r>=A){l=!0;break}let D=!0;for(;(D||!g)&&o<I;)D=this.containsBlackPoint(t,r,o,!0),D?(o++,u=!0,g=!0):g||o++;if(o>=I){l=!0;break}let B=!0;for(;(B||!p)&&t>=0;)B=this.containsBlackPoint(i,o,t,!1),B?(t--,u=!0,p=!0):p||t--;if(t<0){l=!0;break}let W=!0;for(;(W||!v)&&i>=0;)W=this.containsBlackPoint(t,r,i,!0),W?(i--,u=!0,v=!0):v||i--;if(i<0){l=!0;break}u&&(f=!0)}if(!l&&f){const O=r-t;let D=null;for(let ee=1;D===null&&ee<O;ee++)D=this.getBlackPointOnSegment(t,o-ee,t+ee,o);if(D==null)throw new L;let B=null;for(let ee=1;B===null&&ee<O;ee++)B=this.getBlackPointOnSegment(t,i+ee,t+ee,i);if(B==null)throw new L;let W=null;for(let ee=1;W===null&&ee<O;ee++)W=this.getBlackPointOnSegment(r,i+ee,r-ee,i);if(W==null)throw new L;let J=null;for(let ee=1;J===null&&ee<O;ee++)J=this.getBlackPointOnSegment(r,o-ee,r-ee,o);if(J==null)throw new L;return this.centerEdges(J,D,W,B)}else throw new L}getBlackPointOnSegment(t,r,i,o){const l=Te.round(Te.distance(t,r,i,o)),u=(i-t)/l,f=(o-r)/l,h=this.image;for(let g=0;g<l;g++){const p=Te.round(t+g*u),v=Te.round(r+g*f);if(h.get(p,v))return new ae(p,v)}return null}centerEdges(t,r,i,o){const l=t.getX(),u=t.getY(),f=r.getX(),h=r.getY(),g=i.getX(),p=i.getY(),v=o.getX(),A=o.getY(),I=Hn.CORR;return l<this.width/2?[new ae(v-I,A+I),new ae(f+I,h+I),new ae(g-I,p-I),new ae(l+I,u-I)]:[new ae(v+I,A+I),new ae(f+I,h-I),new ae(g-I,p+I),new ae(l-I,u-I)]}containsBlackPoint(t,r,i,o){const l=this.image;if(o){for(let u=t;u<=r;u++)if(l.get(u,i))return!0}else for(let u=t;u<=r;u++)if(l.get(i,u))return!0;return!1}}Hn.INIT_SIZE=10,Hn.CORR=1;class Ol{static checkAndNudgePoints(t,r){const i=t.getWidth(),o=t.getHeight();let l=!0;for(let u=0;u<r.length&&l;u+=2){const f=Math.floor(r[u]),h=Math.floor(r[u+1]);if(f<-1||f>i||h<-1||h>o)throw new L;l=!1,f===-1?(r[u]=0,l=!0):f===i&&(r[u]=i-1,l=!0),h===-1?(r[u+1]=0,l=!0):h===o&&(r[u+1]=o-1,l=!0)}l=!0;for(let u=r.length-2;u>=0&&l;u-=2){const f=Math.floor(r[u]),h=Math.floor(r[u+1]);if(f<-1||f>i||h<-1||h>o)throw new L;l=!1,f===-1?(r[u]=0,l=!0):f===i&&(r[u]=i-1,l=!0),h===-1?(r[u+1]=0,l=!0):h===o&&(r[u+1]=o-1,l=!0)}}}class Cn{constructor(t,r,i,o,l,u,f,h,g){this.a11=t,this.a21=r,this.a31=i,this.a12=o,this.a22=l,this.a32=u,this.a13=f,this.a23=h,this.a33=g}static quadrilateralToQuadrilateral(t,r,i,o,l,u,f,h,g,p,v,A,I,O,D,B){const W=Cn.quadrilateralToSquare(t,r,i,o,l,u,f,h);return Cn.squareToQuadrilateral(g,p,v,A,I,O,D,B).times(W)}transformPoints(t){const r=t.length,i=this.a11,o=this.a12,l=this.a13,u=this.a21,f=this.a22,h=this.a23,g=this.a31,p=this.a32,v=this.a33;for(let A=0;A<r;A+=2){const I=t[A],O=t[A+1],D=l*I+h*O+v;t[A]=(i*I+u*O+g)/D,t[A+1]=(o*I+f*O+p)/D}}transformPointsWithValues(t,r){const i=this.a11,o=this.a12,l=this.a13,u=this.a21,f=this.a22,h=this.a23,g=this.a31,p=this.a32,v=this.a33,A=t.length;for(let I=0;I<A;I++){const O=t[I],D=r[I],B=l*O+h*D+v;t[I]=(i*O+u*D+g)/B,r[I]=(o*O+f*D+p)/B}}static squareToQuadrilateral(t,r,i,o,l,u,f,h){const g=t-i+l-f,p=r-o+u-h;if(g===0&&p===0)return new Cn(i-t,l-i,t,o-r,u-o,r,0,0,1);{const v=i-l,A=f-l,I=o-u,O=h-u,D=v*O-A*I,B=(g*O-A*p)/D,W=(v*p-g*I)/D;return new Cn(i-t+B*i,f-t+W*f,t,o-r+B*o,h-r+W*h,r,B,W,1)}}static quadrilateralToSquare(t,r,i,o,l,u,f,h){return Cn.squareToQuadrilateral(t,r,i,o,l,u,f,h).buildAdjoint()}buildAdjoint(){return new Cn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(t){return new Cn(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)}}class Sc extends Ol{sampleGrid(t,r,i,o,l,u,f,h,g,p,v,A,I,O,D,B,W,J,ee){const Z=Cn.quadrilateralToQuadrilateral(o,l,u,f,h,g,p,v,A,I,O,D,B,W,J,ee);return this.sampleGridWithTransform(t,r,i,Z)}sampleGridWithTransform(t,r,i,o){if(r<=0||i<=0)throw new L;const l=new Be(r,i),u=new Float32Array(2*r);for(let f=0;f<i;f++){const h=u.length,g=f+.5;for(let p=0;p<h;p+=2)u[p]=p/2+.5,u[p+1]=g;o.transformPoints(u),Ol.checkAndNudgePoints(t,u);try{for(let p=0;p<h;p+=2)t.get(Math.floor(u[p]),Math.floor(u[p+1]))&&l.set(p/2,f)}catch{throw new L}}return l}}class nr{static setGridSampler(t){nr.gridSampler=t}static getInstance(){return nr.gridSampler}}nr.gridSampler=new Sc;class Lt{constructor(t,r){this.x=t,this.y=r}toResultPoint(){return new ae(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Nc{constructor(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}detect(){return this.detectMirror(!1)}detectMirror(t){let r=this.getMatrixCenter(),i=this.getBullsEyeCorners(r);if(t){let u=i[0];i[0]=i[2],i[2]=u}this.extractParameters(i);let o=this.sampleGrid(this.image,i[this.shift%4],i[(this.shift+1)%4],i[(this.shift+2)%4],i[(this.shift+3)%4]),l=this.getMatrixCornerPoints(i);return new Ac(o,l,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new L;let r=2*this.nbCenterLayers,i=new Int32Array([this.sampleLine(t[0],t[1],r),this.sampleLine(t[1],t[2],r),this.sampleLine(t[2],t[3],r),this.sampleLine(t[3],t[0],r)]);this.shift=this.getRotation(i,r);let o=0;for(let u=0;u<4;u++){let f=i[(this.shift+u)%4];this.compact?(o<<=7,o+=f>>1&127):(o<<=10,o+=(f>>2&992)+(f>>1&31))}let l=this.getCorrectedParameterData(o,this.compact);this.compact?(this.nbLayers=(l>>6)+1,this.nbDataBlocks=(l&63)+1):(this.nbLayers=(l>>11)+1,this.nbDataBlocks=(l&2047)+1)}getRotation(t,r){let i=0;t.forEach((o,l,u)=>{let f=(o>>r-2<<1)+(o&1);i=(i<<3)+f}),i=((i&1)<<11)+(i>>1);for(let o=0;o<4;o++)if(_.bitCount(i^this.EXPECTED_CORNER_BITS[o])<=2)return o;throw new L}getCorrectedParameterData(t,r){let i,o;r?(i=7,o=2):(i=10,o=4);let l=i-o,u=new Int32Array(i);for(let h=i-1;h>=0;--h)u[h]=t&15,t>>=4;try{new Ki(Oe.AZTEC_PARAM).decode(u,l)}catch{throw new L}let f=0;for(let h=0;h<o;h++)f=(f<<4)+u[h];return f}getBullsEyeCorners(t){let r=t,i=t,o=t,l=t,u=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let v=this.getFirstDifferent(r,u,1,-1),A=this.getFirstDifferent(i,u,1,1),I=this.getFirstDifferent(o,u,-1,1),O=this.getFirstDifferent(l,u,-1,-1);if(this.nbCenterLayers>2){let D=this.distancePoint(O,v)*this.nbCenterLayers/(this.distancePoint(l,r)*(this.nbCenterLayers+2));if(D<.75||D>1.25||!this.isWhiteOrBlackRectangle(v,A,I,O))break}r=v,i=A,o=I,l=O,u=!u}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new L;this.compact=this.nbCenterLayers===5;let f=new ae(r.getX()+.5,r.getY()-.5),h=new ae(i.getX()+.5,i.getY()+.5),g=new ae(o.getX()-.5,o.getY()+.5),p=new ae(l.getX()-.5,l.getY()-.5);return this.expandSquare([f,h,g,p],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let t,r,i,o;try{let f=new Hn(this.image).detect();t=f[0],r=f[1],i=f[2],o=f[3]}catch{let h=this.image.getWidth()/2,g=this.image.getHeight()/2;t=this.getFirstDifferent(new Lt(h+7,g-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Lt(h+7,g+7),!1,1,1).toResultPoint(),i=this.getFirstDifferent(new Lt(h-7,g+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new Lt(h-7,g-7),!1,-1,-1).toResultPoint()}let l=Te.round((t.getX()+o.getX()+r.getX()+i.getX())/4),u=Te.round((t.getY()+o.getY()+r.getY()+i.getY())/4);try{let f=new Hn(this.image,15,l,u).detect();t=f[0],r=f[1],i=f[2],o=f[3]}catch{t=this.getFirstDifferent(new Lt(l+7,u-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Lt(l+7,u+7),!1,1,1).toResultPoint(),i=this.getFirstDifferent(new Lt(l-7,u+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new Lt(l-7,u-7),!1,-1,-1).toResultPoint()}return l=Te.round((t.getX()+o.getX()+r.getX()+i.getX())/4),u=Te.round((t.getY()+o.getY()+r.getY()+i.getY())/4),new Lt(l,u)}getMatrixCornerPoints(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())}sampleGrid(t,r,i,o,l){let u=nr.getInstance(),f=this.getDimension(),h=f/2-this.nbCenterLayers,g=f/2+this.nbCenterLayers;return u.sampleGrid(t,f,f,h,h,g,h,g,g,h,g,r.getX(),r.getY(),i.getX(),i.getY(),o.getX(),o.getY(),l.getX(),l.getY())}sampleLine(t,r,i){let o=0,l=this.distanceResultPoint(t,r),u=l/i,f=t.getX(),h=t.getY(),g=u*(r.getX()-t.getX())/l,p=u*(r.getY()-t.getY())/l;for(let v=0;v<i;v++)this.image.get(Te.round(f+v*g),Te.round(h+v*p))&&(o|=1<<i-v-1);return o}isWhiteOrBlackRectangle(t,r,i,o){let l=3;t=new Lt(t.getX()-l,t.getY()+l),r=new Lt(r.getX()-l,r.getY()-l),i=new Lt(i.getX()+l,i.getY()-l),o=new Lt(o.getX()+l,o.getY()+l);let u=this.getColor(o,t);if(u===0)return!1;let f=this.getColor(t,r);return f!==u||(f=this.getColor(r,i),f!==u)?!1:(f=this.getColor(i,o),f===u)}getColor(t,r){let i=this.distancePoint(t,r),o=(r.getX()-t.getX())/i,l=(r.getY()-t.getY())/i,u=0,f=t.getX(),h=t.getY(),g=this.image.get(t.getX(),t.getY()),p=Math.ceil(i);for(let A=0;A<p;A++)f+=o,h+=l,this.image.get(Te.round(f),Te.round(h))!==g&&u++;let v=u/i;return v>.1&&v<.9?0:v<=.1===g?1:-1}getFirstDifferent(t,r,i,o){let l=t.getX()+i,u=t.getY()+o;for(;this.isValid(l,u)&&this.image.get(l,u)===r;)l+=i,u+=o;for(l-=i,u-=o;this.isValid(l,u)&&this.image.get(l,u)===r;)l+=i;for(l-=i;this.isValid(l,u)&&this.image.get(l,u)===r;)u+=o;return u-=o,new Lt(l,u)}expandSquare(t,r,i){let o=i/(2*r),l=t[0].getX()-t[2].getX(),u=t[0].getY()-t[2].getY(),f=(t[0].getX()+t[2].getX())/2,h=(t[0].getY()+t[2].getY())/2,g=new ae(f+o*l,h+o*u),p=new ae(f-o*l,h-o*u);l=t[1].getX()-t[3].getX(),u=t[1].getY()-t[3].getY(),f=(t[1].getX()+t[3].getX())/2,h=(t[1].getY()+t[3].getY())/2;let v=new ae(f+o*l,h+o*u),A=new ae(f-o*l,h-o*u);return[g,v,p,A]}isValid(t,r){return t>=0&&t<this.image.getWidth()&&r>0&&r<this.image.getHeight()}isValidPoint(t){let r=Te.round(t.getX()),i=Te.round(t.getY());return this.isValid(r,i)}distancePoint(t,r){return Te.distance(t.getX(),t.getY(),r.getX(),r.getY())}distanceResultPoint(t,r){return Te.distance(t.getX(),t.getY(),r.getX(),r.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(_.truncDivision(this.nbLayers-4,8)+1)+15}}class eo{decode(t,r=null){let i=null,o=new Nc(t.getBlackMatrix()),l=null,u=null;try{let p=o.detectMirror(!1);l=p.getPoints(),this.reportFoundResultPoints(r,l),u=new We().decode(p)}catch(p){i=p}if(u==null)try{let p=o.detectMirror(!0);l=p.getPoints(),this.reportFoundResultPoints(r,l),u=new We().decode(p)}catch(p){throw i??p}let f=new ze(u.getText(),u.getRawBytes(),u.getNumBits(),l,le.AZTEC,M.currentTimeMillis()),h=u.getByteSegments();h!=null&&f.putMetadata(oe.BYTE_SEGMENTS,h);let g=u.getECLevel();return g!=null&&f.putMetadata(oe.ERROR_CORRECTION_LEVEL,g),f}reportFoundResultPoints(t,r){if(t!=null){let i=t.get(K.NEED_RESULT_POINT_CALLBACK);i!=null&&r.forEach((o,l,u)=>{i.foundPossibleResultPoint(o)})}}reset(){}}class Gd extends zt{constructor(t=500){super(new eo,t)}}class dt{decode(t,r){try{return this.doDecode(t,r)}catch{if(r&&r.get(K.TRY_HARDER)===!0&&t.isRotateSupported()){const l=t.rotateCounterClockwise(),u=this.doDecode(l,r),f=u.getResultMetadata();let h=270;f!==null&&f.get(oe.ORIENTATION)===!0&&(h=h+f.get(oe.ORIENTATION)%360),u.putMetadata(oe.ORIENTATION,h);const g=u.getResultPoints();if(g!==null){const p=l.getHeight();for(let v=0;v<g.length;v++)g[v]=new ae(p-g[v].getY()-1,g[v].getX())}return u}else throw new L}}reset(){}doDecode(t,r){const i=t.getWidth(),o=t.getHeight();let l=new V(i);const u=r&&r.get(K.TRY_HARDER)===!0,f=Math.max(1,o>>(u?8:5));let h;u?h=o:h=15;const g=Math.trunc(o/2);for(let p=0;p<h;p++){const v=Math.trunc((p+1)/2),A=(p&1)===0,I=g+f*(A?v:-v);if(I<0||I>=o)break;try{l=t.getBlackRow(I,l)}catch{continue}for(let O=0;O<2;O++){if(O===1&&(l.reverse(),r&&r.get(K.NEED_RESULT_POINT_CALLBACK)===!0)){const D=new Map;r.forEach((B,W)=>D.set(W,B)),D.delete(K.NEED_RESULT_POINT_CALLBACK),r=D}try{const D=this.decodeRow(I,l,r);if(O===1){D.putMetadata(oe.ORIENTATION,180);const B=D.getResultPoints();B!==null&&(B[0]=new ae(i-B[0].getX()-1,B[0].getY()),B[1]=new ae(i-B[1].getX()-1,B[1].getY()))}return D}catch{}}}throw new L}static recordPattern(t,r,i){const o=i.length;for(let g=0;g<o;g++)i[g]=0;const l=t.getSize();if(r>=l)throw new L;let u=!t.get(r),f=0,h=r;for(;h<l;){if(t.get(h)!==u)i[f]++;else{if(++f===o)break;i[f]=1,u=!u}h++}if(!(f===o||f===o-1&&h===l))throw new L}static recordPatternInReverse(t,r,i){let o=i.length,l=t.get(r);for(;r>0&&o>=0;)t.get(--r)!==l&&(o--,l=!l);if(o>=0)throw new L;dt.recordPattern(t,r+1,i)}static patternMatchVariance(t,r,i){const o=t.length;let l=0,u=0;for(let g=0;g<o;g++)l+=t[g],u+=r[g];if(l<u)return Number.POSITIVE_INFINITY;const f=l/u;i*=f;let h=0;for(let g=0;g<o;g++){const p=t[g],v=r[g]*f,A=p>v?p-v:v-p;if(A>i)return Number.POSITIVE_INFINITY;h+=A}return h/l}}class ne extends dt{static findStartPattern(t){const r=t.getSize(),i=t.getNextSet(0);let o=0,l=Int32Array.from([0,0,0,0,0,0]),u=i,f=!1;const h=6;for(let g=i;g<r;g++)if(t.get(g)!==f)l[o]++;else{if(o===h-1){let p=ne.MAX_AVG_VARIANCE,v=-1;for(let A=ne.CODE_START_A;A<=ne.CODE_START_C;A++){const I=dt.patternMatchVariance(l,ne.CODE_PATTERNS[A],ne.MAX_INDIVIDUAL_VARIANCE);I<p&&(p=I,v=A)}if(v>=0&&t.isRange(Math.max(0,u-(g-u)/2),u,!1))return Int32Array.from([u,g,v]);u+=l[0]+l[1],l=l.slice(2,l.length-1),l[o-1]=0,l[o]=0,o--}else o++;l[o]=1,f=!f}throw new L}static decodeCode(t,r,i){dt.recordPattern(t,i,r);let o=ne.MAX_AVG_VARIANCE,l=-1;for(let u=0;u<ne.CODE_PATTERNS.length;u++){const f=ne.CODE_PATTERNS[u],h=this.patternMatchVariance(r,f,ne.MAX_INDIVIDUAL_VARIANCE);h<o&&(o=h,l=u)}if(l>=0)return l;throw new L}decodeRow(t,r,i){const o=i&&i.get(K.ASSUME_GS1)===!0,l=ne.findStartPattern(r),u=l[2];let f=0;const h=new Uint8Array(20);h[f++]=u;let g;switch(u){case ne.CODE_START_A:g=ne.CODE_CODE_A;break;case ne.CODE_START_B:g=ne.CODE_CODE_B;break;case ne.CODE_START_C:g=ne.CODE_CODE_C;break;default:throw new P}let p=!1,v=!1,A="",I=l[0],O=l[1];const D=Int32Array.from([0,0,0,0,0,0]);let B=0,W=0,J=u,ee=0,Z=!0,Se=!1,ye=!1;for(;!p;){const di=v;switch(v=!1,B=W,W=ne.decodeCode(r,D,O),h[f++]=W,W!==ne.CODE_STOP&&(Z=!0),W!==ne.CODE_STOP&&(ee++,J+=ee*W),I=O,O+=D.reduce((Eh,Ch)=>Eh+Ch,0),W){case ne.CODE_START_A:case ne.CODE_START_B:case ne.CODE_START_C:throw new P}switch(g){case ne.CODE_CODE_A:if(W<64)ye===Se?A+=String.fromCharCode(32+W):A+=String.fromCharCode(32+W+128),ye=!1;else if(W<96)ye===Se?A+=String.fromCharCode(W-64):A+=String.fromCharCode(W+64),ye=!1;else switch(W!==ne.CODE_STOP&&(Z=!1),W){case ne.CODE_FNC_1:o&&(A.length===0?A+="]C1":A+="");break;case ne.CODE_FNC_2:case ne.CODE_FNC_3:break;case ne.CODE_FNC_4_A:!Se&&ye?(Se=!0,ye=!1):Se&&ye?(Se=!1,ye=!1):ye=!0;break;case ne.CODE_SHIFT:v=!0,g=ne.CODE_CODE_B;break;case ne.CODE_CODE_B:g=ne.CODE_CODE_B;break;case ne.CODE_CODE_C:g=ne.CODE_CODE_C;break;case ne.CODE_STOP:p=!0;break}break;case ne.CODE_CODE_B:if(W<96)ye===Se?A+=String.fromCharCode(32+W):A+=String.fromCharCode(32+W+128),ye=!1;else switch(W!==ne.CODE_STOP&&(Z=!1),W){case ne.CODE_FNC_1:o&&(A.length===0?A+="]C1":A+="");break;case ne.CODE_FNC_2:case ne.CODE_FNC_3:break;case ne.CODE_FNC_4_B:!Se&&ye?(Se=!0,ye=!1):Se&&ye?(Se=!1,ye=!1):ye=!0;break;case ne.CODE_SHIFT:v=!0,g=ne.CODE_CODE_A;break;case ne.CODE_CODE_A:g=ne.CODE_CODE_A;break;case ne.CODE_CODE_C:g=ne.CODE_CODE_C;break;case ne.CODE_STOP:p=!0;break}break;case ne.CODE_CODE_C:if(W<100)W<10&&(A+="0"),A+=W;else switch(W!==ne.CODE_STOP&&(Z=!1),W){case ne.CODE_FNC_1:o&&(A.length===0?A+="]C1":A+="");break;case ne.CODE_CODE_A:g=ne.CODE_CODE_A;break;case ne.CODE_CODE_B:g=ne.CODE_CODE_B;break;case ne.CODE_STOP:p=!0;break}break}di&&(g=g===ne.CODE_CODE_A?ne.CODE_CODE_B:ne.CODE_CODE_A)}const Yt=O-I;if(O=r.getNextUnset(O),!r.isRange(O,Math.min(r.getSize(),O+(O-I)/2),!1))throw new L;if(J-=ee*B,J%103!==B)throw new F;const An=A.length;if(An===0)throw new L;An>0&&Z&&(g===ne.CODE_CODE_C?A=A.substring(0,An-2):A=A.substring(0,An-1));const Zt=(l[1]+l[0])/2,Ve=I+Yt/2,It=h.length,en=new Uint8Array(It);for(let di=0;di<It;di++)en[di]=h[di];const fi=[new ae(Zt,t),new ae(Ve,t)];return new ze(A,en,0,fi,le.CODE_128,new Date().getTime())}}ne.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ne.MAX_AVG_VARIANCE=.25,ne.MAX_INDIVIDUAL_VARIANCE=.7,ne.CODE_SHIFT=98,ne.CODE_CODE_C=99,ne.CODE_CODE_B=100,ne.CODE_CODE_A=101,ne.CODE_FNC_1=102,ne.CODE_FNC_2=97,ne.CODE_FNC_3=96,ne.CODE_FNC_4_A=101,ne.CODE_FNC_4_B=100,ne.CODE_START_A=103,ne.CODE_START_B=104,ne.CODE_START_C=105,ne.CODE_STOP=106;class gt extends dt{constructor(t=!1,r=!1){super(),this.usingCheckDigit=t,this.extendedMode=r,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(t,r,i){let o=this.counters;o.fill(0),this.decodeRowResult="";let l=gt.findAsteriskPattern(r,o),u=r.getNextSet(l[1]),f=r.getSize(),h,g;do{gt.recordPattern(r,u,o);let D=gt.toNarrowWidePattern(o);if(D<0)throw new L;h=gt.patternToChar(D),this.decodeRowResult+=h,g=u;for(let B of o)u+=B;u=r.getNextSet(u)}while(h!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let p=0;for(let D of o)p+=D;let v=u-g-p;if(u!==f&&v*2<p)throw new L;if(this.usingCheckDigit){let D=this.decodeRowResult.length-1,B=0;for(let W=0;W<D;W++)B+=gt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(W));if(this.decodeRowResult.charAt(D)!==gt.ALPHABET_STRING.charAt(B%43))throw new F;this.decodeRowResult=this.decodeRowResult.substring(0,D)}if(this.decodeRowResult.length===0)throw new L;let A;this.extendedMode?A=gt.decodeExtended(this.decodeRowResult):A=this.decodeRowResult;let I=(l[1]+l[0])/2,O=g+p/2;return new ze(A,null,0,[new ae(I,t),new ae(O,t)],le.CODE_39,new Date().getTime())}static findAsteriskPattern(t,r){let i=t.getSize(),o=t.getNextSet(0),l=0,u=o,f=!1,h=r.length;for(let g=o;g<i;g++)if(t.get(g)!==f)r[l]++;else{if(l===h-1){if(this.toNarrowWidePattern(r)===gt.ASTERISK_ENCODING&&t.isRange(Math.max(0,u-Math.floor((g-u)/2)),u,!1))return[u,g];u+=r[0]+r[1],r.copyWithin(0,2,2+l-1),r[l-1]=0,r[l]=0,l--}else l++;r[l]=1,f=!f}throw new L}static toNarrowWidePattern(t){let r=t.length,i=0,o;do{let l=2147483647;for(let h of t)h<l&&h>i&&(l=h);i=l,o=0;let u=0,f=0;for(let h=0;h<r;h++){let g=t[h];g>i&&(f|=1<<r-1-h,o++,u+=g)}if(o===3){for(let h=0;h<r&&o>0;h++){let g=t[h];if(g>i&&(o--,g*2>=u))return-1}return f}}while(o>3);return-1}static patternToChar(t){for(let r=0;r<gt.CHARACTER_ENCODINGS.length;r++)if(gt.CHARACTER_ENCODINGS[r]===t)return gt.ALPHABET_STRING.charAt(r);if(t===gt.ASTERISK_ENCODING)return"*";throw new L}static decodeExtended(t){let r=t.length,i="";for(let o=0;o<r;o++){let l=t.charAt(o);if(l==="+"||l==="$"||l==="%"||l==="/"){let u=t.charAt(o+1),f="\0";switch(l){case"+":if(u>="A"&&u<="Z")f=String.fromCharCode(u.charCodeAt(0)+32);else throw new P;break;case"$":if(u>="A"&&u<="Z")f=String.fromCharCode(u.charCodeAt(0)-64);else throw new P;break;case"%":if(u>="A"&&u<="E")f=String.fromCharCode(u.charCodeAt(0)-38);else if(u>="F"&&u<="J")f=String.fromCharCode(u.charCodeAt(0)-11);else if(u>="K"&&u<="O")f=String.fromCharCode(u.charCodeAt(0)+16);else if(u>="P"&&u<="T")f=String.fromCharCode(u.charCodeAt(0)+43);else if(u==="U")f="\0";else if(u==="V")f="@";else if(u==="W")f="`";else if(u==="X"||u==="Y"||u==="Z")f="";else throw new P;break;case"/":if(u>="A"&&u<="O")f=String.fromCharCode(u.charCodeAt(0)-32);else if(u==="Z")f=":";else throw new P;break}i+=f,o++}else i+=l}return i}}gt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",gt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],gt.ASTERISK_ENCODING=148;class je extends dt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(t,r,i){let o=this.decodeStart(r),l=this.decodeEnd(r),u=new we;je.decodeMiddle(r,o[1],l[0],u);let f=u.toString(),h=null;i!=null&&(h=i.get(K.ALLOWED_LENGTHS)),h==null&&(h=je.DEFAULT_ALLOWED_LENGTHS);let g=f.length,p=!1,v=0;for(let O of h){if(g===O){p=!0;break}O>v&&(v=O)}if(!p&&g>v&&(p=!0),!p)throw new P;const A=[new ae(o[1],t),new ae(l[0],t)];return new ze(f,null,0,A,le.ITF,new Date().getTime())}static decodeMiddle(t,r,i,o){let l=new Int32Array(10),u=new Int32Array(5),f=new Int32Array(5);for(l.fill(0),u.fill(0),f.fill(0);r<i;){dt.recordPattern(t,r,l);for(let g=0;g<5;g++){let p=2*g;u[g]=l[p],f[g]=l[p+1]}let h=je.decodeDigit(u);o.append(h.toString()),h=this.decodeDigit(f),o.append(h.toString()),l.forEach(function(g){r+=g})}}decodeStart(t){let r=je.skipWhiteSpace(t),i=je.findGuardPattern(t,r,je.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(t,i[0]),i}validateQuietZone(t,r){let i=this.narrowLineWidth*10;i=i<r?i:r;for(let o=r-1;i>0&&o>=0&&!t.get(o);o--)i--;if(i!==0)throw new L}static skipWhiteSpace(t){const r=t.getSize(),i=t.getNextSet(0);if(i===r)throw new L;return i}decodeEnd(t){t.reverse();try{let r=je.skipWhiteSpace(t),i;try{i=je.findGuardPattern(t,r,je.END_PATTERN_REVERSED[0])}catch(l){l instanceof L&&(i=je.findGuardPattern(t,r,je.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,i[0]);let o=i[0];return i[0]=t.getSize()-i[1],i[1]=t.getSize()-o,i}finally{t.reverse()}}static findGuardPattern(t,r,i){let o=i.length,l=new Int32Array(o),u=t.getSize(),f=!1,h=0,g=r;l.fill(0);for(let p=r;p<u;p++)if(t.get(p)!==f)l[h]++;else{if(h===o-1){if(dt.patternMatchVariance(l,i,je.MAX_INDIVIDUAL_VARIANCE)<je.MAX_AVG_VARIANCE)return[g,p];g+=l[0]+l[1],M.arraycopy(l,2,l,0,h-1),l[h-1]=0,l[h]=0,h--}else h++;l[h]=1,f=!f}throw new L}static decodeDigit(t){let r=je.MAX_AVG_VARIANCE,i=-1,o=je.PATTERNS.length;for(let l=0;l<o;l++){let u=je.PATTERNS[l],f=dt.patternMatchVariance(t,u,je.MAX_INDIVIDUAL_VARIANCE);f<r?(r=f,i=l):f===r&&(i=-1)}if(i>=0)return i%10;throw new L}}je.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],je.MAX_AVG_VARIANCE=.38,je.MAX_INDIVIDUAL_VARIANCE=.5,je.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],je.START_PATTERN=Int32Array.from([1,1,1,1]),je.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class rt extends dt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(t){let r=!1,i,o=0,l=Int32Array.from([0,0,0]);for(;!r;){l=Int32Array.from([0,0,0]),i=rt.findGuardPattern(t,o,!1,this.START_END_PATTERN,l);let u=i[0];o=i[1];let f=u-(o-u);f>=0&&(r=t.isRange(f,u,!1))}return i}static checkChecksum(t){return rt.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let r=t.length;if(r===0)return!1;let i=parseInt(t.charAt(r-1),10);return rt.getStandardUPCEANChecksum(t.substring(0,r-1))===i}static getStandardUPCEANChecksum(t){let r=t.length,i=0;for(let o=r-1;o>=0;o-=2){let l=t.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new P;i+=l}i*=3;for(let o=r-2;o>=0;o-=2){let l=t.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new P;i+=l}return(1e3-i)%10}static decodeEnd(t,r){return rt.findGuardPattern(t,r,!1,rt.START_END_PATTERN,new Int32Array(rt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(t,r,i,o){return this.findGuardPattern(t,r,i,o,new Int32Array(o.length))}static findGuardPattern(t,r,i,o,l){let u=t.getSize();r=i?t.getNextUnset(r):t.getNextSet(r);let f=0,h=r,g=o.length,p=i;for(let v=r;v<u;v++)if(t.get(v)!==p)l[f]++;else{if(f===g-1){if(dt.patternMatchVariance(l,o,rt.MAX_INDIVIDUAL_VARIANCE)<rt.MAX_AVG_VARIANCE)return Int32Array.from([h,v]);h+=l[0]+l[1];let A=l.slice(2,l.length-1);for(let I=0;I<f-1;I++)l[I]=A[I];l[f-1]=0,l[f]=0,f--}else f++;l[f]=1,p=!p}throw new L}static decodeDigit(t,r,i,o){this.recordPattern(t,i,r);let l=this.MAX_AVG_VARIANCE,u=-1,f=o.length;for(let h=0;h<f;h++){let g=o[h],p=dt.patternMatchVariance(r,g,rt.MAX_INDIVIDUAL_VARIANCE);p<l&&(l=p,u=h)}if(u>=0)return u;throw new L}}rt.MAX_AVG_VARIANCE=.48,rt.MAX_INDIVIDUAL_VARIANCE=.7,rt.START_END_PATTERN=Int32Array.from([1,1,1]),rt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),rt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),rt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Qi{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,r,i){let o=this.decodeRowStringBuffer,l=this.decodeMiddle(r,i,o),u=o.toString(),f=Qi.parseExtensionString(u),h=[new ae((i[0]+i[1])/2,t),new ae(l,t)],g=new ze(u,null,0,h,le.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&g.putAllMetadata(f),g}decodeMiddle(t,r,i){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=t.getSize(),u=r[1],f=0;for(let g=0;g<5&&u<l;g++){let p=rt.decodeDigit(t,o,u,rt.L_AND_G_PATTERNS);i+=String.fromCharCode(48+p%10);for(let v of o)u+=v;p>=10&&(f|=1<<4-g),g!==4&&(u=t.getNextSet(u),u=t.getNextUnset(u))}if(i.length!==5)throw new L;let h=this.determineCheckDigit(f);if(Qi.extensionChecksum(i.toString())!==h)throw new L;return u}static extensionChecksum(t){let r=t.length,i=0;for(let o=r-2;o>=0;o-=2)i+=t.charAt(o).charCodeAt(0)-48;i*=3;for(let o=r-1;o>=0;o-=2)i+=t.charAt(o).charCodeAt(0)-48;return i*=3,i%10}determineCheckDigit(t){for(let r=0;r<10;r++)if(t===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new L}static parseExtensionString(t){if(t.length!==5)return null;let r=Qi.parseExtension5String(t);return r==null?null:new Map([[oe.SUGGESTED_PRICE,r]])}static parseExtension5String(t){let r;switch(t.charAt(0)){case"0":r="";break;case"5":r="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}let i=parseInt(t.substring(1)),o=(i/100).toString(),l=i%100,u=l<10?"0"+l:l.toString();return r+o+"."+u}}class Dl{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,r,i){let o=this.decodeRowStringBuffer,l=this.decodeMiddle(r,i,o),u=o.toString(),f=Dl.parseExtensionString(u),h=[new ae((i[0]+i[1])/2,t),new ae(l,t)],g=new ze(u,null,0,h,le.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&g.putAllMetadata(f),g}decodeMiddle(t,r,i){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=t.getSize(),u=r[1],f=0;for(let h=0;h<2&&u<l;h++){let g=rt.decodeDigit(t,o,u,rt.L_AND_G_PATTERNS);i+=String.fromCharCode(48+g%10);for(let p of o)u+=p;g>=10&&(f|=1<<1-h),h!==1&&(u=t.getNextSet(u),u=t.getNextUnset(u))}if(i.length!==2)throw new L;if(parseInt(i.toString())%4!==f)throw new L;return u}static parseExtensionString(t){return t.length!==2?null:new Map([[oe.ISSUE_NUMBER,parseInt(t)]])}}class Ic{static decodeRow(t,r,i){let o=rt.findGuardPattern(r,i,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Qi().decodeRow(t,r,o)}catch{return new Dl().decodeRow(t,r,o)}}}Ic.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class De extends rt{constructor(){super(),this.decodeRowStringBuffer="",De.L_AND_G_PATTERNS=De.L_PATTERNS.map(t=>Int32Array.from(t));for(let t=10;t<20;t++){let r=De.L_PATTERNS[t-10],i=new Int32Array(r.length);for(let o=0;o<r.length;o++)i[o]=r[r.length-o-1];De.L_AND_G_PATTERNS[t]=i}}decodeRow(t,r,i){let o=De.findStartGuardPattern(r),l=i==null?null:i.get(K.NEED_RESULT_POINT_CALLBACK);if(l!=null){const Z=new ae((o[0]+o[1])/2,t);l.foundPossibleResultPoint(Z)}let u=this.decodeMiddle(r,o,this.decodeRowStringBuffer),f=u.rowOffset,h=u.resultString;if(l!=null){const Z=new ae(f,t);l.foundPossibleResultPoint(Z)}let g=this.decodeEnd(r,f);if(l!=null){const Z=new ae((g[0]+g[1])/2,t);l.foundPossibleResultPoint(Z)}let p=g[1],v=p+(p-g[0]);if(v>=r.getSize()||!r.isRange(p,v,!1))throw new L;let A=h.toString();if(A.length<8)throw new P;if(!De.checkChecksum(A))throw new F;let I=(o[1]+o[0])/2,O=(g[1]+g[0])/2,D=this.getBarcodeFormat(),B=[new ae(I,t),new ae(O,t)],W=new ze(A,null,0,B,D,new Date().getTime()),J=0;try{let Z=Ic.decodeRow(t,r,g[1]);W.putMetadata(oe.UPC_EAN_EXTENSION,Z.getText()),W.putAllMetadata(Z.getResultMetadata()),W.addResultPoints(Z.getResultPoints()),J=Z.getText().length}catch{}let ee=i==null?null:i.get(K.ALLOWED_EAN_EXTENSIONS);if(ee!=null){let Z=!1;for(let Se in ee)if(J.toString()===Se){Z=!0;break}if(!Z)throw new L}return W}decodeEnd(t,r){return De.findGuardPattern(t,r,!1,De.START_END_PATTERN,new Int32Array(De.START_END_PATTERN.length).fill(0))}static checkChecksum(t){return De.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let r=t.length;if(r===0)return!1;let i=parseInt(t.charAt(r-1),10);return De.getStandardUPCEANChecksum(t.substring(0,r-1))===i}static getStandardUPCEANChecksum(t){let r=t.length,i=0;for(let o=r-1;o>=0;o-=2){let l=t.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new P;i+=l}i*=3;for(let o=r-2;o>=0;o-=2){let l=t.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new P;i+=l}return(1e3-i)%10}}class Pr extends De{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,r,i){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=t.getSize(),u=r[1],f=0;for(let g=0;g<6&&u<l;g++){let p=De.decodeDigit(t,o,u,De.L_AND_G_PATTERNS);i+=String.fromCharCode(48+p%10);for(let v of o)u+=v;p>=10&&(f|=1<<5-g)}i=Pr.determineFirstDigit(i,f),u=De.findGuardPattern(t,u,!0,De.MIDDLE_PATTERN,new Int32Array(De.MIDDLE_PATTERN.length).fill(0))[1];for(let g=0;g<6&&u<l;g++){let p=De.decodeDigit(t,o,u,De.L_PATTERNS);i+=String.fromCharCode(48+p);for(let v of o)u+=v}return{rowOffset:u,resultString:i}}getBarcodeFormat(){return le.EAN_13}static determineFirstDigit(t,r){for(let i=0;i<10;i++)if(r===this.FIRST_DIGIT_ENCODINGS[i])return t=String.fromCharCode(48+i)+t,t;throw new L}}Pr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class bc extends De{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,r,i){const o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=t.getSize(),u=r[1];for(let h=0;h<4&&u<l;h++){let g=De.decodeDigit(t,o,u,De.L_PATTERNS);i+=String.fromCharCode(48+g);for(let p of o)u+=p}u=De.findGuardPattern(t,u,!0,De.MIDDLE_PATTERN,new Int32Array(De.MIDDLE_PATTERN.length).fill(0))[1];for(let h=0;h<4&&u<l;h++){let g=De.decodeDigit(t,o,u,De.L_PATTERNS);i+=String.fromCharCode(48+g);for(let p of o)u+=p}return{rowOffset:u,resultString:i}}getBarcodeFormat(){return le.EAN_8}}class Tc extends De{constructor(){super(...arguments),this.ean13Reader=new Pr}getBarcodeFormat(){return le.UPC_A}decode(t,r){return this.maybeReturnResult(this.ean13Reader.decode(t))}decodeRow(t,r,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,r,i))}decodeMiddle(t,r,i){return this.ean13Reader.decodeMiddle(t,r,i)}maybeReturnResult(t){let r=t.getText();if(r.charAt(0)==="0"){let i=new ze(r.substring(1),null,null,t.getResultPoints(),le.UPC_A);return t.getResultMetadata()!=null&&i.putAllMetadata(t.getResultMetadata()),i}else throw new L}reset(){this.ean13Reader.reset()}}class vn extends De{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(t,r,i){const o=this.decodeMiddleCounters.map(g=>g);o[0]=0,o[1]=0,o[2]=0,o[3]=0;const l=t.getSize();let u=r[1],f=0;for(let g=0;g<6&&u<l;g++){const p=vn.decodeDigit(t,o,u,vn.L_AND_G_PATTERNS);i+=String.fromCharCode(48+p%10);for(let v of o)u+=v;p>=10&&(f|=1<<5-g)}let h=vn.determineNumSysAndCheckDigit(i,f);return{rowOffset:u,resultString:h}}decodeEnd(t,r){return vn.findGuardPatternWithoutCounters(t,r,!0,vn.MIDDLE_END_PATTERN)}checkChecksum(t){return De.checkChecksum(vn.convertUPCEtoUPCA(t))}static determineNumSysAndCheckDigit(t,r){for(let i=0;i<=1;i++)for(let o=0;o<10;o++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][o]){let l=String.fromCharCode(48+i),u=String.fromCharCode(48+o);return l+t+u}throw L.getNotFoundInstance()}getBarcodeFormat(){return le.UPC_E}static convertUPCEtoUPCA(t){const r=t.slice(1,7).split("").map(l=>l.charCodeAt(0)),i=new we;i.append(t.charAt(0));let o=r[5];switch(o){case 0:case 1:case 2:i.appendChars(r,0,2),i.append(o),i.append("0000"),i.appendChars(r,2,3);break;case 3:i.appendChars(r,0,3),i.append("00000"),i.appendChars(r,3,2);break;case 4:i.appendChars(r,0,4),i.append("00000"),i.append(r[4]);break;default:i.appendChars(r,0,5),i.append("0000"),i.append(o);break}return t.length>=8&&i.append(t.charAt(7)),i.toString()}}vn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),vn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class kl extends dt{constructor(t){super();let r=t==null?null:t.get(K.POSSIBLE_FORMATS),i=[];a(r)?(i.push(new Pr),i.push(new Tc),i.push(new bc),i.push(new vn)):(r.indexOf(le.EAN_13)>-1&&i.push(new Pr),r.indexOf(le.UPC_A)>-1&&i.push(new Tc),r.indexOf(le.EAN_8)>-1&&i.push(new bc),r.indexOf(le.UPC_E)>-1&&i.push(new vn)),this.readers=i}decodeRow(t,r,i){for(let o of this.readers)try{const l=o.decodeRow(t,r,i),u=l.getBarcodeFormat()===le.EAN_13&&l.getText().charAt(0)==="0",f=i==null?null:i.get(K.POSSIBLE_FORMATS),h=f==null||f.includes(le.UPC_A);if(u&&h){const g=l.getRawBytes(),p=new ze(l.getText().substring(1),g,g?g.length:null,l.getResultPoints(),le.UPC_A);return p.putAllMetadata(l.getResultMetadata()),p}return l}catch{}throw new L}reset(){for(let t of this.readers)t.reset()}}class Rt extends dt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(t,r){for(let i=0;i<r.length;i++)if(dt.patternMatchVariance(t,r[i],Rt.MAX_INDIVIDUAL_VARIANCE)<Rt.MAX_AVG_VARIANCE)return i;throw new L}static count(t){return Te.sum(new Int32Array(t))}static increment(t,r){let i=0,o=r[0];for(let l=1;l<t.length;l++)r[l]>o&&(o=r[l],i=l);t[i]++}static decrement(t,r){let i=0,o=r[0];for(let l=1;l<t.length;l++)r[l]<o&&(o=r[l],i=l);t[i]--}static isFinderPattern(t){let r=t[0]+t[1],i=r+t[2]+t[3],o=r/i;if(o>=Rt.MIN_FINDER_PATTERN_RATIO&&o<=Rt.MAX_FINDER_PATTERN_RATIO){let l=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;for(let f of t)f>u&&(u=f),f<l&&(l=f);return u<10*l}return!1}}Rt.MAX_AVG_VARIANCE=.2,Rt.MAX_INDIVIDUAL_VARIANCE=.45,Rt.MIN_FINDER_PATTERN_RATIO=9.5/12,Rt.MAX_FINDER_PATTERN_RATIO=12.5/14;class ii{constructor(t,r){this.value=t,this.checksumPortion=r}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(t){if(!(t instanceof ii))return!1;const r=t;return this.value===r.value&&this.checksumPortion===r.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class to{constructor(t,r,i,o,l){this.value=t,this.startEnd=r,this.value=t,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new ae(i,l)),this.resultPoints.push(new ae(o,l))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(t){if(!(t instanceof to))return!1;const r=t;return this.value===r.value}hashCode(){return this.value}}class kn{constructor(){}static getRSSvalue(t,r,i){let o=0;for(let h of t)o+=h;let l=0,u=0,f=t.length;for(let h=0;h<f-1;h++){let g;for(g=1,u|=1<<h;g<t[h];g++,u&=~(1<<h)){let p=kn.combins(o-g-1,f-h-2);if(i&&u===0&&o-g-(f-h-1)>=f-h-1&&(p-=kn.combins(o-g-(f-h),f-h-2)),f-h-1>1){let v=0;for(let A=o-g-(f-h-2);A>r;A--)v+=kn.combins(o-g-A-1,f-h-3);p-=v*(f-1-h)}else o-g>r&&p--;l+=p}o-=g}return l}static combins(t,r){let i,o;t-r>r?(o=r,i=t-r):(o=t-r,i=r);let l=1,u=1;for(let f=t;f>i;f--)l*=f,u<=o&&(l/=u,u++);for(;u<=o;)l/=u,u++;return l}}class Xd{static buildBitArray(t){let r=t.length*2-1;t[t.length-1].getRightChar()==null&&(r-=1);let i=12*r,o=new V(i),l=0,f=t[0].getRightChar().getValue();for(let h=11;h>=0;--h)f&1<<h&&o.set(l),l++;for(let h=1;h<t.length;++h){let g=t[h],p=g.getLeftChar().getValue();for(let v=11;v>=0;--v)p&1<<v&&o.set(l),l++;if(g.getRightChar()!=null){let v=g.getRightChar().getValue();for(let A=11;A>=0;--A)v&1<<A&&o.set(l),l++}}return o}}class Lr{constructor(t,r){r?this.decodedInformation=null:(this.finished=t,this.decodedInformation=r)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Ml{constructor(t){this.newPosition=t}getNewPosition(){return this.newPosition}}class Ht extends Ml{constructor(t,r){super(t),this.value=r}getValue(){return this.value}isFNC1(){return this.value===Ht.FNC1}}Ht.FNC1="$";class Br extends Ml{constructor(t,r,i){super(t),i?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=r}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class fn extends Ml{constructor(t,r,i){if(super(t),r<0||r>10||i<0||i>10)throw new P;this.firstDigit=r,this.secondDigit=i}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===fn.FNC1}isSecondDigitFNC1(){return this.secondDigit===fn.FNC1}isAnyFNC1(){return this.firstDigit===fn.FNC1||this.secondDigit===fn.FNC1}}fn.FNC1=10;class re{constructor(){}static parseFieldsInGeneralPurpose(t){if(!t)return null;if(t.length<2)throw new L;let r=t.substring(0,2);for(let l of re.TWO_DIGIT_DATA_LENGTH)if(l[0]===r)return l[1]===re.VARIABLE_LENGTH?re.processVariableAI(2,l[2],t):re.processFixedAI(2,l[1],t);if(t.length<3)throw new L;let i=t.substring(0,3);for(let l of re.THREE_DIGIT_DATA_LENGTH)if(l[0]===i)return l[1]===re.VARIABLE_LENGTH?re.processVariableAI(3,l[2],t):re.processFixedAI(3,l[1],t);for(let l of re.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(l[0]===i)return l[1]===re.VARIABLE_LENGTH?re.processVariableAI(4,l[2],t):re.processFixedAI(4,l[1],t);if(t.length<4)throw new L;let o=t.substring(0,4);for(let l of re.FOUR_DIGIT_DATA_LENGTH)if(l[0]===o)return l[1]===re.VARIABLE_LENGTH?re.processVariableAI(4,l[2],t):re.processFixedAI(4,l[1],t);throw new L}static processFixedAI(t,r,i){if(i.length<t)throw new L;let o=i.substring(0,t);if(i.length<t+r)throw new L;let l=i.substring(t,t+r),u=i.substring(t+r),f="("+o+")"+l,h=re.parseFieldsInGeneralPurpose(u);return h==null?f:f+h}static processVariableAI(t,r,i){let o=i.substring(0,t),l;i.length<t+r?l=i.length:l=t+r;let u=i.substring(t,l),f=i.substring(l),h="("+o+")"+u,g=re.parseFieldsInGeneralPurpose(f);return g==null?h:h+g}}re.VARIABLE_LENGTH=[],re.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",re.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",re.VARIABLE_LENGTH,20],["22",re.VARIABLE_LENGTH,29],["30",re.VARIABLE_LENGTH,8],["37",re.VARIABLE_LENGTH,8],["90",re.VARIABLE_LENGTH,30],["91",re.VARIABLE_LENGTH,30],["92",re.VARIABLE_LENGTH,30],["93",re.VARIABLE_LENGTH,30],["94",re.VARIABLE_LENGTH,30],["95",re.VARIABLE_LENGTH,30],["96",re.VARIABLE_LENGTH,30],["97",re.VARIABLE_LENGTH,3],["98",re.VARIABLE_LENGTH,30],["99",re.VARIABLE_LENGTH,30]],re.THREE_DIGIT_DATA_LENGTH=[["240",re.VARIABLE_LENGTH,30],["241",re.VARIABLE_LENGTH,30],["242",re.VARIABLE_LENGTH,6],["250",re.VARIABLE_LENGTH,30],["251",re.VARIABLE_LENGTH,30],["253",re.VARIABLE_LENGTH,17],["254",re.VARIABLE_LENGTH,20],["400",re.VARIABLE_LENGTH,30],["401",re.VARIABLE_LENGTH,30],["402",17],["403",re.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",re.VARIABLE_LENGTH,20],["421",re.VARIABLE_LENGTH,15],["422",3],["423",re.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],re.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",re.VARIABLE_LENGTH,15],["391",re.VARIABLE_LENGTH,18],["392",re.VARIABLE_LENGTH,15],["393",re.VARIABLE_LENGTH,18],["703",re.VARIABLE_LENGTH,30]],re.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",re.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",re.VARIABLE_LENGTH,20],["8003",re.VARIABLE_LENGTH,30],["8004",re.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",re.VARIABLE_LENGTH,30],["8008",re.VARIABLE_LENGTH,12],["8018",18],["8020",re.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",re.VARIABLE_LENGTH,70],["8200",re.VARIABLE_LENGTH,70]];class si{constructor(t){this.buffer=new we,this.information=t}decodeAllCodes(t,r){let i=r,o=null;do{let l=this.decodeGeneralPurposeField(i,o),u=re.parseFieldsInGeneralPurpose(l.getNewString());if(u!=null&&t.append(u),l.isRemaining()?o=""+l.getRemainingValue():o=null,i===l.getNewPosition())break;i=l.getNewPosition()}while(!0);return t.toString()}isStillNumeric(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(let r=t;r<t+3;++r)if(this.information.get(r))return!0;return this.information.get(t+3)}decodeNumeric(t){if(t+7>this.information.getSize()){let l=this.extractNumericValueFromBitArray(t,4);return l===0?new fn(this.information.getSize(),fn.FNC1,fn.FNC1):new fn(this.information.getSize(),l-1,fn.FNC1)}let r=this.extractNumericValueFromBitArray(t,7),i=(r-8)/11,o=(r-8)%11;return new fn(t+7,i,o)}extractNumericValueFromBitArray(t,r){return si.extractNumericValueFromBitArray(this.information,t,r)}static extractNumericValueFromBitArray(t,r,i){let o=0;for(let l=0;l<i;++l)t.get(r+l)&&(o|=1<<i-l-1);return o}decodeGeneralPurposeField(t,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(t);let i=this.parseBlocks();return i!=null&&i.isRemaining()?new Br(this.current.getPosition(),this.buffer.toString(),i.getRemainingValue()):new Br(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let t,r;do{let i=this.current.getPosition();if(this.current.isAlpha()?(r=this.parseAlphaBlock(),t=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),t=r.isFinished()):(r=this.parseNumericBlock(),t=r.isFinished()),!(i!==this.current.getPosition())&&!t)break}while(!t);return r.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){let r;return t.isSecondDigitFNC1()?r=new Br(this.current.getPosition(),this.buffer.toString()):r=new Br(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new Lr(!0,r)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){let r=new Br(this.current.getPosition(),this.buffer.toString());return new Lr(!0,r)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Lr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let r=new Br(this.current.getPosition(),this.buffer.toString());return new Lr(!0,r)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Lr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let r=new Br(this.current.getPosition(),this.buffer.toString());return new Lr(!0,r)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Lr(!1)}isStillIsoIec646(t){if(t+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,5);if(r>=5&&r<16)return!0;if(t+7>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,7);if(i>=64&&i<116)return!0;if(t+8>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(t,8);return o>=232&&o<253}decodeIsoIec646(t){let r=this.extractNumericValueFromBitArray(t,5);if(r===15)return new Ht(t+5,Ht.FNC1);if(r>=5&&r<15)return new Ht(t+5,"0"+(r-5));let i=this.extractNumericValueFromBitArray(t,7);if(i>=64&&i<90)return new Ht(t+7,""+(i+1));if(i>=90&&i<116)return new Ht(t+7,""+(i+7));let o=this.extractNumericValueFromBitArray(t,8),l;switch(o){case 232:l="!";break;case 233:l='"';break;case 234:l="%";break;case 235:l="&";break;case 236:l="'";break;case 237:l="(";break;case 238:l=")";break;case 239:l="*";break;case 240:l="+";break;case 241:l=",";break;case 242:l="-";break;case 243:l=".";break;case 244:l="/";break;case 245:l=":";break;case 246:l=";";break;case 247:l="<";break;case 248:l="=";break;case 249:l=">";break;case 250:l="?";break;case 251:l="_";break;case 252:l=" ";break;default:throw new P}return new Ht(t+8,l)}isStillAlpha(t){if(t+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,5);if(r>=5&&r<16)return!0;if(t+6>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,6);return i>=16&&i<63}decodeAlphanumeric(t){let r=this.extractNumericValueFromBitArray(t,5);if(r===15)return new Ht(t+5,Ht.FNC1);if(r>=5&&r<15)return new Ht(t+5,"0"+(r-5));let i=this.extractNumericValueFromBitArray(t,6);if(i>=32&&i<58)return new Ht(t+6,""+(i+33));let o;switch(i){case 58:o="*";break;case 59:o=",";break;case 60:o="-";break;case 61:o=".";break;case 62:o="/";break;default:throw new Dn("Decoding invalid alphanumeric value: "+i)}return new Ht(t+6,o)}isAlphaTo646ToAlphaLatch(t){if(t+1>this.information.getSize())return!1;for(let r=0;r<5&&r+t<this.information.getSize();++r)if(r===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+r))return!1;return!0}isAlphaOr646ToNumericLatch(t){if(t+3>this.information.getSize())return!1;for(let r=t;r<t+3;++r)if(this.information.get(r))return!1;return!0}isNumericToAlphaNumericLatch(t){if(t+1>this.information.getSize())return!1;for(let r=0;r<4&&r+t<this.information.getSize();++r)if(this.information.get(t+r))return!1;return!0}}class Pl{constructor(t){this.information=t,this.generalDecoder=new si(t)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Gt extends Pl{constructor(t){super(t)}encodeCompressedGtin(t,r){t.append("(01)");let i=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,r,i)}encodeCompressedGtinWithoutAI(t,r,i){for(let o=0;o<4;++o){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*o,10);l/100===0&&t.append("0"),l/10===0&&t.append("0"),t.append(l)}Gt.appendCheckDigit(t,i)}static appendCheckDigit(t,r){let i=0;for(let o=0;o<13;o++){let l=t.charAt(o+r).charCodeAt(0)-48;i+=o&1?l:3*l}i=10-i%10,i===10&&(i=0),t.append(i)}}Gt.GTIN_SIZE=40;class oi extends Gt{constructor(t){super(t)}parseInformation(){let t=new we;t.append("(01)");let r=t.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(oi.HEADER_SIZE,4);return t.append(i),this.encodeCompressedGtinWithoutAI(t,oi.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(t,oi.HEADER_SIZE+44)}}oi.HEADER_SIZE=4;class no extends Pl{constructor(t){super(t)}parseInformation(){let t=new we;return this.getGeneralDecoder().decodeAllCodes(t,no.HEADER_SIZE)}}no.HEADER_SIZE=5;class ro extends Gt{constructor(t){super(t)}encodeCompressedWeight(t,r,i){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(r,i);this.addWeightCode(t,o);let l=this.checkWeight(o),u=1e5;for(let f=0;f<5;++f)l/u===0&&t.append("0"),u/=10;t.append(l)}}class Mn extends ro{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()!=Mn.HEADER_SIZE+ro.GTIN_SIZE+Mn.WEIGHT_SIZE)throw new L;let t=new we;return this.encodeCompressedGtin(t,Mn.HEADER_SIZE),this.encodeCompressedWeight(t,Mn.HEADER_SIZE+ro.GTIN_SIZE,Mn.WEIGHT_SIZE),t.toString()}}Mn.HEADER_SIZE=5,Mn.WEIGHT_SIZE=15;class Yd extends Mn{constructor(t){super(t)}addWeightCode(t,r){t.append("(3103)")}checkWeight(t){return t}}class Zd extends Mn{constructor(t){super(t)}addWeightCode(t,r){r<1e4?t.append("(3202)"):t.append("(3203)")}checkWeight(t){return t<1e4?t:t-1e4}}class Pn extends Gt{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<Pn.HEADER_SIZE+Gt.GTIN_SIZE)throw new L;let t=new we;this.encodeCompressedGtin(t,Pn.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Pn.HEADER_SIZE+Gt.GTIN_SIZE,Pn.LAST_DIGIT_SIZE);t.append("(392"),t.append(r),t.append(")");let i=this.getGeneralDecoder().decodeGeneralPurposeField(Pn.HEADER_SIZE+Gt.GTIN_SIZE+Pn.LAST_DIGIT_SIZE,null);return t.append(i.getNewString()),t.toString()}}Pn.HEADER_SIZE=8,Pn.LAST_DIGIT_SIZE=2;class Bt extends Gt{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<Bt.HEADER_SIZE+Gt.GTIN_SIZE)throw new L;let t=new we;this.encodeCompressedGtin(t,Bt.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Bt.HEADER_SIZE+Gt.GTIN_SIZE,Bt.LAST_DIGIT_SIZE);t.append("(393"),t.append(r),t.append(")");let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Bt.HEADER_SIZE+Gt.GTIN_SIZE+Bt.LAST_DIGIT_SIZE,Bt.FIRST_THREE_DIGITS_SIZE);i/100==0&&t.append("0"),i/10==0&&t.append("0"),t.append(i);let o=this.getGeneralDecoder().decodeGeneralPurposeField(Bt.HEADER_SIZE+Gt.GTIN_SIZE+Bt.LAST_DIGIT_SIZE+Bt.FIRST_THREE_DIGITS_SIZE,null);return t.append(o.getNewString()),t.toString()}}Bt.HEADER_SIZE=8,Bt.LAST_DIGIT_SIZE=2,Bt.FIRST_THREE_DIGITS_SIZE=10;class Ke extends ro{constructor(t,r,i){super(t),this.dateCode=i,this.firstAIdigits=r}parseInformation(){if(this.getInformation().getSize()!=Ke.HEADER_SIZE+Ke.GTIN_SIZE+Ke.WEIGHT_SIZE+Ke.DATE_SIZE)throw new L;let t=new we;return this.encodeCompressedGtin(t,Ke.HEADER_SIZE),this.encodeCompressedWeight(t,Ke.HEADER_SIZE+Ke.GTIN_SIZE,Ke.WEIGHT_SIZE),this.encodeCompressedDate(t,Ke.HEADER_SIZE+Ke.GTIN_SIZE+Ke.WEIGHT_SIZE),t.toString()}encodeCompressedDate(t,r){let i=this.getGeneralDecoder().extractNumericValueFromBitArray(r,Ke.DATE_SIZE);if(i==38400)return;t.append("("),t.append(this.dateCode),t.append(")");let o=i%32;i/=32;let l=i%12+1;i/=12;let u=i;u/10==0&&t.append("0"),t.append(u),l/10==0&&t.append("0"),t.append(l),o/10==0&&t.append("0"),t.append(o)}addWeightCode(t,r){t.append("("),t.append(this.firstAIdigits),t.append(r/1e5),t.append(")")}checkWeight(t){return t%1e5}}Ke.HEADER_SIZE=8,Ke.WEIGHT_SIZE=20,Ke.DATE_SIZE=16;function _c(C){try{if(C.get(1))return new oi(C);if(!C.get(2))return new no(C);switch(si.extractNumericValueFromBitArray(C,1,4)){case 4:return new Yd(C);case 5:return new Zd(C)}switch(si.extractNumericValueFromBitArray(C,1,5)){case 12:return new Pn(C);case 13:return new Bt(C)}switch(si.extractNumericValueFromBitArray(C,1,7)){case 56:return new Ke(C,"310","11");case 57:return new Ke(C,"320","11");case 58:return new Ke(C,"310","13");case 59:return new Ke(C,"320","13");case 60:return new Ke(C,"310","15");case 61:return new Ke(C,"320","15");case 62:return new Ke(C,"310","17");case 63:return new Ke(C,"320","17")}}catch(t){throw console.log(t),new Dn("unknown decoder: "+C)}}class rr{constructor(t,r,i,o){this.leftchar=t,this.rightchar=r,this.finderpattern=i,this.maybeLast=o}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(t,r){return t instanceof rr?rr.equalsOrNull(t.leftchar,r.leftchar)&&rr.equalsOrNull(t.rightchar,r.rightchar)&&rr.equalsOrNull(t.finderpattern,r.finderpattern):!1}static equalsOrNull(t,r){return t===null?r===null:rr.equals(t,r)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Ll{constructor(t,r,i){this.pairs=t,this.rowNumber=r,this.wasReversed=i}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(t){return this.checkEqualitity(this,t)}toString(){return"{ "+this.pairs+" }"}equals(t,r){return t instanceof Ll?this.checkEqualitity(t,r)&&t.wasReversed===r.wasReversed:!1}checkEqualitity(t,r){if(!t||!r)return;let i;return t.forEach((o,l)=>{r.forEach(u=>{o.getLeftChar().getValue()===u.getLeftChar().getValue()&&o.getRightChar().getValue()===u.getRightChar().getValue()&&o.getFinderPatter().getValue()===u.getFinderPatter().getValue()&&(i=!0)})}),i}}class Y extends Rt{constructor(t){super(...arguments),this.pairs=new Array(Y.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=t===!0}decodeRow(t,r,i){this.pairs.length=0,this.startFromEven=!1;try{return Y.constructResult(this.decodeRow2pairs(t,r))}catch(o){this.verbose&&console.log(o)}return this.pairs.length=0,this.startFromEven=!0,Y.constructResult(this.decodeRow2pairs(t,r))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(t,r){let i=!1;for(;!i;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,t))}catch(l){if(l instanceof L){if(!this.pairs.length)throw new L;i=!0}}if(this.checkChecksum())return this.pairs;let o;if(this.rows.length?o=!0:o=!1,this.storeRow(t,!1),o){let l=this.checkRowsBoolean(!1);if(l!=null||(l=this.checkRowsBoolean(!0),l!=null))return l}throw new L}checkRowsBoolean(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());let r=null;try{r=this.checkRows(new Array,0)}catch(i){this.verbose&&console.log(i)}return t&&(this.rows=this.rows.reverse()),r}checkRows(t,r){for(let i=r;i<this.rows.length;i++){let o=this.rows[i];this.pairs.length=0;for(let u of t)this.pairs.push(u.getPairs());if(this.pairs.push(o.getPairs()),!Y.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let l=new Array(t);l.push(o);try{return this.checkRows(l,i+1)}catch(u){this.verbose&&console.log(u)}}throw new L}static isValidSequence(t){for(let r of Y.FINDER_PATTERN_SEQUENCES){if(t.length>r.length)continue;let i=!0;for(let o=0;o<t.length;o++)if(t[o].getFinderPattern().getValue()!=r[o]){i=!1;break}if(i)return!0}return!1}storeRow(t,r){let i=0,o=!1,l=!1;for(;i<this.rows.length;){let u=this.rows[i];if(u.getRowNumber()>t){l=u.isEquivalent(this.pairs);break}o=u.isEquivalent(this.pairs),i++}l||o||Y.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new Ll(this.pairs,t,r)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(t,r){for(let i of r)if(i.getPairs().length!==t.length){for(let o of i.getPairs())for(let l of t)if(rr.equals(o,l))break}}static isPartialRow(t,r){for(let i of r){let o=!0;for(let l of t){let u=!1;for(let f of i.getPairs())if(l.equals(f)){u=!0;break}if(!u){o=!1;break}}if(o)return!0}return!1}getRows(){return this.rows}static constructResult(t){let r=Xd.buildBitArray(t),o=_c(r).parseInformation(),l=t[0].getFinderPattern().getResultPoints(),u=t[t.length-1].getFinderPattern().getResultPoints(),f=[l[0],l[1],u[0],u[1]];return new ze(o,null,null,f,le.RSS_EXPANDED,null)}checkChecksum(){let t=this.pairs.get(0),r=t.getLeftChar(),i=t.getRightChar();if(i==null)return!1;let o=i.getChecksumPortion(),l=2;for(let f=1;f<this.pairs.size();++f){let h=this.pairs.get(f);o+=h.getLeftChar().getChecksumPortion(),l++;let g=h.getRightChar();g!=null&&(o+=g.getChecksumPortion(),l++)}return o%=211,211*(l-4)+o==r.getValue()}static getNextSecondBar(t,r){let i;return t.get(r)?(i=t.getNextUnset(r),i=t.getNextSet(i)):(i=t.getNextSet(r),i=t.getNextUnset(i)),i}retrieveNextPair(t,r,i){let o=r.length%2==0;this.startFromEven&&(o=!o);let l,u=!0,f=-1;do this.findNextPair(t,r,f),l=this.parseFoundFinderPattern(t,i,o),l==null?f=Y.getNextSecondBar(t,this.startEnd[0]):u=!1;while(u);let h=this.decodeDataCharacter(t,l,o,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new L;let g;try{g=this.decodeDataCharacter(t,l,o,!1)}catch(p){g=null,this.verbose&&console.log(p)}return new rr(h,g,l,!0)}isEmptyPair(t){return t.length===0}findNextPair(t,r,i){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=t.getSize(),u;i>=0?u=i:this.isEmptyPair(r)?u=0:u=r[r.length-1].getFinderPattern().getStartEnd()[1];let f=r.length%2!=0;this.startFromEven&&(f=!f);let h=!1;for(;u<l&&(h=!t.get(u),!!h);)u++;let g=0,p=u;for(let v=u;v<l;v++)if(t.get(v)!=h)o[g]++;else{if(g==3){if(f&&Y.reverseCounters(o),Y.isFinderPattern(o)){this.startEnd[0]=p,this.startEnd[1]=v;return}f&&Y.reverseCounters(o),p+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,g--}else g++;o[g]=1,h=!h}throw new L}static reverseCounters(t){let r=t.length;for(let i=0;i<r/2;++i){let o=t[i];t[i]=t[r-i-1],t[r-i-1]=o}}parseFoundFinderPattern(t,r,i){let o,l,u;if(i){let g=this.startEnd[0]-1;for(;g>=0&&!t.get(g);)g--;g++,o=this.startEnd[0]-g,l=g,u=this.startEnd[1]}else l=this.startEnd[0],u=t.getNextUnset(this.startEnd[1]+1),o=u-this.startEnd[1];let f=this.getDecodeFinderCounters();M.arraycopy(f,0,f,1,f.length-1),f[0]=o;let h;try{h=this.parseFinderValue(f,Y.FINDER_PATTERNS)}catch{return null}return new to(h,[l,u],l,u,r)}decodeDataCharacter(t,r,i,o){let l=this.getDataCharacterCounters();for(let Ve=0;Ve<l.length;Ve++)l[Ve]=0;if(o)Y.recordPatternInReverse(t,r.getStartEnd()[0],l);else{Y.recordPattern(t,r.getStartEnd()[1],l);for(let Ve=0,It=l.length-1;Ve<It;Ve++,It--){let en=l[Ve];l[Ve]=l[It],l[It]=en}}let u=17,f=Te.sum(new Int32Array(l))/u,h=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(f-h)/h>.3)throw new L;let g=this.getOddCounts(),p=this.getEvenCounts(),v=this.getOddRoundingErrors(),A=this.getEvenRoundingErrors();for(let Ve=0;Ve<l.length;Ve++){let It=1*l[Ve]/f,en=It+.5;if(en<1){if(It<.3)throw new L;en=1}else if(en>8){if(It>8.7)throw new L;en=8}let fi=Ve/2;Ve&1?(p[fi]=en,A[fi]=It-en):(g[fi]=en,v[fi]=It-en)}this.adjustOddEvenCounts(u);let I=4*r.getValue()+(i?0:2)+(o?0:1)-1,O=0,D=0;for(let Ve=g.length-1;Ve>=0;Ve--){if(Y.isNotA1left(r,i,o)){let It=Y.WEIGHTS[I][2*Ve];D+=g[Ve]*It}O+=g[Ve]}let B=0;for(let Ve=p.length-1;Ve>=0;Ve--)if(Y.isNotA1left(r,i,o)){let It=Y.WEIGHTS[I][2*Ve+1];B+=p[Ve]*It}let W=D+B;if(O&1||O>13||O<4)throw new L;let J=(13-O)/2,ee=Y.SYMBOL_WIDEST[J],Z=9-ee,Se=kn.getRSSvalue(g,ee,!0),ye=kn.getRSSvalue(p,Z,!1),Yt=Y.EVEN_TOTAL_SUBSET[J],An=Y.GSUM[J],Zt=Se*Yt+ye+An;return new ii(Zt,W)}static isNotA1left(t,r,i){return!(t.getValue()==0&&r&&i)}adjustOddEvenCounts(t){let r=Te.sum(new Int32Array(this.getOddCounts())),i=Te.sum(new Int32Array(this.getEvenCounts())),o=!1,l=!1;r>13?l=!0:r<4&&(o=!0);let u=!1,f=!1;i>13?f=!0:i<4&&(u=!0);let h=r+i-t,g=(r&1)==1,p=(i&1)==0;if(h==1)if(g){if(p)throw new L;l=!0}else{if(!p)throw new L;f=!0}else if(h==-1)if(g){if(p)throw new L;o=!0}else{if(!p)throw new L;u=!0}else if(h==0){if(g){if(!p)throw new L;r<i?(o=!0,f=!0):(l=!0,u=!0)}else if(p)throw new L}else throw new L;if(o){if(l)throw new L;Y.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&Y.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(f)throw new L;Y.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&Y.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Y.SYMBOL_WIDEST=[7,5,4,3,1],Y.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Y.GSUM=[0,348,1388,2948,3988],Y.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Y.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Y.FINDER_PAT_A=0,Y.FINDER_PAT_B=1,Y.FINDER_PAT_C=2,Y.FINDER_PAT_D=3,Y.FINDER_PAT_E=4,Y.FINDER_PAT_F=5,Y.FINDER_PATTERN_SEQUENCES=[[Y.FINDER_PAT_A,Y.FINDER_PAT_A],[Y.FINDER_PAT_A,Y.FINDER_PAT_B,Y.FINDER_PAT_B],[Y.FINDER_PAT_A,Y.FINDER_PAT_C,Y.FINDER_PAT_B,Y.FINDER_PAT_D],[Y.FINDER_PAT_A,Y.FINDER_PAT_E,Y.FINDER_PAT_B,Y.FINDER_PAT_D,Y.FINDER_PAT_C],[Y.FINDER_PAT_A,Y.FINDER_PAT_E,Y.FINDER_PAT_B,Y.FINDER_PAT_D,Y.FINDER_PAT_D,Y.FINDER_PAT_F],[Y.FINDER_PAT_A,Y.FINDER_PAT_E,Y.FINDER_PAT_B,Y.FINDER_PAT_D,Y.FINDER_PAT_E,Y.FINDER_PAT_F,Y.FINDER_PAT_F],[Y.FINDER_PAT_A,Y.FINDER_PAT_A,Y.FINDER_PAT_B,Y.FINDER_PAT_B,Y.FINDER_PAT_C,Y.FINDER_PAT_C,Y.FINDER_PAT_D,Y.FINDER_PAT_D],[Y.FINDER_PAT_A,Y.FINDER_PAT_A,Y.FINDER_PAT_B,Y.FINDER_PAT_B,Y.FINDER_PAT_C,Y.FINDER_PAT_C,Y.FINDER_PAT_D,Y.FINDER_PAT_E,Y.FINDER_PAT_E],[Y.FINDER_PAT_A,Y.FINDER_PAT_A,Y.FINDER_PAT_B,Y.FINDER_PAT_B,Y.FINDER_PAT_C,Y.FINDER_PAT_C,Y.FINDER_PAT_D,Y.FINDER_PAT_E,Y.FINDER_PAT_F,Y.FINDER_PAT_F],[Y.FINDER_PAT_A,Y.FINDER_PAT_A,Y.FINDER_PAT_B,Y.FINDER_PAT_B,Y.FINDER_PAT_C,Y.FINDER_PAT_D,Y.FINDER_PAT_D,Y.FINDER_PAT_E,Y.FINDER_PAT_E,Y.FINDER_PAT_F,Y.FINDER_PAT_F]],Y.MAX_PAIRS=11;class Kd extends ii{constructor(t,r,i){super(t,r),this.count=0,this.finderPattern=i}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class it extends Rt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(t,r,i){const o=this.decodePair(r,!1,t,i);it.addOrTally(this.possibleLeftPairs,o),r.reverse();let l=this.decodePair(r,!0,t,i);it.addOrTally(this.possibleRightPairs,l),r.reverse();for(let u of this.possibleLeftPairs)if(u.getCount()>1){for(let f of this.possibleRightPairs)if(f.getCount()>1&&it.checkChecksum(u,f))return it.constructResult(u,f)}throw new L}static addOrTally(t,r){if(r==null)return;let i=!1;for(let o of t)if(o.getValue()===r.getValue()){o.incrementCount(),i=!0;break}i||t.push(r)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(t,r){let i=4537077*t.getValue()+r.getValue(),o=new String(i).toString(),l=new we;for(let g=13-o.length;g>0;g--)l.append("0");l.append(o);let u=0;for(let g=0;g<13;g++){let p=l.charAt(g).charCodeAt(0)-48;u+=g&1?p:3*p}u=10-u%10,u===10&&(u=0),l.append(u.toString());let f=t.getFinderPattern().getResultPoints(),h=r.getFinderPattern().getResultPoints();return new ze(l.toString(),null,0,[f[0],f[1],h[0],h[1]],le.RSS_14,new Date().getTime())}static checkChecksum(t,r){let i=(t.getChecksumPortion()+16*r.getChecksumPortion())%79,o=9*t.getFinderPattern().getValue()+r.getFinderPattern().getValue();return o>72&&o--,o>8&&o--,i===o}decodePair(t,r,i,o){try{let l=this.findFinderPattern(t,r),u=this.parseFoundFinderPattern(t,i,r,l),f=o==null?null:o.get(K.NEED_RESULT_POINT_CALLBACK);if(f!=null){let p=(l[0]+l[1])/2;r&&(p=t.getSize()-1-p),f.foundPossibleResultPoint(new ae(p,i))}let h=this.decodeDataCharacter(t,u,!0),g=this.decodeDataCharacter(t,u,!1);return new Kd(1597*h.getValue()+g.getValue(),h.getChecksumPortion()+4*g.getChecksumPortion(),u)}catch{return null}}decodeDataCharacter(t,r,i){let o=this.getDataCharacterCounters();for(let B=0;B<o.length;B++)o[B]=0;if(i)dt.recordPatternInReverse(t,r.getStartEnd()[0],o);else{dt.recordPattern(t,r.getStartEnd()[1]+1,o);for(let B=0,W=o.length-1;B<W;B++,W--){let J=o[B];o[B]=o[W],o[W]=J}}let l=i?16:15,u=Te.sum(new Int32Array(o))/l,f=this.getOddCounts(),h=this.getEvenCounts(),g=this.getOddRoundingErrors(),p=this.getEvenRoundingErrors();for(let B=0;B<o.length;B++){let W=o[B]/u,J=Math.floor(W+.5);J<1?J=1:J>8&&(J=8);let ee=Math.floor(B/2);B&1?(h[ee]=J,p[ee]=W-J):(f[ee]=J,g[ee]=W-J)}this.adjustOddEvenCounts(i,l);let v=0,A=0;for(let B=f.length-1;B>=0;B--)A*=9,A+=f[B],v+=f[B];let I=0,O=0;for(let B=h.length-1;B>=0;B--)I*=9,I+=h[B],O+=h[B];let D=A+3*I;if(i){if(v&1||v>12||v<4)throw new L;let B=(12-v)/2,W=it.OUTSIDE_ODD_WIDEST[B],J=9-W,ee=kn.getRSSvalue(f,W,!1),Z=kn.getRSSvalue(h,J,!0),Se=it.OUTSIDE_EVEN_TOTAL_SUBSET[B],ye=it.OUTSIDE_GSUM[B];return new ii(ee*Se+Z+ye,D)}else{if(O&1||O>10||O<4)throw new L;let B=(10-O)/2,W=it.INSIDE_ODD_WIDEST[B],J=9-W,ee=kn.getRSSvalue(f,W,!0),Z=kn.getRSSvalue(h,J,!1),Se=it.INSIDE_ODD_TOTAL_SUBSET[B],ye=it.INSIDE_GSUM[B];return new ii(Z*Se+ee+ye,D)}}findFinderPattern(t,r){let i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;let o=t.getSize(),l=!1,u=0;for(;u<o&&(l=!t.get(u),r!==l);)u++;let f=0,h=u;for(let g=u;g<o;g++)if(t.get(g)!==l)i[f]++;else{if(f===3){if(Rt.isFinderPattern(i))return[h,g];h+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,f--}else f++;i[f]=1,l=!l}throw new L}parseFoundFinderPattern(t,r,i,o){let l=t.get(o[0]),u=o[0]-1;for(;u>=0&&l!==t.get(u);)u--;u++;const f=o[0]-u,h=this.getDecodeFinderCounters(),g=new Int32Array(h.length);M.arraycopy(h,0,g,1,h.length-1),g[0]=f;const p=this.parseFinderValue(g,it.FINDER_PATTERNS);let v=u,A=o[1];return i&&(v=t.getSize()-1-v,A=t.getSize()-1-A),new to(p,[u,o[1]],v,A,r)}adjustOddEvenCounts(t,r){let i=Te.sum(new Int32Array(this.getOddCounts())),o=Te.sum(new Int32Array(this.getEvenCounts())),l=!1,u=!1,f=!1,h=!1;t?(i>12?u=!0:i<4&&(l=!0),o>12?h=!0:o<4&&(f=!0)):(i>11?u=!0:i<5&&(l=!0),o>10?h=!0:o<4&&(f=!0));let g=i+o-r,p=(i&1)===(t?1:0),v=(o&1)===1;if(g===1)if(p){if(v)throw new L;u=!0}else{if(!v)throw new L;h=!0}else if(g===-1)if(p){if(v)throw new L;l=!0}else{if(!v)throw new L;f=!0}else if(g===0){if(p){if(!v)throw new L;i<o?(l=!0,h=!0):(u=!0,f=!0)}else if(v)throw new L}else throw new L;if(l){if(u)throw new L;Rt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&Rt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(h)throw new L;Rt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&Rt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}it.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],it.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],it.OUTSIDE_GSUM=[0,161,961,2015,2715],it.INSIDE_GSUM=[0,336,1036,1516],it.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],it.INSIDE_ODD_WIDEST=[2,4,6,8],it.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class li extends dt{constructor(t,r){super(),this.readers=[],this.verbose=r===!0;const i=t?t.get(K.POSSIBLE_FORMATS):null,o=t&&t.get(K.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;i?((i.includes(le.EAN_13)||i.includes(le.UPC_A)||i.includes(le.EAN_8)||i.includes(le.UPC_E))&&this.readers.push(new kl(t)),i.includes(le.CODE_39)&&this.readers.push(new gt(o)),i.includes(le.CODE_128)&&this.readers.push(new ne),i.includes(le.ITF)&&this.readers.push(new je),i.includes(le.RSS_14)&&this.readers.push(new it),i.includes(le.RSS_EXPANDED)&&this.readers.push(new Y(this.verbose))):(this.readers.push(new kl(t)),this.readers.push(new gt),this.readers.push(new kl(t)),this.readers.push(new ne),this.readers.push(new je),this.readers.push(new it),this.readers.push(new Y(this.verbose)))}decodeRow(t,r,i){for(let o=0;o<this.readers.length;o++)try{return this.readers[o].decodeRow(t,r,i)}catch{}throw new L}reset(){this.readers.forEach(t=>t.reset())}}class Qd extends zt{constructor(t=500,r){super(new li(r),t,r)}}class Me{constructor(t,r,i){this.ecCodewords=t,this.ecBlocks=[r],i&&this.ecBlocks.push(i)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class ke{constructor(t,r){this.count=t,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ne{constructor(t,r,i,o,l,u){this.versionNumber=t,this.symbolSizeRows=r,this.symbolSizeColumns=i,this.dataRegionSizeRows=o,this.dataRegionSizeColumns=l,this.ecBlocks=u;let f=0;const h=u.getECCodewords(),g=u.getECBlocks();for(let p of g)f+=p.getCount()*(p.getDataCodewords()+h);this.totalCodewords=f}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(t,r){if(t&1||r&1)throw new P;for(let i of Ne.VERSIONS)if(i.symbolSizeRows===t&&i.symbolSizeColumns===r)return i;throw new P}toString(){return""+this.versionNumber}static buildVersions(){return[new Ne(1,10,10,8,8,new Me(5,new ke(1,3))),new Ne(2,12,12,10,10,new Me(7,new ke(1,5))),new Ne(3,14,14,12,12,new Me(10,new ke(1,8))),new Ne(4,16,16,14,14,new Me(12,new ke(1,12))),new Ne(5,18,18,16,16,new Me(14,new ke(1,18))),new Ne(6,20,20,18,18,new Me(18,new ke(1,22))),new Ne(7,22,22,20,20,new Me(20,new ke(1,30))),new Ne(8,24,24,22,22,new Me(24,new ke(1,36))),new Ne(9,26,26,24,24,new Me(28,new ke(1,44))),new Ne(10,32,32,14,14,new Me(36,new ke(1,62))),new Ne(11,36,36,16,16,new Me(42,new ke(1,86))),new Ne(12,40,40,18,18,new Me(48,new ke(1,114))),new Ne(13,44,44,20,20,new Me(56,new ke(1,144))),new Ne(14,48,48,22,22,new Me(68,new ke(1,174))),new Ne(15,52,52,24,24,new Me(42,new ke(2,102))),new Ne(16,64,64,14,14,new Me(56,new ke(2,140))),new Ne(17,72,72,16,16,new Me(36,new ke(4,92))),new Ne(18,80,80,18,18,new Me(48,new ke(4,114))),new Ne(19,88,88,20,20,new Me(56,new ke(4,144))),new Ne(20,96,96,22,22,new Me(68,new ke(4,174))),new Ne(21,104,104,24,24,new Me(56,new ke(6,136))),new Ne(22,120,120,18,18,new Me(68,new ke(6,175))),new Ne(23,132,132,20,20,new Me(62,new ke(8,163))),new Ne(24,144,144,22,22,new Me(62,new ke(8,156),new ke(2,155))),new Ne(25,8,18,6,16,new Me(7,new ke(1,5))),new Ne(26,8,32,6,14,new Me(11,new ke(1,10))),new Ne(27,12,26,10,24,new Me(14,new ke(1,16))),new Ne(28,12,36,10,16,new Me(18,new ke(1,22))),new Ne(29,16,36,14,16,new Me(24,new ke(1,32))),new Ne(30,16,48,14,22,new Me(28,new ke(1,49)))]}}Ne.VERSIONS=Ne.buildVersions();class Bl{constructor(t){const r=t.getHeight();if(r<8||r>144||r&1)throw new P;this.version=Bl.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new Be(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(t){const r=t.getHeight(),i=t.getWidth();return Ne.getVersionForDimensions(r,i)}readCodewords(){const t=new Int8Array(this.version.getTotalCodewords());let r=0,i=4,o=0;const l=this.mappingBitMatrix.getHeight(),u=this.mappingBitMatrix.getWidth();let f=!1,h=!1,g=!1,p=!1;do if(i===l&&o===0&&!f)t[r++]=this.readCorner1(l,u)&255,i-=2,o+=2,f=!0;else if(i===l-2&&o===0&&u&3&&!h)t[r++]=this.readCorner2(l,u)&255,i-=2,o+=2,h=!0;else if(i===l+4&&o===2&&!(u&7)&&!g)t[r++]=this.readCorner3(l,u)&255,i-=2,o+=2,g=!0;else if(i===l-2&&o===0&&(u&7)===4&&!p)t[r++]=this.readCorner4(l,u)&255,i-=2,o+=2,p=!0;else{do i<l&&o>=0&&!this.readMappingMatrix.get(o,i)&&(t[r++]=this.readUtah(i,o,l,u)&255),i-=2,o+=2;while(i>=0&&o<u);i+=1,o+=3;do i>=0&&o<u&&!this.readMappingMatrix.get(o,i)&&(t[r++]=this.readUtah(i,o,l,u)&255),i+=2,o-=2;while(i<l&&o>=0);i+=3,o+=1}while(i<l||o<u);if(r!==this.version.getTotalCodewords())throw new P;return t}readModule(t,r,i,o){return t<0&&(t+=i,r+=4-(i+4&7)),r<0&&(r+=o,t+=4-(o+4&7)),this.readMappingMatrix.set(r,t),this.mappingBitMatrix.get(r,t)}readUtah(t,r,i,o){let l=0;return this.readModule(t-2,r-2,i,o)&&(l|=1),l<<=1,this.readModule(t-2,r-1,i,o)&&(l|=1),l<<=1,this.readModule(t-1,r-2,i,o)&&(l|=1),l<<=1,this.readModule(t-1,r-1,i,o)&&(l|=1),l<<=1,this.readModule(t-1,r,i,o)&&(l|=1),l<<=1,this.readModule(t,r-2,i,o)&&(l|=1),l<<=1,this.readModule(t,r-1,i,o)&&(l|=1),l<<=1,this.readModule(t,r,i,o)&&(l|=1),l}readCorner1(t,r){let i=0;return this.readModule(t-1,0,t,r)&&(i|=1),i<<=1,this.readModule(t-1,1,t,r)&&(i|=1),i<<=1,this.readModule(t-1,2,t,r)&&(i|=1),i<<=1,this.readModule(0,r-2,t,r)&&(i|=1),i<<=1,this.readModule(0,r-1,t,r)&&(i|=1),i<<=1,this.readModule(1,r-1,t,r)&&(i|=1),i<<=1,this.readModule(2,r-1,t,r)&&(i|=1),i<<=1,this.readModule(3,r-1,t,r)&&(i|=1),i}readCorner2(t,r){let i=0;return this.readModule(t-3,0,t,r)&&(i|=1),i<<=1,this.readModule(t-2,0,t,r)&&(i|=1),i<<=1,this.readModule(t-1,0,t,r)&&(i|=1),i<<=1,this.readModule(0,r-4,t,r)&&(i|=1),i<<=1,this.readModule(0,r-3,t,r)&&(i|=1),i<<=1,this.readModule(0,r-2,t,r)&&(i|=1),i<<=1,this.readModule(0,r-1,t,r)&&(i|=1),i<<=1,this.readModule(1,r-1,t,r)&&(i|=1),i}readCorner3(t,r){let i=0;return this.readModule(t-1,0,t,r)&&(i|=1),i<<=1,this.readModule(t-1,r-1,t,r)&&(i|=1),i<<=1,this.readModule(0,r-3,t,r)&&(i|=1),i<<=1,this.readModule(0,r-2,t,r)&&(i|=1),i<<=1,this.readModule(0,r-1,t,r)&&(i|=1),i<<=1,this.readModule(1,r-3,t,r)&&(i|=1),i<<=1,this.readModule(1,r-2,t,r)&&(i|=1),i<<=1,this.readModule(1,r-1,t,r)&&(i|=1),i}readCorner4(t,r){let i=0;return this.readModule(t-3,0,t,r)&&(i|=1),i<<=1,this.readModule(t-2,0,t,r)&&(i|=1),i<<=1,this.readModule(t-1,0,t,r)&&(i|=1),i<<=1,this.readModule(0,r-2,t,r)&&(i|=1),i<<=1,this.readModule(0,r-1,t,r)&&(i|=1),i<<=1,this.readModule(1,r-1,t,r)&&(i|=1),i<<=1,this.readModule(2,r-1,t,r)&&(i|=1),i<<=1,this.readModule(3,r-1,t,r)&&(i|=1),i}extractDataRegion(t){const r=this.version.getSymbolSizeRows(),i=this.version.getSymbolSizeColumns();if(t.getHeight()!==r)throw new S("Dimension of bitMatrix must match the version size");const o=this.version.getDataRegionSizeRows(),l=this.version.getDataRegionSizeColumns(),u=r/o|0,f=i/l|0,h=u*o,g=f*l,p=new Be(g,h);for(let v=0;v<u;++v){const A=v*o;for(let I=0;I<f;++I){const O=I*l;for(let D=0;D<o;++D){const B=v*(o+2)+1+D,W=A+D;for(let J=0;J<l;++J){const ee=I*(l+2)+1+J;if(t.get(ee,B)){const Z=O+J;p.set(Z,W)}}}}}return p}}class Fl{constructor(t,r){this.numDataCodewords=t,this.codewords=r}static getDataBlocks(t,r){const i=r.getECBlocks();let o=0;const l=i.getECBlocks();for(let D of l)o+=D.getCount();const u=new Array(o);let f=0;for(let D of l)for(let B=0;B<D.getCount();B++){const W=D.getDataCodewords(),J=i.getECCodewords()+W;u[f++]=new Fl(W,new Uint8Array(J))}const g=u[0].codewords.length-i.getECCodewords(),p=g-1;let v=0;for(let D=0;D<p;D++)for(let B=0;B<f;B++)u[B].codewords[D]=t[v++];const A=r.getVersionNumber()===24,I=A?8:f;for(let D=0;D<I;D++)u[D].codewords[g-1]=t[v++];const O=u[0].codewords.length;for(let D=g;D<O;D++)for(let B=0;B<f;B++){const W=A?(B+8)%f:B,J=A&&W>7?D-1:D;u[W].codewords[J]=t[v++]}if(v!==t.length)throw new S;return u}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class jl{constructor(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(t){if(t<1||t>32||t>this.available())throw new S(""+t);let r=0,i=this.bitOffset,o=this.byteOffset;const l=this.bytes;if(i>0){const u=8-i,f=t<u?t:u,h=u-f,g=255>>8-f<<h;r=(l[o]&g)>>h,t-=f,i+=f,i===8&&(i=0,o++)}if(t>0){for(;t>=8;)r=r<<8|l[o]&255,o++,t-=8;if(t>0){const u=8-t,f=255>>u<<u;r=r<<t|(l[o]&f)>>u,i+=t}}return this.bitOffset=i,this.byteOffset=o,r}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var xt;(function(C){C[C.PAD_ENCODE=0]="PAD_ENCODE",C[C.ASCII_ENCODE=1]="ASCII_ENCODE",C[C.C40_ENCODE=2]="C40_ENCODE",C[C.TEXT_ENCODE=3]="TEXT_ENCODE",C[C.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",C[C.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",C[C.BASE256_ENCODE=6]="BASE256_ENCODE"})(xt||(xt={}));class ir{static decode(t){const r=new jl(t),i=new we,o=new we,l=new Array;let u=xt.ASCII_ENCODE;do if(u===xt.ASCII_ENCODE)u=this.decodeAsciiSegment(r,i,o);else{switch(u){case xt.C40_ENCODE:this.decodeC40Segment(r,i);break;case xt.TEXT_ENCODE:this.decodeTextSegment(r,i);break;case xt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,i);break;case xt.EDIFACT_ENCODE:this.decodeEdifactSegment(r,i);break;case xt.BASE256_ENCODE:this.decodeBase256Segment(r,i,l);break;default:throw new P}u=xt.ASCII_ENCODE}while(u!==xt.PAD_ENCODE&&r.available()>0);return o.length()>0&&i.append(o.toString()),new Mr(t,i.toString(),l.length===0?null:l,null)}static decodeAsciiSegment(t,r,i){let o=!1;do{let l=t.readBits(8);if(l===0)throw new P;if(l<=128)return o&&(l+=128),r.append(String.fromCharCode(l-1)),xt.ASCII_ENCODE;if(l===129)return xt.PAD_ENCODE;if(l<=229){const u=l-130;u<10&&r.append("0"),r.append(""+u)}else switch(l){case 230:return xt.C40_ENCODE;case 231:return xt.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:o=!0;break;case 236:r.append("[)>05"),i.insert(0,"");break;case 237:r.append("[)>06"),i.insert(0,"");break;case 238:return xt.ANSIX12_ENCODE;case 239:return xt.TEXT_ENCODE;case 240:return xt.EDIFACT_ENCODE;case 241:break;default:if(l!==254||t.available()!==0)throw new P;break}}while(t.available()>0);return xt.ASCII_ENCODE}static decodeC40Segment(t,r){let i=!1;const o=[];let l=0;do{if(t.available()===8)return;const u=t.readBits(8);if(u===254)return;this.parseTwoBytes(u,t.readBits(8),o);for(let f=0;f<3;f++){const h=o[f];switch(l){case 0:if(h<3)l=h+1;else if(h<this.C40_BASIC_SET_CHARS.length){const g=this.C40_BASIC_SET_CHARS[h];i?(r.append(String.fromCharCode(g.charCodeAt(0)+128)),i=!1):r.append(g)}else throw new P;break;case 1:i?(r.append(String.fromCharCode(h+128)),i=!1):r.append(String.fromCharCode(h)),l=0;break;case 2:if(h<this.C40_SHIFT2_SET_CHARS.length){const g=this.C40_SHIFT2_SET_CHARS[h];i?(r.append(String.fromCharCode(g.charCodeAt(0)+128)),i=!1):r.append(g)}else switch(h){case 27:r.append("");break;case 30:i=!0;break;default:throw new P}l=0;break;case 3:i?(r.append(String.fromCharCode(h+224)),i=!1):r.append(String.fromCharCode(h+96)),l=0;break;default:throw new P}}}while(t.available()>0)}static decodeTextSegment(t,r){let i=!1,o=[],l=0;do{if(t.available()===8)return;const u=t.readBits(8);if(u===254)return;this.parseTwoBytes(u,t.readBits(8),o);for(let f=0;f<3;f++){const h=o[f];switch(l){case 0:if(h<3)l=h+1;else if(h<this.TEXT_BASIC_SET_CHARS.length){const g=this.TEXT_BASIC_SET_CHARS[h];i?(r.append(String.fromCharCode(g.charCodeAt(0)+128)),i=!1):r.append(g)}else throw new P;break;case 1:i?(r.append(String.fromCharCode(h+128)),i=!1):r.append(String.fromCharCode(h)),l=0;break;case 2:if(h<this.TEXT_SHIFT2_SET_CHARS.length){const g=this.TEXT_SHIFT2_SET_CHARS[h];i?(r.append(String.fromCharCode(g.charCodeAt(0)+128)),i=!1):r.append(g)}else switch(h){case 27:r.append("");break;case 30:i=!0;break;default:throw new P}l=0;break;case 3:if(h<this.TEXT_SHIFT3_SET_CHARS.length){const g=this.TEXT_SHIFT3_SET_CHARS[h];i?(r.append(String.fromCharCode(g.charCodeAt(0)+128)),i=!1):r.append(g),l=0}else throw new P;break;default:throw new P}}}while(t.available()>0)}static decodeAnsiX12Segment(t,r){const i=[];do{if(t.available()===8)return;const o=t.readBits(8);if(o===254)return;this.parseTwoBytes(o,t.readBits(8),i);for(let l=0;l<3;l++){const u=i[l];switch(u){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(u<14)r.append(String.fromCharCode(u+44));else if(u<40)r.append(String.fromCharCode(u+51));else throw new P;break}}}while(t.available()>0)}static parseTwoBytes(t,r,i){let o=(t<<8)+r-1,l=Math.floor(o/1600);i[0]=l,o-=l*1600,l=Math.floor(o/40),i[1]=l,i[2]=o-l*40}static decodeEdifactSegment(t,r){do{if(t.available()<=16)return;for(let i=0;i<4;i++){let o=t.readBits(6);if(o===31){const l=8-t.getBitOffset();l!==8&&t.readBits(l);return}o&32||(o|=64),r.append(String.fromCharCode(o))}}while(t.available()>0)}static decodeBase256Segment(t,r,i){let o=1+t.getByteOffset();const l=this.unrandomize255State(t.readBits(8),o++);let u;if(l===0?u=t.available()/8|0:l<250?u=l:u=250*(l-249)+this.unrandomize255State(t.readBits(8),o++),u<0)throw new P;const f=new Uint8Array(u);for(let h=0;h<u;h++){if(t.available()<8)throw new P;f[h]=this.unrandomize255State(t.readBits(8),o++)}i.push(f);try{r.append(Ie.decode(f,ue.ISO88591))}catch(h){throw new Dn("Platform does not support required encoding: "+h.message)}}static unrandomize255State(t,r){const i=149*r%255+1,o=t-i;return o>=0?o:o+256}}ir.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],ir.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],ir.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],ir.TEXT_SHIFT2_SET_CHARS=ir.C40_SHIFT2_SET_CHARS,ir.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class qd{constructor(){this.rsDecoder=new Ki(Oe.DATA_MATRIX_FIELD_256)}decode(t){const r=new Bl(t),i=r.getVersion(),o=r.readCodewords(),l=Fl.getDataBlocks(o,i);let u=0;for(let g of l)u+=g.getNumDataCodewords();const f=new Uint8Array(u),h=l.length;for(let g=0;g<h;g++){const p=l[g],v=p.getCodewords(),A=p.getNumDataCodewords();this.correctErrors(v,A);for(let I=0;I<A;I++)f[I*h+g]=v[I]}return ir.decode(f)}correctErrors(t,r){const i=new Int32Array(t);try{this.rsDecoder.decode(i,t.length-r)}catch{throw new F}for(let o=0;o<r;o++)t[o]=i[o]}}class ut{constructor(t){this.image=t,this.rectangleDetector=new Hn(this.image)}detect(){const t=this.rectangleDetector.detect();let r=this.detectSolid1(t);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new L;r=this.shiftToModuleCenter(r);const i=r[0],o=r[1],l=r[2],u=r[3];let f=this.transitionsBetween(i,u)+1,h=this.transitionsBetween(l,u)+1;(f&1)===1&&(f+=1),(h&1)===1&&(h+=1),4*f<7*h&&4*h<7*f&&(f=h=Math.max(f,h));let g=ut.sampleGrid(this.image,i,o,l,u,f,h);return new $s(g,[i,o,l,u])}static shiftPoint(t,r,i){let o=(r.getX()-t.getX())/(i+1),l=(r.getY()-t.getY())/(i+1);return new ae(t.getX()+o,t.getY()+l)}static moveAway(t,r,i){let o=t.getX(),l=t.getY();return o<r?o-=1:o+=1,l<i?l-=1:l+=1,new ae(o,l)}detectSolid1(t){let r=t[0],i=t[1],o=t[3],l=t[2],u=this.transitionsBetween(r,i),f=this.transitionsBetween(i,o),h=this.transitionsBetween(o,l),g=this.transitionsBetween(l,r),p=u,v=[l,r,i,o];return p>f&&(p=f,v[0]=r,v[1]=i,v[2]=o,v[3]=l),p>h&&(p=h,v[0]=i,v[1]=o,v[2]=l,v[3]=r),p>g&&(v[0]=o,v[1]=l,v[2]=r,v[3]=i),v}detectSolid2(t){let r=t[0],i=t[1],o=t[2],l=t[3],u=this.transitionsBetween(r,l),f=ut.shiftPoint(i,o,(u+1)*4),h=ut.shiftPoint(o,i,(u+1)*4),g=this.transitionsBetween(f,r),p=this.transitionsBetween(h,l);return g<p?(t[0]=r,t[1]=i,t[2]=o,t[3]=l):(t[0]=i,t[1]=o,t[2]=l,t[3]=r),t}correctTopRight(t){let r=t[0],i=t[1],o=t[2],l=t[3],u=this.transitionsBetween(r,l),f=this.transitionsBetween(i,l),h=ut.shiftPoint(r,i,(f+1)*4),g=ut.shiftPoint(o,i,(u+1)*4);u=this.transitionsBetween(h,l),f=this.transitionsBetween(g,l);let p=new ae(l.getX()+(o.getX()-i.getX())/(u+1),l.getY()+(o.getY()-i.getY())/(u+1)),v=new ae(l.getX()+(r.getX()-i.getX())/(f+1),l.getY()+(r.getY()-i.getY())/(f+1));if(!this.isValid(p))return this.isValid(v)?v:null;if(!this.isValid(v))return p;let A=this.transitionsBetween(h,p)+this.transitionsBetween(g,p),I=this.transitionsBetween(h,v)+this.transitionsBetween(g,v);return A>I?p:v}shiftToModuleCenter(t){let r=t[0],i=t[1],o=t[2],l=t[3],u=this.transitionsBetween(r,l)+1,f=this.transitionsBetween(o,l)+1,h=ut.shiftPoint(r,i,f*4),g=ut.shiftPoint(o,i,u*4);u=this.transitionsBetween(h,l)+1,f=this.transitionsBetween(g,l)+1,(u&1)===1&&(u+=1),(f&1)===1&&(f+=1);let p=(r.getX()+i.getX()+o.getX()+l.getX())/4,v=(r.getY()+i.getY()+o.getY()+l.getY())/4;r=ut.moveAway(r,p,v),i=ut.moveAway(i,p,v),o=ut.moveAway(o,p,v),l=ut.moveAway(l,p,v);let A,I;return h=ut.shiftPoint(r,i,f*4),h=ut.shiftPoint(h,l,u*4),A=ut.shiftPoint(i,r,f*4),A=ut.shiftPoint(A,o,u*4),g=ut.shiftPoint(o,l,f*4),g=ut.shiftPoint(g,i,u*4),I=ut.shiftPoint(l,o,f*4),I=ut.shiftPoint(I,r,u*4),[h,A,g,I]}isValid(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()}static sampleGrid(t,r,i,o,l,u,f){return nr.getInstance().sampleGrid(t,u,f,.5,.5,u-.5,.5,u-.5,f-.5,.5,f-.5,r.getX(),r.getY(),l.getX(),l.getY(),o.getX(),o.getY(),i.getX(),i.getY())}transitionsBetween(t,r){let i=Math.trunc(t.getX()),o=Math.trunc(t.getY()),l=Math.trunc(r.getX()),u=Math.trunc(r.getY()),f=Math.abs(u-o)>Math.abs(l-i);if(f){let D=i;i=o,o=D,D=l,l=u,u=D}let h=Math.abs(l-i),g=Math.abs(u-o),p=-h/2,v=o<u?1:-1,A=i<l?1:-1,I=0,O=this.image.get(f?o:i,f?i:o);for(let D=i,B=o;D!==l;D+=A){let W=this.image.get(f?B:D,f?D:B);if(W!==O&&(I++,O=W),p+=g,p>0){if(B===u)break;B+=v,p-=h}}return I}}class sr{constructor(){this.decoder=new qd}decode(t,r=null){let i,o;if(r!=null&&r.has(K.PURE_BARCODE)){const g=sr.extractPureBits(t.getBlackMatrix());i=this.decoder.decode(g),o=sr.NO_POINTS}else{const g=new ut(t.getBlackMatrix()).detect();i=this.decoder.decode(g.getBits()),o=g.getPoints()}const l=i.getRawBytes(),u=new ze(i.getText(),l,8*l.length,o,le.DATA_MATRIX,M.currentTimeMillis()),f=i.getByteSegments();f!=null&&u.putMetadata(oe.BYTE_SEGMENTS,f);const h=i.getECLevel();return h!=null&&u.putMetadata(oe.ERROR_CORRECTION_LEVEL,h),u}reset(){}static extractPureBits(t){const r=t.getTopLeftOnBit(),i=t.getBottomRightOnBit();if(r==null||i==null)throw new L;const o=this.moduleSize(r,t);let l=r[1];const u=i[1];let f=r[0];const g=(i[0]-f+1)/o,p=(u-l+1)/o;if(g<=0||p<=0)throw new L;const v=o/2;l+=v,f+=v;const A=new Be(g,p);for(let I=0;I<p;I++){const O=l+I*o;for(let D=0;D<g;D++)t.get(f+D*o,O)&&A.set(D,I)}return A}static moduleSize(t,r){const i=r.getWidth();let o=t[0];const l=t[1];for(;o<i&&r.get(o,l);)o++;if(o===i)throw new L;const u=o-t[0];if(u===0)throw new L;return u}}sr.NO_POINTS=[];class Jd extends zt{constructor(t=500){super(new sr,t)}}var ai;(function(C){C[C.L=0]="L",C[C.M=1]="M",C[C.Q=2]="Q",C[C.H=3]="H"})(ai||(ai={}));class He{constructor(t,r,i){this.value=t,this.stringValue=r,this.bits=i,He.FOR_BITS.set(i,this),He.FOR_VALUE.set(t,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(t){switch(t){case"L":return He.L;case"M":return He.M;case"Q":return He.Q;case"H":return He.H;default:throw new b(t+"not available")}}toString(){return this.stringValue}equals(t){if(!(t instanceof He))return!1;const r=t;return this.value===r.value}static forBits(t){if(t<0||t>=He.FOR_BITS.size)throw new S;return He.FOR_BITS.get(t)}}He.FOR_BITS=new Map,He.FOR_VALUE=new Map,He.L=new He(ai.L,"L",1),He.M=new He(ai.M,"M",0),He.Q=new He(ai.Q,"Q",3),He.H=new He(ai.H,"H",2);class Ot{constructor(t){this.errorCorrectionLevel=He.forBits(t>>3&3),this.dataMask=t&7}static numBitsDiffering(t,r){return _.bitCount(t^r)}static decodeFormatInformation(t,r){const i=Ot.doDecodeFormatInformation(t,r);return i!==null?i:Ot.doDecodeFormatInformation(t^Ot.FORMAT_INFO_MASK_QR,r^Ot.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(t,r){let i=Number.MAX_SAFE_INTEGER,o=0;for(const l of Ot.FORMAT_INFO_DECODE_LOOKUP){const u=l[0];if(u===t||u===r)return new Ot(l[1]);let f=Ot.numBitsDiffering(t,u);f<i&&(o=l[1],i=f),t!==r&&(f=Ot.numBitsDiffering(r,u),f<i&&(o=l[1],i=f))}return i<=3?new Ot(o):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(t){if(!(t instanceof Ot))return!1;const r=t;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask}}Ot.FORMAT_INFO_MASK_QR=21522,Ot.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class j{constructor(t,...r){this.ecCodewordsPerBlock=t,this.ecBlocks=r}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let t=0;const r=this.ecBlocks;for(const i of r)t+=i.getCount();return t}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class N{constructor(t,r){this.count=t,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class de{constructor(t,r,...i){this.versionNumber=t,this.alignmentPatternCenters=r,this.ecBlocks=i;let o=0;const l=i[0].getECCodewordsPerBlock(),u=i[0].getECBlocks();for(const f of u)o+=f.getCount()*(f.getDataCodewords()+l);this.totalCodewords=o}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(t){return this.ecBlocks[t.getValue()]}static getProvisionalVersionForDimension(t){if(t%4!==1)throw new P;try{return this.getVersionForNumber((t-17)/4)}catch{throw new P}}static getVersionForNumber(t){if(t<1||t>40)throw new S;return de.VERSIONS[t-1]}static decodeVersionInformation(t){let r=Number.MAX_SAFE_INTEGER,i=0;for(let o=0;o<de.VERSION_DECODE_INFO.length;o++){const l=de.VERSION_DECODE_INFO[o];if(l===t)return de.getVersionForNumber(o+7);const u=Ot.numBitsDiffering(t,l);u<r&&(i=o+7,r=u)}return r<=3?de.getVersionForNumber(i):null}buildFunctionPattern(){const t=this.getDimensionForVersion(),r=new Be(t);r.setRegion(0,0,9,9),r.setRegion(t-8,0,8,9),r.setRegion(0,t-8,9,8);const i=this.alignmentPatternCenters.length;for(let o=0;o<i;o++){const l=this.alignmentPatternCenters[o]-2;for(let u=0;u<i;u++)o===0&&(u===0||u===i-1)||o===i-1&&u===0||r.setRegion(this.alignmentPatternCenters[u]-2,l,5,5)}return r.setRegion(6,9,1,t-17),r.setRegion(9,6,t-17,1),this.versionNumber>6&&(r.setRegion(t-11,0,3,6),r.setRegion(0,t-11,6,3)),r}toString(){return""+this.versionNumber}}de.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),de.VERSIONS=[new de(1,new Int32Array(0),new j(7,new N(1,19)),new j(10,new N(1,16)),new j(13,new N(1,13)),new j(17,new N(1,9))),new de(2,Int32Array.from([6,18]),new j(10,new N(1,34)),new j(16,new N(1,28)),new j(22,new N(1,22)),new j(28,new N(1,16))),new de(3,Int32Array.from([6,22]),new j(15,new N(1,55)),new j(26,new N(1,44)),new j(18,new N(2,17)),new j(22,new N(2,13))),new de(4,Int32Array.from([6,26]),new j(20,new N(1,80)),new j(18,new N(2,32)),new j(26,new N(2,24)),new j(16,new N(4,9))),new de(5,Int32Array.from([6,30]),new j(26,new N(1,108)),new j(24,new N(2,43)),new j(18,new N(2,15),new N(2,16)),new j(22,new N(2,11),new N(2,12))),new de(6,Int32Array.from([6,34]),new j(18,new N(2,68)),new j(16,new N(4,27)),new j(24,new N(4,19)),new j(28,new N(4,15))),new de(7,Int32Array.from([6,22,38]),new j(20,new N(2,78)),new j(18,new N(4,31)),new j(18,new N(2,14),new N(4,15)),new j(26,new N(4,13),new N(1,14))),new de(8,Int32Array.from([6,24,42]),new j(24,new N(2,97)),new j(22,new N(2,38),new N(2,39)),new j(22,new N(4,18),new N(2,19)),new j(26,new N(4,14),new N(2,15))),new de(9,Int32Array.from([6,26,46]),new j(30,new N(2,116)),new j(22,new N(3,36),new N(2,37)),new j(20,new N(4,16),new N(4,17)),new j(24,new N(4,12),new N(4,13))),new de(10,Int32Array.from([6,28,50]),new j(18,new N(2,68),new N(2,69)),new j(26,new N(4,43),new N(1,44)),new j(24,new N(6,19),new N(2,20)),new j(28,new N(6,15),new N(2,16))),new de(11,Int32Array.from([6,30,54]),new j(20,new N(4,81)),new j(30,new N(1,50),new N(4,51)),new j(28,new N(4,22),new N(4,23)),new j(24,new N(3,12),new N(8,13))),new de(12,Int32Array.from([6,32,58]),new j(24,new N(2,92),new N(2,93)),new j(22,new N(6,36),new N(2,37)),new j(26,new N(4,20),new N(6,21)),new j(28,new N(7,14),new N(4,15))),new de(13,Int32Array.from([6,34,62]),new j(26,new N(4,107)),new j(22,new N(8,37),new N(1,38)),new j(24,new N(8,20),new N(4,21)),new j(22,new N(12,11),new N(4,12))),new de(14,Int32Array.from([6,26,46,66]),new j(30,new N(3,115),new N(1,116)),new j(24,new N(4,40),new N(5,41)),new j(20,new N(11,16),new N(5,17)),new j(24,new N(11,12),new N(5,13))),new de(15,Int32Array.from([6,26,48,70]),new j(22,new N(5,87),new N(1,88)),new j(24,new N(5,41),new N(5,42)),new j(30,new N(5,24),new N(7,25)),new j(24,new N(11,12),new N(7,13))),new de(16,Int32Array.from([6,26,50,74]),new j(24,new N(5,98),new N(1,99)),new j(28,new N(7,45),new N(3,46)),new j(24,new N(15,19),new N(2,20)),new j(30,new N(3,15),new N(13,16))),new de(17,Int32Array.from([6,30,54,78]),new j(28,new N(1,107),new N(5,108)),new j(28,new N(10,46),new N(1,47)),new j(28,new N(1,22),new N(15,23)),new j(28,new N(2,14),new N(17,15))),new de(18,Int32Array.from([6,30,56,82]),new j(30,new N(5,120),new N(1,121)),new j(26,new N(9,43),new N(4,44)),new j(28,new N(17,22),new N(1,23)),new j(28,new N(2,14),new N(19,15))),new de(19,Int32Array.from([6,30,58,86]),new j(28,new N(3,113),new N(4,114)),new j(26,new N(3,44),new N(11,45)),new j(26,new N(17,21),new N(4,22)),new j(26,new N(9,13),new N(16,14))),new de(20,Int32Array.from([6,34,62,90]),new j(28,new N(3,107),new N(5,108)),new j(26,new N(3,41),new N(13,42)),new j(30,new N(15,24),new N(5,25)),new j(28,new N(15,15),new N(10,16))),new de(21,Int32Array.from([6,28,50,72,94]),new j(28,new N(4,116),new N(4,117)),new j(26,new N(17,42)),new j(28,new N(17,22),new N(6,23)),new j(30,new N(19,16),new N(6,17))),new de(22,Int32Array.from([6,26,50,74,98]),new j(28,new N(2,111),new N(7,112)),new j(28,new N(17,46)),new j(30,new N(7,24),new N(16,25)),new j(24,new N(34,13))),new de(23,Int32Array.from([6,30,54,78,102]),new j(30,new N(4,121),new N(5,122)),new j(28,new N(4,47),new N(14,48)),new j(30,new N(11,24),new N(14,25)),new j(30,new N(16,15),new N(14,16))),new de(24,Int32Array.from([6,28,54,80,106]),new j(30,new N(6,117),new N(4,118)),new j(28,new N(6,45),new N(14,46)),new j(30,new N(11,24),new N(16,25)),new j(30,new N(30,16),new N(2,17))),new de(25,Int32Array.from([6,32,58,84,110]),new j(26,new N(8,106),new N(4,107)),new j(28,new N(8,47),new N(13,48)),new j(30,new N(7,24),new N(22,25)),new j(30,new N(22,15),new N(13,16))),new de(26,Int32Array.from([6,30,58,86,114]),new j(28,new N(10,114),new N(2,115)),new j(28,new N(19,46),new N(4,47)),new j(28,new N(28,22),new N(6,23)),new j(30,new N(33,16),new N(4,17))),new de(27,Int32Array.from([6,34,62,90,118]),new j(30,new N(8,122),new N(4,123)),new j(28,new N(22,45),new N(3,46)),new j(30,new N(8,23),new N(26,24)),new j(30,new N(12,15),new N(28,16))),new de(28,Int32Array.from([6,26,50,74,98,122]),new j(30,new N(3,117),new N(10,118)),new j(28,new N(3,45),new N(23,46)),new j(30,new N(4,24),new N(31,25)),new j(30,new N(11,15),new N(31,16))),new de(29,Int32Array.from([6,30,54,78,102,126]),new j(30,new N(7,116),new N(7,117)),new j(28,new N(21,45),new N(7,46)),new j(30,new N(1,23),new N(37,24)),new j(30,new N(19,15),new N(26,16))),new de(30,Int32Array.from([6,26,52,78,104,130]),new j(30,new N(5,115),new N(10,116)),new j(28,new N(19,47),new N(10,48)),new j(30,new N(15,24),new N(25,25)),new j(30,new N(23,15),new N(25,16))),new de(31,Int32Array.from([6,30,56,82,108,134]),new j(30,new N(13,115),new N(3,116)),new j(28,new N(2,46),new N(29,47)),new j(30,new N(42,24),new N(1,25)),new j(30,new N(23,15),new N(28,16))),new de(32,Int32Array.from([6,34,60,86,112,138]),new j(30,new N(17,115)),new j(28,new N(10,46),new N(23,47)),new j(30,new N(10,24),new N(35,25)),new j(30,new N(19,15),new N(35,16))),new de(33,Int32Array.from([6,30,58,86,114,142]),new j(30,new N(17,115),new N(1,116)),new j(28,new N(14,46),new N(21,47)),new j(30,new N(29,24),new N(19,25)),new j(30,new N(11,15),new N(46,16))),new de(34,Int32Array.from([6,34,62,90,118,146]),new j(30,new N(13,115),new N(6,116)),new j(28,new N(14,46),new N(23,47)),new j(30,new N(44,24),new N(7,25)),new j(30,new N(59,16),new N(1,17))),new de(35,Int32Array.from([6,30,54,78,102,126,150]),new j(30,new N(12,121),new N(7,122)),new j(28,new N(12,47),new N(26,48)),new j(30,new N(39,24),new N(14,25)),new j(30,new N(22,15),new N(41,16))),new de(36,Int32Array.from([6,24,50,76,102,128,154]),new j(30,new N(6,121),new N(14,122)),new j(28,new N(6,47),new N(34,48)),new j(30,new N(46,24),new N(10,25)),new j(30,new N(2,15),new N(64,16))),new de(37,Int32Array.from([6,28,54,80,106,132,158]),new j(30,new N(17,122),new N(4,123)),new j(28,new N(29,46),new N(14,47)),new j(30,new N(49,24),new N(10,25)),new j(30,new N(24,15),new N(46,16))),new de(38,Int32Array.from([6,32,58,84,110,136,162]),new j(30,new N(4,122),new N(18,123)),new j(28,new N(13,46),new N(32,47)),new j(30,new N(48,24),new N(14,25)),new j(30,new N(42,15),new N(32,16))),new de(39,Int32Array.from([6,26,54,82,110,138,166]),new j(30,new N(20,117),new N(4,118)),new j(28,new N(40,47),new N(7,48)),new j(30,new N(43,24),new N(22,25)),new j(30,new N(10,15),new N(67,16))),new de(40,Int32Array.from([6,30,58,86,114,142,170]),new j(30,new N(19,118),new N(6,119)),new j(28,new N(18,47),new N(31,48)),new j(30,new N(34,24),new N(34,25)),new j(30,new N(20,15),new N(61,16)))];var yt;(function(C){C[C.DATA_MASK_000=0]="DATA_MASK_000",C[C.DATA_MASK_001=1]="DATA_MASK_001",C[C.DATA_MASK_010=2]="DATA_MASK_010",C[C.DATA_MASK_011=3]="DATA_MASK_011",C[C.DATA_MASK_100=4]="DATA_MASK_100",C[C.DATA_MASK_101=5]="DATA_MASK_101",C[C.DATA_MASK_110=6]="DATA_MASK_110",C[C.DATA_MASK_111=7]="DATA_MASK_111"})(yt||(yt={}));class dn{constructor(t,r){this.value=t,this.isMasked=r}unmaskBitMatrix(t,r){for(let i=0;i<r;i++)for(let o=0;o<r;o++)this.isMasked(i,o)&&t.flip(o,i)}}dn.values=new Map([[yt.DATA_MASK_000,new dn(yt.DATA_MASK_000,(C,t)=>(C+t&1)===0)],[yt.DATA_MASK_001,new dn(yt.DATA_MASK_001,(C,t)=>(C&1)===0)],[yt.DATA_MASK_010,new dn(yt.DATA_MASK_010,(C,t)=>t%3===0)],[yt.DATA_MASK_011,new dn(yt.DATA_MASK_011,(C,t)=>(C+t)%3===0)],[yt.DATA_MASK_100,new dn(yt.DATA_MASK_100,(C,t)=>(Math.floor(C/2)+Math.floor(t/3)&1)===0)],[yt.DATA_MASK_101,new dn(yt.DATA_MASK_101,(C,t)=>C*t%6===0)],[yt.DATA_MASK_110,new dn(yt.DATA_MASK_110,(C,t)=>C*t%6<3)],[yt.DATA_MASK_111,new dn(yt.DATA_MASK_111,(C,t)=>(C+t+C*t%3&1)===0)]]);class $d{constructor(t){const r=t.getHeight();if(r<21||(r&3)!==1)throw new P;this.bitMatrix=t}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let t=0;for(let l=0;l<6;l++)t=this.copyBit(l,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(let l=5;l>=0;l--)t=this.copyBit(8,l,t);const r=this.bitMatrix.getHeight();let i=0;const o=r-7;for(let l=r-1;l>=o;l--)i=this.copyBit(8,l,i);for(let l=r-8;l<r;l++)i=this.copyBit(l,8,i);if(this.parsedFormatInfo=Ot.decodeFormatInformation(t,i),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new P}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const t=this.bitMatrix.getHeight(),r=Math.floor((t-17)/4);if(r<=6)return de.getVersionForNumber(r);let i=0;const o=t-11;for(let u=5;u>=0;u--)for(let f=t-9;f>=o;f--)i=this.copyBit(f,u,i);let l=de.decodeVersionInformation(i);if(l!==null&&l.getDimensionForVersion()===t)return this.parsedVersion=l,l;i=0;for(let u=5;u>=0;u--)for(let f=t-9;f>=o;f--)i=this.copyBit(u,f,i);if(l=de.decodeVersionInformation(i),l!==null&&l.getDimensionForVersion()===t)return this.parsedVersion=l,l;throw new P}copyBit(t,r,i){return(this.isMirror?this.bitMatrix.get(r,t):this.bitMatrix.get(t,r))?i<<1|1:i<<1}readCodewords(){const t=this.readFormatInformation(),r=this.readVersion(),i=dn.values.get(t.getDataMask()),o=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,o);const l=r.buildFunctionPattern();let u=!0;const f=new Uint8Array(r.getTotalCodewords());let h=0,g=0,p=0;for(let v=o-1;v>0;v-=2){v===6&&v--;for(let A=0;A<o;A++){const I=u?o-1-A:A;for(let O=0;O<2;O++)l.get(v-O,I)||(p++,g<<=1,this.bitMatrix.get(v-O,I)&&(g|=1),p===8&&(f[h++]=g,p=0,g=0))}u=!u}if(h!==r.getTotalCodewords())throw new P;return f}remask(){if(this.parsedFormatInfo===null)return;const t=dn.values[this.parsedFormatInfo.getDataMask()],r=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,r)}setMirror(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t}mirror(){const t=this.bitMatrix;for(let r=0,i=t.getWidth();r<i;r++)for(let o=r+1,l=t.getHeight();o<l;o++)t.get(r,o)!==t.get(o,r)&&(t.flip(o,r),t.flip(r,o))}}class Ul{constructor(t,r){this.numDataCodewords=t,this.codewords=r}static getDataBlocks(t,r,i){if(t.length!==r.getTotalCodewords())throw new S;const o=r.getECBlocksForLevel(i);let l=0;const u=o.getECBlocks();for(const O of u)l+=O.getCount();const f=new Array(l);let h=0;for(const O of u)for(let D=0;D<O.getCount();D++){const B=O.getDataCodewords(),W=o.getECCodewordsPerBlock()+B;f[h++]=new Ul(B,new Uint8Array(W))}const g=f[0].codewords.length;let p=f.length-1;for(;p>=0&&f[p].codewords.length!==g;)p--;p++;const v=g-o.getECCodewordsPerBlock();let A=0;for(let O=0;O<v;O++)for(let D=0;D<h;D++)f[D].codewords[O]=t[A++];for(let O=p;O<h;O++)f[O].codewords[v]=t[A++];const I=f[0].codewords.length;for(let O=v;O<I;O++)for(let D=0;D<h;D++){const B=D<p?O:O+1;f[D].codewords[B]=t[A++]}return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var hn;(function(C){C[C.TERMINATOR=0]="TERMINATOR",C[C.NUMERIC=1]="NUMERIC",C[C.ALPHANUMERIC=2]="ALPHANUMERIC",C[C.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",C[C.BYTE=4]="BYTE",C[C.ECI=5]="ECI",C[C.KANJI=6]="KANJI",C[C.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",C[C.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",C[C.HANZI=9]="HANZI"})(hn||(hn={}));class ge{constructor(t,r,i,o){this.value=t,this.stringValue=r,this.characterCountBitsForVersions=i,this.bits=o,ge.FOR_BITS.set(o,this),ge.FOR_VALUE.set(t,this)}static forBits(t){const r=ge.FOR_BITS.get(t);if(r===void 0)throw new S;return r}getCharacterCountBits(t){const r=t.getVersionNumber();let i;return r<=9?i=0:r<=26?i=1:i=2,this.characterCountBitsForVersions[i]}getValue(){return this.value}getBits(){return this.bits}equals(t){if(!(t instanceof ge))return!1;const r=t;return this.value===r.value}toString(){return this.stringValue}}ge.FOR_BITS=new Map,ge.FOR_VALUE=new Map,ge.TERMINATOR=new ge(hn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),ge.NUMERIC=new ge(hn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),ge.ALPHANUMERIC=new ge(hn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),ge.STRUCTURED_APPEND=new ge(hn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),ge.BYTE=new ge(hn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),ge.ECI=new ge(hn.ECI,"ECI",Int32Array.from([0,0,0]),7),ge.KANJI=new ge(hn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),ge.FNC1_FIRST_POSITION=new ge(hn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),ge.FNC1_SECOND_POSITION=new ge(hn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),ge.HANZI=new ge(hn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Je{static decode(t,r,i,o){const l=new jl(t);let u=new we;const f=new Array;let h=-1,g=-1;try{let p=null,v=!1,A;do{if(l.available()<4)A=ge.TERMINATOR;else{const I=l.readBits(4);A=ge.forBits(I)}switch(A){case ge.TERMINATOR:break;case ge.FNC1_FIRST_POSITION:case ge.FNC1_SECOND_POSITION:v=!0;break;case ge.STRUCTURED_APPEND:if(l.available()<16)throw new P;h=l.readBits(8),g=l.readBits(8);break;case ge.ECI:const I=Je.parseECIValue(l);if(p=X.getCharacterSetECIByValue(I),p===null)throw new P;break;case ge.HANZI:const O=l.readBits(4),D=l.readBits(A.getCharacterCountBits(r));O===Je.GB2312_SUBSET&&Je.decodeHanziSegment(l,u,D);break;default:const B=l.readBits(A.getCharacterCountBits(r));switch(A){case ge.NUMERIC:Je.decodeNumericSegment(l,u,B);break;case ge.ALPHANUMERIC:Je.decodeAlphanumericSegment(l,u,B,v);break;case ge.BYTE:Je.decodeByteSegment(l,u,B,p,f,o);break;case ge.KANJI:Je.decodeKanjiSegment(l,u,B);break;default:throw new P}break}}while(A!==ge.TERMINATOR)}catch{throw new P}return new Mr(t,u.toString(),f.length===0?null:f,i===null?null:i.toString(),h,g)}static decodeHanziSegment(t,r,i){if(i*13>t.available())throw new P;const o=new Uint8Array(2*i);let l=0;for(;i>0;){const u=t.readBits(13);let f=u/96<<8&4294967295|u%96;f<959?f+=41377:f+=42657,o[l]=f>>8&255,o[l+1]=f&255,l+=2,i--}try{r.append(Ie.decode(o,ue.GB2312))}catch(u){throw new P(u)}}static decodeKanjiSegment(t,r,i){if(i*13>t.available())throw new P;const o=new Uint8Array(2*i);let l=0;for(;i>0;){const u=t.readBits(13);let f=u/192<<8&4294967295|u%192;f<7936?f+=33088:f+=49472,o[l]=f>>8,o[l+1]=f,l+=2,i--}try{r.append(Ie.decode(o,ue.SHIFT_JIS))}catch(u){throw new P(u)}}static decodeByteSegment(t,r,i,o,l,u){if(8*i>t.available())throw new P;const f=new Uint8Array(i);for(let g=0;g<i;g++)f[g]=t.readBits(8);let h;o===null?h=ue.guessEncoding(f,u):h=o.getName();try{r.append(Ie.decode(f,h))}catch(g){throw new P(g)}l.push(f)}static toAlphaNumericChar(t){if(t>=Je.ALPHANUMERIC_CHARS.length)throw new P;return Je.ALPHANUMERIC_CHARS[t]}static decodeAlphanumericSegment(t,r,i,o){const l=r.length();for(;i>1;){if(t.available()<11)throw new P;const u=t.readBits(11);r.append(Je.toAlphaNumericChar(Math.floor(u/45))),r.append(Je.toAlphaNumericChar(u%45)),i-=2}if(i===1){if(t.available()<6)throw new P;r.append(Je.toAlphaNumericChar(t.readBits(6)))}if(o)for(let u=l;u<r.length();u++)r.charAt(u)==="%"&&(u<r.length()-1&&r.charAt(u+1)==="%"?r.deleteCharAt(u+1):r.setCharAt(u,""))}static decodeNumericSegment(t,r,i){for(;i>=3;){if(t.available()<10)throw new P;const o=t.readBits(10);if(o>=1e3)throw new P;r.append(Je.toAlphaNumericChar(Math.floor(o/100))),r.append(Je.toAlphaNumericChar(Math.floor(o/10)%10)),r.append(Je.toAlphaNumericChar(o%10)),i-=3}if(i===2){if(t.available()<7)throw new P;const o=t.readBits(7);if(o>=100)throw new P;r.append(Je.toAlphaNumericChar(Math.floor(o/10))),r.append(Je.toAlphaNumericChar(o%10))}else if(i===1){if(t.available()<4)throw new P;const o=t.readBits(4);if(o>=10)throw new P;r.append(Je.toAlphaNumericChar(o))}}static parseECIValue(t){const r=t.readBits(8);if(!(r&128))return r&127;if((r&192)===128){const i=t.readBits(8);return(r&63)<<8&4294967295|i}if((r&224)===192){const i=t.readBits(16);return(r&31)<<16&4294967295|i}throw new P}}Je.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Je.GB2312_SUBSET=1;class Rc{constructor(t){this.mirrored=t}isMirrored(){return this.mirrored}applyMirroredCorrection(t){if(!this.mirrored||t===null||t.length<3)return;const r=t[0];t[0]=t[2],t[2]=r}}class eh{constructor(){this.rsDecoder=new Ki(Oe.QR_CODE_FIELD_256)}decodeBooleanArray(t,r){return this.decodeBitMatrix(Be.parseFromBooleanArray(t),r)}decodeBitMatrix(t,r){const i=new $d(t);let o=null;try{return this.decodeBitMatrixParser(i,r)}catch(l){o=l}try{i.remask(),i.setMirror(!0),i.readVersion(),i.readFormatInformation(),i.mirror();const l=this.decodeBitMatrixParser(i,r);return l.setOther(new Rc(!0)),l}catch(l){throw o!==null?o:l}}decodeBitMatrixParser(t,r){const i=t.readVersion(),o=t.readFormatInformation().getErrorCorrectionLevel(),l=t.readCodewords(),u=Ul.getDataBlocks(l,i,o);let f=0;for(const p of u)f+=p.getNumDataCodewords();const h=new Uint8Array(f);let g=0;for(const p of u){const v=p.getCodewords(),A=p.getNumDataCodewords();this.correctErrors(v,A);for(let I=0;I<A;I++)h[g++]=v[I]}return Je.decode(h,i,o,r)}correctErrors(t,r){const i=new Int32Array(t);try{this.rsDecoder.decode(i,t.length-r)}catch{throw new F}for(let o=0;o<r;o++)t[o]=i[o]}}class Vl extends ae{constructor(t,r,i){super(t,r),this.estimatedModuleSize=i}aboutEquals(t,r,i){if(Math.abs(r-this.getY())<=t&&Math.abs(i-this.getX())<=t){const o=Math.abs(t-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1}combineEstimate(t,r,i){const o=(this.getX()+r)/2,l=(this.getY()+t)/2,u=(this.estimatedModuleSize+i)/2;return new Vl(o,l,u)}}class io{constructor(t,r,i,o,l,u,f){this.image=t,this.startX=r,this.startY=i,this.width=o,this.height=l,this.moduleSize=u,this.resultPointCallback=f,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const t=this.startX,r=this.height,i=this.width,o=t+i,l=this.startY+r/2,u=new Int32Array(3),f=this.image;for(let h=0;h<r;h++){const g=l+(h&1?-Math.floor((h+1)/2):Math.floor((h+1)/2));u[0]=0,u[1]=0,u[2]=0;let p=t;for(;p<o&&!f.get(p,g);)p++;let v=0;for(;p<o;){if(f.get(p,g))if(v===1)u[1]++;else if(v===2){if(this.foundPatternCross(u)){const A=this.handlePossibleCenter(u,g,p);if(A!==null)return A}u[0]=u[2],u[1]=1,u[2]=0,v=1}else u[++v]++;else v===1&&v++,u[v]++;p++}if(this.foundPatternCross(u)){const A=this.handlePossibleCenter(u,g,o);if(A!==null)return A}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new L}static centerFromEnd(t,r){return r-t[2]-t[1]/2}foundPatternCross(t){const r=this.moduleSize,i=r/2;for(let o=0;o<3;o++)if(Math.abs(r-t[o])>=i)return!1;return!0}crossCheckVertical(t,r,i,o){const l=this.image,u=l.getHeight(),f=this.crossCheckStateCount;f[0]=0,f[1]=0,f[2]=0;let h=t;for(;h>=0&&l.get(r,h)&&f[1]<=i;)f[1]++,h--;if(h<0||f[1]>i)return NaN;for(;h>=0&&!l.get(r,h)&&f[0]<=i;)f[0]++,h--;if(f[0]>i)return NaN;for(h=t+1;h<u&&l.get(r,h)&&f[1]<=i;)f[1]++,h++;if(h===u||f[1]>i)return NaN;for(;h<u&&!l.get(r,h)&&f[2]<=i;)f[2]++,h++;if(f[2]>i)return NaN;const g=f[0]+f[1]+f[2];return 5*Math.abs(g-o)>=2*o?NaN:this.foundPatternCross(f)?io.centerFromEnd(f,h):NaN}handlePossibleCenter(t,r,i){const o=t[0]+t[1]+t[2],l=io.centerFromEnd(t,i),u=this.crossCheckVertical(r,l,2*t[1],o);if(!isNaN(u)){const f=(t[0]+t[1]+t[2])/3;for(const g of this.possibleCenters)if(g.aboutEquals(f,u,l))return g.combineEstimate(u,l,f);const h=new Vl(l,u,f);this.possibleCenters.push(h),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(h)}return null}}class zl extends ae{constructor(t,r,i,o){super(t,r),this.estimatedModuleSize=i,this.count=o,o===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(t,r,i){if(Math.abs(r-this.getY())<=t&&Math.abs(i-this.getX())<=t){const o=Math.abs(t-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1}combineEstimate(t,r,i){const o=this.count+1,l=(this.count*this.getX()+r)/o,u=(this.count*this.getY()+t)/o,f=(this.count*this.estimatedModuleSize+i)/o;return new zl(l,u,f,o)}}class th{constructor(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Et{constructor(t,r){this.image=t,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(t){const r=t!=null&&t.get(K.TRY_HARDER)!==void 0,i=t!=null&&t.get(K.PURE_BARCODE)!==void 0,o=this.image,l=o.getHeight(),u=o.getWidth();let f=Math.floor(3*l/(4*Et.MAX_MODULES));(f<Et.MIN_SKIP||r)&&(f=Et.MIN_SKIP);let h=!1;const g=new Int32Array(5);for(let v=f-1;v<l&&!h;v+=f){g[0]=0,g[1]=0,g[2]=0,g[3]=0,g[4]=0;let A=0;for(let I=0;I<u;I++)if(o.get(I,v))(A&1)===1&&A++,g[A]++;else if(A&1)g[A]++;else if(A===4)if(Et.foundPatternCross(g)){if(this.handlePossibleCenter(g,v,I,i)===!0)if(f=2,this.hasSkipped===!0)h=this.haveMultiplyConfirmedCenters();else{const D=this.findRowSkip();D>g[2]&&(v+=D-g[2]-f,I=u-1)}else{g[0]=g[2],g[1]=g[3],g[2]=g[4],g[3]=1,g[4]=0,A=3;continue}A=0,g[0]=0,g[1]=0,g[2]=0,g[3]=0,g[4]=0}else g[0]=g[2],g[1]=g[3],g[2]=g[4],g[3]=1,g[4]=0,A=3;else g[++A]++;Et.foundPatternCross(g)&&this.handlePossibleCenter(g,v,u,i)===!0&&(f=g[0],this.hasSkipped&&(h=this.haveMultiplyConfirmedCenters()))}const p=this.selectBestPatterns();return ae.orderBestPatterns(p),new th(p)}static centerFromEnd(t,r){return r-t[4]-t[3]-t[2]/2}static foundPatternCross(t){let r=0;for(let l=0;l<5;l++){const u=t[l];if(u===0)return!1;r+=u}if(r<7)return!1;const i=r/7,o=i/2;return Math.abs(i-t[0])<o&&Math.abs(i-t[1])<o&&Math.abs(3*i-t[2])<3*o&&Math.abs(i-t[3])<o&&Math.abs(i-t[4])<o}getCrossCheckStateCount(){const t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t}crossCheckDiagonal(t,r,i,o){const l=this.getCrossCheckStateCount();let u=0;const f=this.image;for(;t>=u&&r>=u&&f.get(r-u,t-u);)l[2]++,u++;if(t<u||r<u)return!1;for(;t>=u&&r>=u&&!f.get(r-u,t-u)&&l[1]<=i;)l[1]++,u++;if(t<u||r<u||l[1]>i)return!1;for(;t>=u&&r>=u&&f.get(r-u,t-u)&&l[0]<=i;)l[0]++,u++;if(l[0]>i)return!1;const h=f.getHeight(),g=f.getWidth();for(u=1;t+u<h&&r+u<g&&f.get(r+u,t+u);)l[2]++,u++;if(t+u>=h||r+u>=g)return!1;for(;t+u<h&&r+u<g&&!f.get(r+u,t+u)&&l[3]<i;)l[3]++,u++;if(t+u>=h||r+u>=g||l[3]>=i)return!1;for(;t+u<h&&r+u<g&&f.get(r+u,t+u)&&l[4]<i;)l[4]++,u++;if(l[4]>=i)return!1;const p=l[0]+l[1]+l[2]+l[3]+l[4];return Math.abs(p-o)<2*o&&Et.foundPatternCross(l)}crossCheckVertical(t,r,i,o){const l=this.image,u=l.getHeight(),f=this.getCrossCheckStateCount();let h=t;for(;h>=0&&l.get(r,h);)f[2]++,h--;if(h<0)return NaN;for(;h>=0&&!l.get(r,h)&&f[1]<=i;)f[1]++,h--;if(h<0||f[1]>i)return NaN;for(;h>=0&&l.get(r,h)&&f[0]<=i;)f[0]++,h--;if(f[0]>i)return NaN;for(h=t+1;h<u&&l.get(r,h);)f[2]++,h++;if(h===u)return NaN;for(;h<u&&!l.get(r,h)&&f[3]<i;)f[3]++,h++;if(h===u||f[3]>=i)return NaN;for(;h<u&&l.get(r,h)&&f[4]<i;)f[4]++,h++;if(f[4]>=i)return NaN;const g=f[0]+f[1]+f[2]+f[3]+f[4];return 5*Math.abs(g-o)>=2*o?NaN:Et.foundPatternCross(f)?Et.centerFromEnd(f,h):NaN}crossCheckHorizontal(t,r,i,o){const l=this.image,u=l.getWidth(),f=this.getCrossCheckStateCount();let h=t;for(;h>=0&&l.get(h,r);)f[2]++,h--;if(h<0)return NaN;for(;h>=0&&!l.get(h,r)&&f[1]<=i;)f[1]++,h--;if(h<0||f[1]>i)return NaN;for(;h>=0&&l.get(h,r)&&f[0]<=i;)f[0]++,h--;if(f[0]>i)return NaN;for(h=t+1;h<u&&l.get(h,r);)f[2]++,h++;if(h===u)return NaN;for(;h<u&&!l.get(h,r)&&f[3]<i;)f[3]++,h++;if(h===u||f[3]>=i)return NaN;for(;h<u&&l.get(h,r)&&f[4]<i;)f[4]++,h++;if(f[4]>=i)return NaN;const g=f[0]+f[1]+f[2]+f[3]+f[4];return 5*Math.abs(g-o)>=o?NaN:Et.foundPatternCross(f)?Et.centerFromEnd(f,h):NaN}handlePossibleCenter(t,r,i,o){const l=t[0]+t[1]+t[2]+t[3]+t[4];let u=Et.centerFromEnd(t,i),f=this.crossCheckVertical(r,Math.floor(u),t[2],l);if(!isNaN(f)&&(u=this.crossCheckHorizontal(Math.floor(u),Math.floor(f),t[2],l),!isNaN(u)&&(!o||this.crossCheckDiagonal(Math.floor(f),Math.floor(u),t[2],l)))){const h=l/7;let g=!1;const p=this.possibleCenters;for(let v=0,A=p.length;v<A;v++){const I=p[v];if(I.aboutEquals(h,f,u)){p[v]=I.combineEstimate(f,u,h),g=!0;break}}if(!g){const v=new zl(u,f,h);p.push(v),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(v)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let r=null;for(const i of this.possibleCenters)if(i.getCount()>=Et.CENTER_QUORUM)if(r==null)r=i;else return this.hasSkipped=!0,Math.floor((Math.abs(r.getX()-i.getX())-Math.abs(r.getY()-i.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let t=0,r=0;const i=this.possibleCenters.length;for(const u of this.possibleCenters)u.getCount()>=Et.CENTER_QUORUM&&(t++,r+=u.getEstimatedModuleSize());if(t<3)return!1;const o=r/i;let l=0;for(const u of this.possibleCenters)l+=Math.abs(u.getEstimatedModuleSize()-o);return l<=.05*r}selectBestPatterns(){const t=this.possibleCenters.length;if(t<3)throw new L;const r=this.possibleCenters;let i;if(t>3){let o=0,l=0;for(const h of this.possibleCenters){const g=h.getEstimatedModuleSize();o+=g,l+=g*g}i=o/t;let u=Math.sqrt(l/t-i*i);r.sort((h,g)=>{const p=Math.abs(g.getEstimatedModuleSize()-i),v=Math.abs(h.getEstimatedModuleSize()-i);return p<v?-1:p>v?1:0});const f=Math.max(.2*i,u);for(let h=0;h<r.length&&r.length>3;h++){const g=r[h];Math.abs(g.getEstimatedModuleSize()-i)>f&&(r.splice(h,1),h--)}}if(r.length>3){let o=0;for(const l of r)o+=l.getEstimatedModuleSize();i=o/r.length,r.sort((l,u)=>{if(u.getCount()===l.getCount()){const f=Math.abs(u.getEstimatedModuleSize()-i),h=Math.abs(l.getEstimatedModuleSize()-i);return f<h?1:f>h?-1:0}else return u.getCount()-l.getCount()}),r.splice(3)}return[r[0],r[1],r[2]]}}Et.CENTER_QUORUM=2,Et.MIN_SKIP=3,Et.MAX_MODULES=57;class qi{constructor(t){this.image=t}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(t){this.resultPointCallback=t==null?null:t.get(K.NEED_RESULT_POINT_CALLBACK);const i=new Et(this.image,this.resultPointCallback).find(t);return this.processFinderPatternInfo(i)}processFinderPatternInfo(t){const r=t.getTopLeft(),i=t.getTopRight(),o=t.getBottomLeft(),l=this.calculateModuleSize(r,i,o);if(l<1)throw new L("No pattern found in proccess finder.");const u=qi.computeDimension(r,i,o,l),f=de.getProvisionalVersionForDimension(u),h=f.getDimensionForVersion()-7;let g=null;if(f.getAlignmentPatternCenters().length>0){const I=i.getX()-r.getX()+o.getX(),O=i.getY()-r.getY()+o.getY(),D=1-3/h,B=Math.floor(r.getX()+D*(I-r.getX())),W=Math.floor(r.getY()+D*(O-r.getY()));for(let J=4;J<=16;J<<=1)try{g=this.findAlignmentInRegion(l,B,W,J);break}catch(ee){if(!(ee instanceof L))throw ee}}const p=qi.createTransform(r,i,o,g,u),v=qi.sampleGrid(this.image,p,u);let A;return g===null?A=[o,r,i]:A=[o,r,i,g],new $s(v,A)}static createTransform(t,r,i,o,l){const u=l-3.5;let f,h,g,p;return o!==null?(f=o.getX(),h=o.getY(),g=u-3,p=g):(f=r.getX()-t.getX()+i.getX(),h=r.getY()-t.getY()+i.getY(),g=u,p=u),Cn.quadrilateralToQuadrilateral(3.5,3.5,u,3.5,g,p,3.5,u,t.getX(),t.getY(),r.getX(),r.getY(),f,h,i.getX(),i.getY())}static sampleGrid(t,r,i){return nr.getInstance().sampleGridWithTransform(t,i,i,r)}static computeDimension(t,r,i,o){const l=Te.round(ae.distance(t,r)/o),u=Te.round(ae.distance(t,i)/o);let f=Math.floor((l+u)/2)+7;switch(f&3){case 0:f++;break;case 2:f--;break;case 3:throw new L("Dimensions could be not found.")}return f}calculateModuleSize(t,r,i){return(this.calculateModuleSizeOneWay(t,r)+this.calculateModuleSizeOneWay(t,i))/2}calculateModuleSizeOneWay(t,r){const i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(r.getX()),Math.floor(r.getY())),o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(i)?o/7:isNaN(o)?i/7:(i+o)/14}sizeOfBlackWhiteBlackRunBothWays(t,r,i,o){let l=this.sizeOfBlackWhiteBlackRun(t,r,i,o),u=1,f=t-(i-t);f<0?(u=t/(t-f),f=0):f>=this.image.getWidth()&&(u=(this.image.getWidth()-1-t)/(f-t),f=this.image.getWidth()-1);let h=Math.floor(r-(o-r)*u);return u=1,h<0?(u=r/(r-h),h=0):h>=this.image.getHeight()&&(u=(this.image.getHeight()-1-r)/(h-r),h=this.image.getHeight()-1),f=Math.floor(t+(f-t)*u),l+=this.sizeOfBlackWhiteBlackRun(t,r,f,h),l-1}sizeOfBlackWhiteBlackRun(t,r,i,o){const l=Math.abs(o-r)>Math.abs(i-t);if(l){let I=t;t=r,r=I,I=i,i=o,o=I}const u=Math.abs(i-t),f=Math.abs(o-r);let h=-u/2;const g=t<i?1:-1,p=r<o?1:-1;let v=0;const A=i+g;for(let I=t,O=r;I!==A;I+=g){const D=l?O:I,B=l?I:O;if(v===1===this.image.get(D,B)){if(v===2)return Te.distance(I,O,t,r);v++}if(h+=f,h>0){if(O===o)break;O+=p,h-=u}}return v===2?Te.distance(i+g,o,t,r):NaN}findAlignmentInRegion(t,r,i,o){const l=Math.floor(o*t),u=Math.max(0,r-l),f=Math.min(this.image.getWidth()-1,r+l);if(f-u<t*3)throw new L("Alignment top exceeds estimated module size.");const h=Math.max(0,i-l),g=Math.min(this.image.getHeight()-1,i+l);if(g-h<t*3)throw new L("Alignment bottom exceeds estimated module size.");return new io(this.image,u,h,f-u,g-h,t,this.resultPointCallback).find()}}class or{constructor(){this.decoder=new eh}getDecoder(){return this.decoder}decode(t,r){let i,o;if(r!=null&&r.get(K.PURE_BARCODE)!==void 0){const h=or.extractPureBits(t.getBlackMatrix());i=this.decoder.decodeBitMatrix(h,r),o=or.NO_POINTS}else{const h=new qi(t.getBlackMatrix()).detect(r);i=this.decoder.decodeBitMatrix(h.getBits(),r),o=h.getPoints()}i.getOther()instanceof Rc&&i.getOther().applyMirroredCorrection(o);const l=new ze(i.getText(),i.getRawBytes(),void 0,o,le.QR_CODE,void 0),u=i.getByteSegments();u!==null&&l.putMetadata(oe.BYTE_SEGMENTS,u);const f=i.getECLevel();return f!==null&&l.putMetadata(oe.ERROR_CORRECTION_LEVEL,f),i.hasStructuredAppend()&&(l.putMetadata(oe.STRUCTURED_APPEND_SEQUENCE,i.getStructuredAppendSequenceNumber()),l.putMetadata(oe.STRUCTURED_APPEND_PARITY,i.getStructuredAppendParity())),l}reset(){}static extractPureBits(t){const r=t.getTopLeftOnBit(),i=t.getBottomRightOnBit();if(r===null||i===null)throw new L;const o=this.moduleSize(r,t);let l=r[1],u=i[1],f=r[0],h=i[0];if(f>=h||l>=u)throw new L;if(u-l!==h-f&&(h=f+(u-l),h>=t.getWidth()))throw new L;const g=Math.round((h-f+1)/o),p=Math.round((u-l+1)/o);if(g<=0||p<=0)throw new L;if(p!==g)throw new L;const v=Math.floor(o/2);l+=v,f+=v;const A=f+Math.floor((g-1)*o)-h;if(A>0){if(A>v)throw new L;f-=A}const I=l+Math.floor((p-1)*o)-u;if(I>0){if(I>v)throw new L;l-=I}const O=new Be(g,p);for(let D=0;D<p;D++){const B=l+Math.floor(D*o);for(let W=0;W<g;W++)t.get(f+Math.floor(W*o),B)&&O.set(W,D)}return O}static moduleSize(t,r){const i=r.getHeight(),o=r.getWidth();let l=t[0],u=t[1],f=!0,h=0;for(;l<o&&u<i;){if(f!==r.get(l,u)){if(++h===5)break;f=!f}l++,u++}if(l===o||u===i)throw new L;return(l-t[0])/7}}or.NO_POINTS=new Array;class me{PDF417Common(){}static getBitCountSum(t){return Te.sum(t)}static toIntArray(t){if(t==null||!t.length)return me.EMPTY_INT_ARRAY;const r=new Int32Array(t.length);let i=0;for(const o of t)r[i++]=o;return r}static getCodeword(t){const r=T.binarySearch(me.SYMBOL_TABLE,t&262143);return r<0?-1:(me.CODEWORD_TABLE[r]-1)%me.NUMBER_OF_CODEWORDS}}me.NUMBER_OF_CODEWORDS=929,me.MAX_CODEWORDS_IN_BARCODE=me.NUMBER_OF_CODEWORDS-1,me.MIN_ROWS_IN_BARCODE=3,me.MAX_ROWS_IN_BARCODE=90,me.MODULES_IN_CODEWORD=17,me.MODULES_IN_STOP_PATTERN=18,me.BARS_IN_MODULE=8,me.EMPTY_INT_ARRAY=new Int32Array([]),me.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),me.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class nh{constructor(t,r){this.bits=t,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class Ee{static detectMultiple(t,r,i){let o=t.getBlackMatrix(),l=Ee.detect(i,o);return l.length||(o=o.clone(),o.rotate180(),l=Ee.detect(i,o)),new nh(o,l)}static detect(t,r){const i=new Array;let o=0,l=0,u=!1;for(;o<r.getHeight();){const f=Ee.findVertices(r,o,l);if(f[0]==null&&f[3]==null){if(!u)break;u=!1,l=0;for(const h of i)h[1]!=null&&(o=Math.trunc(Math.max(o,h[1].getY()))),h[3]!=null&&(o=Math.max(o,Math.trunc(h[3].getY())));o+=Ee.ROW_STEP;continue}if(u=!0,i.push(f),!t)break;f[2]!=null?(l=Math.trunc(f[2].getX()),o=Math.trunc(f[2].getY())):(l=Math.trunc(f[4].getX()),o=Math.trunc(f[4].getY()))}return i}static findVertices(t,r,i){const o=t.getHeight(),l=t.getWidth(),u=new Array(8);return Ee.copyToResult(u,Ee.findRowsWithPattern(t,o,l,r,i,Ee.START_PATTERN),Ee.INDEXES_START_PATTERN),u[4]!=null&&(i=Math.trunc(u[4].getX()),r=Math.trunc(u[4].getY())),Ee.copyToResult(u,Ee.findRowsWithPattern(t,o,l,r,i,Ee.STOP_PATTERN),Ee.INDEXES_STOP_PATTERN),u}static copyToResult(t,r,i){for(let o=0;o<i.length;o++)t[i[o]]=r[o]}static findRowsWithPattern(t,r,i,o,l,u){const f=new Array(4);let h=!1;const g=new Int32Array(u.length);for(;o<r;o+=Ee.ROW_STEP){let v=Ee.findGuardPattern(t,l,o,i,!1,u,g);if(v!=null){for(;o>0;){const A=Ee.findGuardPattern(t,l,--o,i,!1,u,g);if(A!=null)v=A;else{o++;break}}f[0]=new ae(v[0],o),f[1]=new ae(v[1],o),h=!0;break}}let p=o+1;if(h){let v=0,A=Int32Array.from([Math.trunc(f[0].getX()),Math.trunc(f[1].getX())]);for(;p<r;p++){const I=Ee.findGuardPattern(t,A[0],p,i,!1,u,g);if(I!=null&&Math.abs(A[0]-I[0])<Ee.MAX_PATTERN_DRIFT&&Math.abs(A[1]-I[1])<Ee.MAX_PATTERN_DRIFT)A=I,v=0;else{if(v>Ee.SKIPPED_ROW_COUNT_MAX)break;v++}}p-=v+1,f[2]=new ae(A[0],p),f[3]=new ae(A[1],p)}return p-o<Ee.BARCODE_MIN_HEIGHT&&T.fill(f,null),f}static findGuardPattern(t,r,i,o,l,u,f){T.fillWithin(f,0,f.length,0);let h=r,g=0;for(;t.get(h,i)&&h>0&&g++<Ee.MAX_PIXEL_DRIFT;)h--;let p=h,v=0,A=u.length;for(let I=l;p<o;p++)if(t.get(p,i)!==I)f[v]++;else{if(v===A-1){if(Ee.patternMatchVariance(f,u,Ee.MAX_INDIVIDUAL_VARIANCE)<Ee.MAX_AVG_VARIANCE)return new Int32Array([h,p]);h+=f[0]+f[1],M.arraycopy(f,2,f,0,v-1),f[v-1]=0,f[v]=0,v--}else v++;f[v]=1,I=!I}return v===A-1&&Ee.patternMatchVariance(f,u,Ee.MAX_INDIVIDUAL_VARIANCE)<Ee.MAX_AVG_VARIANCE?new Int32Array([h,p-1]):null}static patternMatchVariance(t,r,i){let o=t.length,l=0,u=0;for(let g=0;g<o;g++)l+=t[g],u+=r[g];if(l<u)return 1/0;let f=l/u;i*=f;let h=0;for(let g=0;g<o;g++){let p=t[g],v=r[g]*f,A=p>v?p-v:v-p;if(A>i)return 1/0;h+=A}return h/l}}Ee.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ee.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ee.MAX_AVG_VARIANCE=.42,Ee.MAX_INDIVIDUAL_VARIANCE=.8,Ee.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ee.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ee.MAX_PIXEL_DRIFT=3,Ee.MAX_PATTERN_DRIFT=5,Ee.SKIPPED_ROW_COUNT_MAX=25,Ee.ROW_STEP=5,Ee.BARCODE_MIN_HEIGHT=10;class St{constructor(t,r){if(r.length===0)throw new S;this.field=t;let i=r.length;if(i>1&&r[0]===0){let o=1;for(;o<i&&r[o]===0;)o++;o===i?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(i-o),M.arraycopy(r,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);if(t===1){let o=0;for(let l of this.coefficients)o=this.field.add(o,l);return o}let r=this.coefficients[0],i=this.coefficients.length;for(let o=1;o<i;o++)r=this.field.add(this.field.multiply(t,r),this.coefficients[o]);return r}add(t){if(!this.field.equals(t.field))throw new S("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;let r=this.coefficients,i=t.coefficients;if(r.length>i.length){let u=r;r=i,i=u}let o=new Int32Array(i.length),l=i.length-r.length;M.arraycopy(i,0,o,0,l);for(let u=l;u<i.length;u++)o[u]=this.field.add(r[u-l],i[u]);return new St(this.field,o)}subtract(t){if(!this.field.equals(t.field))throw new S("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())}multiply(t){return t instanceof St?this.multiplyOther(t):this.multiplyScalar(t)}multiplyOther(t){if(!this.field.equals(t.field))throw new S("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new St(this.field,new Int32Array([0]));let r=this.coefficients,i=r.length,o=t.coefficients,l=o.length,u=new Int32Array(i+l-1);for(let f=0;f<i;f++){let h=r[f];for(let g=0;g<l;g++)u[f+g]=this.field.add(u[f+g],this.field.multiply(h,o[g]))}return new St(this.field,u)}negative(){let t=this.coefficients.length,r=new Int32Array(t);for(let i=0;i<t;i++)r[i]=this.field.subtract(0,this.coefficients[i]);return new St(this.field,r)}multiplyScalar(t){if(t===0)return new St(this.field,new Int32Array([0]));if(t===1)return this;let r=this.coefficients.length,i=new Int32Array(r);for(let o=0;o<r;o++)i[o]=this.field.multiply(this.coefficients[o],t);return new St(this.field,i)}multiplyByMonomial(t,r){if(t<0)throw new S;if(r===0)return new St(this.field,new Int32Array([0]));let i=this.coefficients.length,o=new Int32Array(i+t);for(let l=0;l<i;l++)o[l]=this.field.multiply(this.coefficients[l],r);return new St(this.field,o)}toString(){let t=new we;for(let r=this.getDegree();r>=0;r--){let i=this.getCoefficient(r);i!==0&&(i<0?(t.append(" - "),i=-i):t.length()>0&&t.append(" + "),(r===0||i!==1)&&t.append(i),r!==0&&(r===1?t.append("x"):(t.append("x^"),t.append(r))))}return t.toString()}}class rh{add(t,r){return(t+r)%this.modulus}subtract(t,r){return(this.modulus+t-r)%this.modulus}exp(t){return this.expTable[t]}log(t){if(t===0)throw new S;return this.logTable[t]}inverse(t){if(t===0)throw new qs;return this.expTable[this.modulus-this.logTable[t]-1]}multiply(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.modulus-1)]}getSize(){return this.modulus}equals(t){return t===this}}class Wl extends rh{constructor(t,r){super(),this.modulus=t,this.expTable=new Int32Array(t),this.logTable=new Int32Array(t);let i=1;for(let o=0;o<t;o++)this.expTable[o]=i,i=i*r%t;for(let o=0;o<t-1;o++)this.logTable[this.expTable[o]]=o;this.zero=new St(this,new Int32Array([0])),this.one=new St(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,r){if(t<0)throw new S;if(r===0)return this.zero;let i=new Int32Array(t+1);return i[0]=r,new St(this,i)}}Wl.PDF417_GF=new Wl(me.NUMBER_OF_CODEWORDS,3);class Oc{constructor(){this.field=Wl.PDF417_GF}decode(t,r,i){let o=new St(this.field,t),l=new Int32Array(r),u=!1;for(let O=r;O>0;O--){let D=o.evaluateAt(this.field.exp(O));l[r-O]=D,D!==0&&(u=!0)}if(!u)return 0;let f=this.field.getOne();if(i!=null)for(const O of i){let D=this.field.exp(t.length-1-O),B=new St(this.field,new Int32Array([this.field.subtract(0,D),1]));f=f.multiply(B)}let h=new St(this.field,l),g=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),h,r),p=g[0],v=g[1],A=this.findErrorLocations(p),I=this.findErrorMagnitudes(v,p,A);for(let O=0;O<A.length;O++){let D=t.length-1-this.field.log(A[O]);if(D<0)throw F.getChecksumInstance();t[D]=this.field.subtract(t[D],I[O])}return A.length}runEuclideanAlgorithm(t,r,i){if(t.getDegree()<r.getDegree()){let A=t;t=r,r=A}let o=t,l=r,u=this.field.getZero(),f=this.field.getOne();for(;l.getDegree()>=Math.round(i/2);){let A=o,I=u;if(o=l,u=f,o.isZero())throw F.getChecksumInstance();l=A;let O=this.field.getZero(),D=o.getCoefficient(o.getDegree()),B=this.field.inverse(D);for(;l.getDegree()>=o.getDegree()&&!l.isZero();){let W=l.getDegree()-o.getDegree(),J=this.field.multiply(l.getCoefficient(l.getDegree()),B);O=O.add(this.field.buildMonomial(W,J)),l=l.subtract(o.multiplyByMonomial(W,J))}f=O.multiply(u).subtract(I).negative()}let h=f.getCoefficient(0);if(h===0)throw F.getChecksumInstance();let g=this.field.inverse(h),p=f.multiply(g),v=l.multiply(g);return[p,v]}findErrorLocations(t){let r=t.getDegree(),i=new Int32Array(r),o=0;for(let l=1;l<this.field.getSize()&&o<r;l++)t.evaluateAt(l)===0&&(i[o]=this.field.inverse(l),o++);if(o!==r)throw F.getChecksumInstance();return i}findErrorMagnitudes(t,r,i){let o=r.getDegree(),l=new Int32Array(o);for(let g=1;g<=o;g++)l[o-g]=this.field.multiply(g,r.getCoefficient(g));let u=new St(this.field,l),f=i.length,h=new Int32Array(f);for(let g=0;g<f;g++){let p=this.field.inverse(i[g]),v=this.field.subtract(0,t.evaluateAt(p)),A=this.field.inverse(u.evaluateAt(p));h[g]=this.field.multiply(v,A)}return h}}class Fr{constructor(t,r,i,o,l){t instanceof Fr?this.constructor_2(t):this.constructor_1(t,r,i,o,l)}constructor_1(t,r,i,o,l){const u=r==null||i==null,f=o==null||l==null;if(u&&f)throw new L;u?(r=new ae(0,o.getY()),i=new ae(0,l.getY())):f&&(o=new ae(t.getWidth()-1,r.getY()),l=new ae(t.getWidth()-1,i.getY())),this.image=t,this.topLeft=r,this.bottomLeft=i,this.topRight=o,this.bottomRight=l,this.minX=Math.trunc(Math.min(r.getX(),i.getX())),this.maxX=Math.trunc(Math.max(o.getX(),l.getX())),this.minY=Math.trunc(Math.min(r.getY(),o.getY())),this.maxY=Math.trunc(Math.max(i.getY(),l.getY()))}constructor_2(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()}static merge(t,r){return t==null?r:r==null?t:new Fr(t.image,t.topLeft,t.bottomLeft,r.topRight,r.bottomRight)}addMissingRows(t,r,i){let o=this.topLeft,l=this.bottomLeft,u=this.topRight,f=this.bottomRight;if(t>0){let h=i?this.topLeft:this.topRight,g=Math.trunc(h.getY()-t);g<0&&(g=0);let p=new ae(h.getX(),g);i?o=p:u=p}if(r>0){let h=i?this.bottomLeft:this.bottomRight,g=Math.trunc(h.getY()+r);g>=this.image.getHeight()&&(g=this.image.getHeight()-1);let p=new ae(h.getX(),g);i?l=p:f=p}return new Fr(this.image,o,l,u,f)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class ih{constructor(t,r,i,o){this.columnCount=t,this.errorCorrectionLevel=o,this.rowCountUpperPart=r,this.rowCountLowerPart=i,this.rowCount=r+i}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Ji{constructor(){this.buffer=""}static form(t,r){let i=-1;function o(u,f,h,g,p,v){if(u==="%%")return"%";if(r[++i]===void 0)return;u=g?parseInt(g.substr(1)):void 0;let A=p?parseInt(p.substr(1)):void 0,I;switch(v){case"s":I=r[i];break;case"c":I=r[i][0];break;case"f":I=parseFloat(r[i]).toFixed(u);break;case"p":I=parseFloat(r[i]).toPrecision(u);break;case"e":I=parseFloat(r[i]).toExponential(u);break;case"x":I=parseInt(r[i]).toString(A||16);break;case"d":I=parseFloat(parseInt(r[i],A||10).toPrecision(u)).toFixed(0);break}I=typeof I=="object"?JSON.stringify(I):(+I).toString(A);let O=parseInt(h),D=h&&h[0]+""=="0"?"0":" ";for(;I.length<O;)I=f!==void 0?I+D:D+I;return I}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(l,o)}format(t,...r){this.buffer+=Ji.form(t,r)}toString(){return this.buffer}}class $i{constructor(t){this.boundingBox=new Fr(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}getCodewordNearby(t){let r=this.getCodeword(t);if(r!=null)return r;for(let i=1;i<$i.MAX_NEARBY_DISTANCE;i++){let o=this.imageRowToCodewordIndex(t)-i;if(o>=0&&(r=this.codewords[o],r!=null)||(o=this.imageRowToCodewordIndex(t)+i,o<this.codewords.length&&(r=this.codewords[o],r!=null)))return r}return null}imageRowToCodewordIndex(t){return t-this.boundingBox.getMinY()}setCodeword(t,r){this.codewords[this.imageRowToCodewordIndex(t)]=r}getCodeword(t){return this.codewords[this.imageRowToCodewordIndex(t)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const t=new Ji;let r=0;for(const i of this.codewords){if(i==null){t.format("%3d:    |   %n",r++);continue}t.format("%3d: %3d|%3d%n",r++,i.getRowNumber(),i.getValue())}return t.toString()}}$i.MAX_NEARBY_DISTANCE=5;class es{constructor(){this.values=new Map}setValue(t){t=Math.trunc(t);let r=this.values.get(t);r==null&&(r=0),r++,this.values.set(t,r)}getValue(){let t=-1,r=new Array;for(const[i,o]of this.values.entries()){const l={getKey:()=>i,getValue:()=>o};l.getValue()>t?(t=l.getValue(),r=[],r.push(l.getKey())):l.getValue()===t&&r.push(l.getKey())}return me.toIntArray(r)}getConfidence(t){return this.values.get(t)}}class Dc extends $i{constructor(t,r){super(t),this._isLeft=r}setRowNumbers(){for(let t of this.getCodewords())t!=null&&t.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(t){let r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,t);let i=this.getBoundingBox(),o=this._isLeft?i.getTopLeft():i.getTopRight(),l=this._isLeft?i.getBottomLeft():i.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(o.getY())),f=this.imageRowToCodewordIndex(Math.trunc(l.getY())),h=-1,g=1,p=0;for(let v=u;v<f;v++){if(r[v]==null)continue;let A=r[v],I=A.getRowNumber()-h;if(I===0)p++;else if(I===1)g=Math.max(g,p),p=1,h=A.getRowNumber();else if(I<0||A.getRowNumber()>=t.getRowCount()||I>v)r[v]=null;else{let O;g>2?O=(g-2)*I:O=I;let D=O>=v;for(let B=1;B<=O&&!D;B++)D=r[v-B]!=null;D?r[v]=null:(h=A.getRowNumber(),p=1)}}}getRowHeights(){let t=this.getBarcodeMetadata();if(t==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(t);let r=new Int32Array(t.getRowCount());for(let i of this.getCodewords())if(i!=null){let o=i.getRowNumber();if(o>=r.length)continue;r[o]++}return r}adjustIncompleteIndicatorColumnRowNumbers(t){let r=this.getBoundingBox(),i=this._isLeft?r.getTopLeft():r.getTopRight(),o=this._isLeft?r.getBottomLeft():r.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(i.getY())),u=this.imageRowToCodewordIndex(Math.trunc(o.getY())),f=this.getCodewords(),h=-1;for(let g=l;g<u;g++){if(f[g]==null)continue;let p=f[g];p.setRowNumberAsRowIndicatorColumn();let v=p.getRowNumber()-h;v===0||(v===1?h=p.getRowNumber():p.getRowNumber()>=t.getRowCount()?f[g]=null:h=p.getRowNumber())}}getBarcodeMetadata(){let t=this.getCodewords(),r=new es,i=new es,o=new es,l=new es;for(let f of t){if(f==null)continue;f.setRowNumberAsRowIndicatorColumn();let h=f.getValue()%30,g=f.getRowNumber();switch(this._isLeft||(g+=2),g%3){case 0:i.setValue(h*3+1);break;case 1:l.setValue(h/3),o.setValue(h%3);break;case 2:r.setValue(h+1);break}}if(r.getValue().length===0||i.getValue().length===0||o.getValue().length===0||l.getValue().length===0||r.getValue()[0]<1||i.getValue()[0]+o.getValue()[0]<me.MIN_ROWS_IN_BARCODE||i.getValue()[0]+o.getValue()[0]>me.MAX_ROWS_IN_BARCODE)return null;let u=new ih(r.getValue()[0],i.getValue()[0],o.getValue()[0],l.getValue()[0]);return this.removeIncorrectCodewords(t,u),u}removeIncorrectCodewords(t,r){for(let i=0;i<t.length;i++){let o=t[i];if(t[i]==null)continue;let l=o.getValue()%30,u=o.getRowNumber();if(u>r.getRowCount()){t[i]=null;continue}switch(this._isLeft||(u+=2),u%3){case 0:l*3+1!==r.getRowCountUpperPart()&&(t[i]=null);break;case 1:(Math.trunc(l/3)!==r.getErrorCorrectionLevel()||l%3!==r.getRowCountLowerPart())&&(t[i]=null);break;case 2:l+1!==r.getColumnCount()&&(t[i]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class ts{constructor(t,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let t=me.MAX_CODEWORDS_IN_BARCODE,r;do r=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<r);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(t){t!=null&&t.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let t=this.adjustRowNumbersByRow();if(t===0)return 0;for(let r=1;r<this.barcodeColumnCount+1;r++){let i=this.detectionResultColumns[r].getCodewords();for(let o=0;o<i.length;o++)i[o]!=null&&(i[o].hasValidRowNumber()||this.adjustRowNumbers(r,o,i))}return t}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let t=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let i=0;i<t.length;i++)if(t[i]!=null&&r[i]!=null&&t[i].getRowNumber()===r[i].getRowNumber())for(let o=1;o<=this.barcodeColumnCount;o++){let l=this.detectionResultColumns[o].getCodewords()[i];l!=null&&(l.setRowNumber(t[i].getRowNumber()),l.hasValidRowNumber()||(this.detectionResultColumns[o].getCodewords()[i]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let t=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let i=0;i<r.length;i++){if(r[i]==null)continue;let o=r[i].getRowNumber(),l=0;for(let u=this.barcodeColumnCount+1;u>0&&l<this.ADJUST_ROW_NUMBER_SKIP;u--){let f=this.detectionResultColumns[u].getCodewords()[i];f!=null&&(l=ts.adjustRowNumberIfValid(o,l,f),f.hasValidRowNumber()||t++)}}return t}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let t=0,r=this.detectionResultColumns[0].getCodewords();for(let i=0;i<r.length;i++){if(r[i]==null)continue;let o=r[i].getRowNumber(),l=0;for(let u=1;u<this.barcodeColumnCount+1&&l<this.ADJUST_ROW_NUMBER_SKIP;u++){let f=this.detectionResultColumns[u].getCodewords()[i];f!=null&&(l=ts.adjustRowNumberIfValid(o,l,f),f.hasValidRowNumber()||t++)}}return t}static adjustRowNumberIfValid(t,r,i){return i==null||i.hasValidRowNumber()||(i.isValidRowNumber(t)?(i.setRowNumber(t),r=0):++r),r}adjustRowNumbers(t,r,i){if(!this.detectionResultColumns[t-1])return;let o=i[r],l=this.detectionResultColumns[t-1].getCodewords(),u=l;this.detectionResultColumns[t+1]!=null&&(u=this.detectionResultColumns[t+1].getCodewords());let f=new Array(14);f[2]=l[r],f[3]=u[r],r>0&&(f[0]=i[r-1],f[4]=l[r-1],f[5]=u[r-1]),r>1&&(f[8]=i[r-2],f[10]=l[r-2],f[11]=u[r-2]),r<i.length-1&&(f[1]=i[r+1],f[6]=l[r+1],f[7]=u[r+1]),r<i.length-2&&(f[9]=i[r+2],f[12]=l[r+2],f[13]=u[r+2]);for(let h of f)if(ts.adjustRowNumber(o,h))return}static adjustRowNumber(t,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===t.getBucket()?(t.setRowNumber(r.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(t){this.boundingBox=t}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(t,r){this.detectionResultColumns[t]=r}getDetectionResultColumn(t){return this.detectionResultColumns[t]}toString(){let t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);let r=new Ji;for(let i=0;i<t.getCodewords().length;i++){r.format("CW %3d:",i);for(let o=0;o<this.barcodeColumnCount+2;o++){if(this.detectionResultColumns[o]==null){r.format("    |   ");continue}let l=this.detectionResultColumns[o].getCodewords()[i];if(l==null){r.format("    |   ");continue}r.format(" %3d|%3d",l.getRowNumber(),l.getValue())}r.format("%n")}return r.toString()}}class ns{constructor(t,r,i,o){this.rowNumber=ns.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(r),this.bucket=Math.trunc(i),this.value=Math.trunc(o)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(t){return t!==ns.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(t){this.rowNumber=t}toString(){return this.rowNumber+"|"+this.value}}ns.BARCODE_ROW_UNKNOWN=-1;class Xt{static initialize(){for(let t=0;t<me.SYMBOL_TABLE.length;t++){let r=me.SYMBOL_TABLE[t],i=r&1;for(let o=0;o<me.BARS_IN_MODULE;o++){let l=0;for(;(r&1)===i;)l+=1,r>>=1;i=r&1,Xt.RATIOS_TABLE[t]||(Xt.RATIOS_TABLE[t]=new Array(me.BARS_IN_MODULE)),Xt.RATIOS_TABLE[t][me.BARS_IN_MODULE-o-1]=Math.fround(l/me.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(t){let r=Xt.getDecodedCodewordValue(Xt.sampleBitCounts(t));return r!==-1?r:Xt.getClosestDecodedValue(t)}static sampleBitCounts(t){let r=Te.sum(t),i=new Int32Array(me.BARS_IN_MODULE),o=0,l=0;for(let u=0;u<me.MODULES_IN_CODEWORD;u++){let f=r/(2*me.MODULES_IN_CODEWORD)+u*r/me.MODULES_IN_CODEWORD;l+t[o]<=f&&(l+=t[o],o++),i[o]++}return i}static getDecodedCodewordValue(t){let r=Xt.getBitValue(t);return me.getCodeword(r)===-1?-1:r}static getBitValue(t){let r=0;for(let i=0;i<t.length;i++)for(let o=0;o<t[i];o++)r=r<<1|(i%2===0?1:0);return Math.trunc(r)}static getClosestDecodedValue(t){let r=Te.sum(t),i=new Array(me.BARS_IN_MODULE);if(r>1)for(let u=0;u<i.length;u++)i[u]=Math.fround(t[u]/r);let o=Js.MAX_VALUE,l=-1;this.bSymbolTableReady||Xt.initialize();for(let u=0;u<Xt.RATIOS_TABLE.length;u++){let f=0,h=Xt.RATIOS_TABLE[u];for(let g=0;g<me.BARS_IN_MODULE;g++){let p=Math.fround(h[g]-i[g]);if(f+=Math.fround(p*p),f>=o)break}f<o&&(o=f,l=me.SYMBOL_TABLE[u])}return l}}Xt.bSymbolTableReady=!1,Xt.RATIOS_TABLE=new Array(me.SYMBOL_TABLE.length).map(C=>new Array(me.BARS_IN_MODULE));class kc{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(t){this.segmentIndex=t}getFileId(){return this.fileId}setFileId(t){this.fileId=t}getOptionalData(){return this.optionalData}setOptionalData(t){this.optionalData=t}isLastSegment(){return this.lastSegment}setLastSegment(t){this.lastSegment=t}getSegmentCount(){return this.segmentCount}setSegmentCount(t){this.segmentCount=t}getSender(){return this.sender||null}setSender(t){this.sender=t}getAddressee(){return this.addressee||null}setAddressee(t){this.addressee=t}getFileName(){return this.fileName}setFileName(t){this.fileName=t}getFileSize(){return this.fileSize}setFileSize(t){this.fileSize=t}getChecksum(){return this.checksum}setChecksum(t){this.checksum=t}getTimestamp(){return this.timestamp}setTimestamp(t){this.timestamp=t}}class Mc{static parseLong(t,r=void 0){return parseInt(t,r)}}class Pc extends m{}Pc.kind="NullPointerException";class sh{writeBytes(t){this.writeBytesOffset(t,0,t.length)}writeBytesOffset(t,r,i){if(t==null)throw new Pc;if(r<0||r>t.length||i<0||r+i>t.length||r+i<0)throw new G;if(i===0)return;for(let o=0;o<i;o++)this.write(t[r+o])}flush(){}close(){}}class oh extends m{}class lh extends sh{constructor(t=32){if(super(),this.count=0,t<0)throw new S("Negative initial size: "+t);this.buf=new Uint8Array(t)}ensureCapacity(t){t-this.buf.length>0&&this.grow(t)}grow(t){let i=this.buf.length<<1;if(i-t<0&&(i=t),i<0){if(t<0)throw new oh;i=_.MAX_VALUE}this.buf=T.copyOfUint8Array(this.buf,i)}write(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1}writeBytesOffset(t,r,i){if(r<0||r>t.length||i<0||r+i-t.length>0)throw new G;this.ensureCapacity(this.count+i),M.arraycopy(t,r,this.buf,this.count,i),this.count+=i}writeTo(t){t.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return T.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(t){return new String(this.buf).toString()}toString_number(t){return new String(this.buf).toString()}close(){}}var Le;(function(C){C[C.ALPHA=0]="ALPHA",C[C.LOWER=1]="LOWER",C[C.MIXED=2]="MIXED",C[C.PUNCT=3]="PUNCT",C[C.ALPHA_SHIFT=4]="ALPHA_SHIFT",C[C.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Le||(Le={}));function Lc(){if(typeof window<"u")return window.BigInt||null;if(typeof ss<"u")return ss.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let so;function lr(C){if(typeof so>"u"&&(so=Lc()),so===null)throw new Error("BigInt is not supported!");return so(C)}function ah(){let C=[];C[0]=lr(1);let t=lr(900);C[1]=t;for(let r=2;r<16;r++)C[r]=C[r-1]*t;return C}class z{static decode(t,r){let i=new we(""),o=X.ISO8859_1;i.enableDecoding(o);let l=1,u=t[l++],f=new kc;for(;l<t[0];){switch(u){case z.TEXT_COMPACTION_MODE_LATCH:l=z.textCompaction(t,l,i);break;case z.BYTE_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH_6:l=z.byteCompaction(u,t,o,l,i);break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[l++]);break;case z.NUMERIC_COMPACTION_MODE_LATCH:l=z.numericCompaction(t,l,i);break;case z.ECI_CHARSET:X.getCharacterSetECIByValue(t[l++]);break;case z.ECI_GENERAL_PURPOSE:l+=2;break;case z.ECI_USER_DEFINED:l++;break;case z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:l=z.decodeMacroBlock(t,l,f);break;case z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case z.MACRO_PDF417_TERMINATOR:throw new P;default:l--,l=z.textCompaction(t,l,i);break}if(l<t.length)u=t[l++];else throw P.getFormatInstance()}if(i.length()===0)throw P.getFormatInstance();let h=new Mr(null,i.toString(),null,r);return h.setOther(f),h}static decodeMacroBlock(t,r,i){if(r+z.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw P.getFormatInstance();let o=new Int32Array(z.NUMBER_OF_SEQUENCE_CODEWORDS);for(let f=0;f<z.NUMBER_OF_SEQUENCE_CODEWORDS;f++,r++)o[f]=t[r];i.setSegmentIndex(_.parseInt(z.decodeBase900toBase10(o,z.NUMBER_OF_SEQUENCE_CODEWORDS)));let l=new we;r=z.textCompaction(t,r,l),i.setFileId(l.toString());let u=-1;for(t[r]===z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(u=r+1);r<t[0];)switch(t[r]){case z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,t[r]){case z.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let f=new we;r=z.textCompaction(t,r+1,f),i.setFileName(f.toString());break;case z.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let h=new we;r=z.textCompaction(t,r+1,h),i.setSender(h.toString());break;case z.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let g=new we;r=z.textCompaction(t,r+1,g),i.setAddressee(g.toString());break;case z.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let p=new we;r=z.numericCompaction(t,r+1,p),i.setSegmentCount(_.parseInt(p.toString()));break;case z.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let v=new we;r=z.numericCompaction(t,r+1,v),i.setTimestamp(Mc.parseLong(v.toString()));break;case z.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let A=new we;r=z.numericCompaction(t,r+1,A),i.setChecksum(_.parseInt(A.toString()));break;case z.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let I=new we;r=z.numericCompaction(t,r+1,I),i.setFileSize(Mc.parseLong(I.toString()));break;default:throw P.getFormatInstance()}break;case z.MACRO_PDF417_TERMINATOR:r++,i.setLastSegment(!0);break;default:throw P.getFormatInstance()}if(u!==-1){let f=r-u;i.isLastSegment()&&f--,i.setOptionalData(T.copyOfRange(t,u,u+f))}return r}static textCompaction(t,r,i){let o=new Int32Array((t[0]-r)*2),l=new Int32Array((t[0]-r)*2),u=0,f=!1;for(;r<t[0]&&!f;){let h=t[r++];if(h<z.TEXT_COMPACTION_MODE_LATCH)o[u]=h/30,o[u+1]=h%30,u+=2;else switch(h){case z.TEXT_COMPACTION_MODE_LATCH:o[u++]=z.TEXT_COMPACTION_MODE_LATCH;break;case z.BYTE_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH_6:case z.NUMERIC_COMPACTION_MODE_LATCH:case z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case z.MACRO_PDF417_TERMINATOR:r--,f=!0;break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o[u]=z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,h=t[r++],l[u]=h,u++;break}}return z.decodeTextCompaction(o,l,u,i),r}static decodeTextCompaction(t,r,i,o){let l=Le.ALPHA,u=Le.ALPHA,f=0;for(;f<i;){let h=t[f],g="";switch(l){case Le.ALPHA:if(h<26)g=String.fromCharCode(65+h);else switch(h){case 26:g=" ";break;case z.LL:l=Le.LOWER;break;case z.ML:l=Le.MIXED;break;case z.PS:u=l,l=Le.PUNCT_SHIFT;break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[f]);break;case z.TEXT_COMPACTION_MODE_LATCH:l=Le.ALPHA;break}break;case Le.LOWER:if(h<26)g=String.fromCharCode(97+h);else switch(h){case 26:g=" ";break;case z.AS:u=l,l=Le.ALPHA_SHIFT;break;case z.ML:l=Le.MIXED;break;case z.PS:u=l,l=Le.PUNCT_SHIFT;break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[f]);break;case z.TEXT_COMPACTION_MODE_LATCH:l=Le.ALPHA;break}break;case Le.MIXED:if(h<z.PL)g=z.MIXED_CHARS[h];else switch(h){case z.PL:l=Le.PUNCT;break;case 26:g=" ";break;case z.LL:l=Le.LOWER;break;case z.AL:l=Le.ALPHA;break;case z.PS:u=l,l=Le.PUNCT_SHIFT;break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[f]);break;case z.TEXT_COMPACTION_MODE_LATCH:l=Le.ALPHA;break}break;case Le.PUNCT:if(h<z.PAL)g=z.PUNCT_CHARS[h];else switch(h){case z.PAL:l=Le.ALPHA;break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[f]);break;case z.TEXT_COMPACTION_MODE_LATCH:l=Le.ALPHA;break}break;case Le.ALPHA_SHIFT:if(l=u,h<26)g=String.fromCharCode(65+h);else switch(h){case 26:g=" ";break;case z.TEXT_COMPACTION_MODE_LATCH:l=Le.ALPHA;break}break;case Le.PUNCT_SHIFT:if(l=u,h<z.PAL)g=z.PUNCT_CHARS[h];else switch(h){case z.PAL:l=Le.ALPHA;break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[f]);break;case z.TEXT_COMPACTION_MODE_LATCH:l=Le.ALPHA;break}break}g!==""&&o.append(g),f++}}static byteCompaction(t,r,i,o,l){let u=new lh,f=0,h=0,g=!1;switch(t){case z.BYTE_COMPACTION_MODE_LATCH:let p=new Int32Array(6),v=r[o++];for(;o<r[0]&&!g;)switch(p[f++]=v,h=900*h+v,v=r[o++],v){case z.TEXT_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH:case z.NUMERIC_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH_6:case z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case z.MACRO_PDF417_TERMINATOR:o--,g=!0;break;default:if(f%5===0&&f>0){for(let A=0;A<6;++A)u.write(Number(lr(h)>>lr(8*(5-A))));h=0,f=0}break}o===r[0]&&v<z.TEXT_COMPACTION_MODE_LATCH&&(p[f++]=v);for(let A=0;A<f;A++)u.write(p[A]);break;case z.BYTE_COMPACTION_MODE_LATCH_6:for(;o<r[0]&&!g;){let A=r[o++];if(A<z.TEXT_COMPACTION_MODE_LATCH)f++,h=900*h+A;else switch(A){case z.TEXT_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH:case z.NUMERIC_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH_6:case z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case z.MACRO_PDF417_TERMINATOR:o--,g=!0;break}if(f%5===0&&f>0){for(let I=0;I<6;++I)u.write(Number(lr(h)>>lr(8*(5-I))));h=0,f=0}}break}return l.append(Ie.decode(u.toByteArray(),i)),o}static numericCompaction(t,r,i){let o=0,l=!1,u=new Int32Array(z.MAX_NUMERIC_CODEWORDS);for(;r<t[0]&&!l;){let f=t[r++];if(r===t[0]&&(l=!0),f<z.TEXT_COMPACTION_MODE_LATCH)u[o]=f,o++;else switch(f){case z.TEXT_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH_6:case z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case z.MACRO_PDF417_TERMINATOR:r--,l=!0;break}(o%z.MAX_NUMERIC_CODEWORDS===0||f===z.NUMERIC_COMPACTION_MODE_LATCH||l)&&o>0&&(i.append(z.decodeBase900toBase10(u,o)),o=0)}return r}static decodeBase900toBase10(t,r){let i=lr(0);for(let l=0;l<r;l++)i+=z.EXP900[r-l-1]*lr(t[l]);let o=i.toString();if(o.charAt(0)!=="1")throw new P;return o.substring(1)}}z.TEXT_COMPACTION_MODE_LATCH=900,z.BYTE_COMPACTION_MODE_LATCH=901,z.NUMERIC_COMPACTION_MODE_LATCH=902,z.BYTE_COMPACTION_MODE_LATCH_6=924,z.ECI_USER_DEFINED=925,z.ECI_GENERAL_PURPOSE=926,z.ECI_CHARSET=927,z.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,z.MACRO_PDF417_TERMINATOR=922,z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,z.MAX_NUMERIC_CODEWORDS=15,z.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,z.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,z.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,z.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,z.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,z.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,z.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,z.PL=25,z.LL=27,z.AS=27,z.ML=28,z.AL=28,z.PS=29,z.PAL=29,z.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,z.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",z.EXP900=Lc()?ah():[],z.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Ce{constructor(){}static decode(t,r,i,o,l,u,f){let h=new Fr(t,r,i,o,l),g=null,p=null,v;for(let O=!0;;O=!1){if(r!=null&&(g=Ce.getRowIndicatorColumn(t,h,r,!0,u,f)),o!=null&&(p=Ce.getRowIndicatorColumn(t,h,o,!1,u,f)),v=Ce.merge(g,p),v==null)throw L.getNotFoundInstance();let D=v.getBoundingBox();if(O&&D!=null&&(D.getMinY()<h.getMinY()||D.getMaxY()>h.getMaxY()))h=D;else break}v.setBoundingBox(h);let A=v.getBarcodeColumnCount()+1;v.setDetectionResultColumn(0,g),v.setDetectionResultColumn(A,p);let I=g!=null;for(let O=1;O<=A;O++){let D=I?O:A-O;if(v.getDetectionResultColumn(D)!==void 0)continue;let B;D===0||D===A?B=new Dc(h,D===0):B=new $i(h),v.setDetectionResultColumn(D,B);let W=-1,J=W;for(let ee=h.getMinY();ee<=h.getMaxY();ee++){if(W=Ce.getStartColumn(v,D,ee,I),W<0||W>h.getMaxX()){if(J===-1)continue;W=J}let Z=Ce.detectCodeword(t,h.getMinX(),h.getMaxX(),I,W,ee,u,f);Z!=null&&(B.setCodeword(ee,Z),J=W,u=Math.min(u,Z.getWidth()),f=Math.max(f,Z.getWidth()))}}return Ce.createDecoderResult(v)}static merge(t,r){if(t==null&&r==null)return null;let i=Ce.getBarcodeMetadata(t,r);if(i==null)return null;let o=Fr.merge(Ce.adjustBoundingBox(t),Ce.adjustBoundingBox(r));return new ts(i,o)}static adjustBoundingBox(t){if(t==null)return null;let r=t.getRowHeights();if(r==null)return null;let i=Ce.getMax(r),o=0;for(let f of r)if(o+=i-f,f>0)break;let l=t.getCodewords();for(let f=0;o>0&&l[f]==null;f++)o--;let u=0;for(let f=r.length-1;f>=0&&(u+=i-r[f],!(r[f]>0));f--);for(let f=l.length-1;u>0&&l[f]==null;f--)u--;return t.getBoundingBox().addMissingRows(o,u,t.isLeft())}static getMax(t){let r=-1;for(let i of t)r=Math.max(r,i);return r}static getBarcodeMetadata(t,r){let i;if(t==null||(i=t.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();let o;return r==null||(o=r.getBarcodeMetadata())==null?i:i.getColumnCount()!==o.getColumnCount()&&i.getErrorCorrectionLevel()!==o.getErrorCorrectionLevel()&&i.getRowCount()!==o.getRowCount()?null:i}static getRowIndicatorColumn(t,r,i,o,l,u){let f=new Dc(r,o);for(let h=0;h<2;h++){let g=h===0?1:-1,p=Math.trunc(Math.trunc(i.getX()));for(let v=Math.trunc(Math.trunc(i.getY()));v<=r.getMaxY()&&v>=r.getMinY();v+=g){let A=Ce.detectCodeword(t,0,t.getWidth(),o,p,v,l,u);A!=null&&(f.setCodeword(v,A),o?p=A.getStartX():p=A.getEndX())}}return f}static adjustCodewordCount(t,r){let i=r[0][1],o=i.getValue(),l=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-Ce.getNumberOfECCodeWords(t.getBarcodeECLevel());if(o.length===0){if(l<1||l>me.MAX_CODEWORDS_IN_BARCODE)throw L.getNotFoundInstance();i.setValue(l)}else o[0]!==l&&i.setValue(l)}static createDecoderResult(t){let r=Ce.createBarcodeMatrix(t);Ce.adjustCodewordCount(t,r);let i=new Array,o=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),l=[],u=new Array;for(let h=0;h<t.getBarcodeRowCount();h++)for(let g=0;g<t.getBarcodeColumnCount();g++){let p=r[h][g+1].getValue(),v=h*t.getBarcodeColumnCount()+g;p.length===0?i.push(v):p.length===1?o[v]=p[0]:(u.push(v),l.push(p))}let f=new Array(l.length);for(let h=0;h<f.length;h++)f[h]=l[h];return Ce.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),o,me.toIntArray(i),me.toIntArray(u),f)}static createDecoderResultFromAmbiguousValues(t,r,i,o,l){let u=new Int32Array(o.length),f=100;for(;f-- >0;){for(let h=0;h<u.length;h++)r[o[h]]=l[h][u[h]];try{return Ce.decodeCodewords(r,t,i)}catch(h){if(!(h instanceof F))throw h}if(u.length===0)throw F.getChecksumInstance();for(let h=0;h<u.length;h++)if(u[h]<l[h].length-1){u[h]++;break}else if(u[h]=0,h===u.length-1)throw F.getChecksumInstance()}throw F.getChecksumInstance()}static createBarcodeMatrix(t){let r=Array.from({length:t.getBarcodeRowCount()},()=>new Array(t.getBarcodeColumnCount()+2));for(let o=0;o<r.length;o++)for(let l=0;l<r[o].length;l++)r[o][l]=new es;let i=0;for(let o of t.getDetectionResultColumns()){if(o!=null){for(let l of o.getCodewords())if(l!=null){let u=l.getRowNumber();if(u>=0){if(u>=r.length)continue;r[u][i].setValue(l.getValue())}}}i++}return r}static isValidBarcodeColumn(t,r){return r>=0&&r<=t.getBarcodeColumnCount()+1}static getStartColumn(t,r,i,o){let l=o?1:-1,u=null;if(Ce.isValidBarcodeColumn(t,r-l)&&(u=t.getDetectionResultColumn(r-l).getCodeword(i)),u!=null)return o?u.getEndX():u.getStartX();if(u=t.getDetectionResultColumn(r).getCodewordNearby(i),u!=null)return o?u.getStartX():u.getEndX();if(Ce.isValidBarcodeColumn(t,r-l)&&(u=t.getDetectionResultColumn(r-l).getCodewordNearby(i)),u!=null)return o?u.getEndX():u.getStartX();let f=0;for(;Ce.isValidBarcodeColumn(t,r-l);){r-=l;for(let h of t.getDetectionResultColumn(r).getCodewords())if(h!=null)return(o?h.getEndX():h.getStartX())+l*f*(h.getEndX()-h.getStartX());f++}return o?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()}static detectCodeword(t,r,i,o,l,u,f,h){l=Ce.adjustCodewordStartColumn(t,r,i,o,l,u);let g=Ce.getModuleBitCount(t,r,i,o,l,u);if(g==null)return null;let p,v=Te.sum(g);if(o)p=l+v;else{for(let O=0;O<g.length/2;O++){let D=g[O];g[O]=g[g.length-1-O],g[g.length-1-O]=D}p=l,l=p-v}if(!Ce.checkCodewordSkew(v,f,h))return null;let A=Xt.getDecodedValue(g),I=me.getCodeword(A);return I===-1?null:new ns(l,p,Ce.getCodewordBucketNumber(A),I)}static getModuleBitCount(t,r,i,o,l,u){let f=l,h=new Int32Array(8),g=0,p=o?1:-1,v=o;for(;(o?f<i:f>=r)&&g<h.length;)t.get(f,u)===v?(h[g]++,f+=p):(g++,v=!v);return g===h.length||f===(o?i:r)&&g===h.length-1?h:null}static getNumberOfECCodeWords(t){return 2<<t}static adjustCodewordStartColumn(t,r,i,o,l,u){let f=l,h=o?-1:1;for(let g=0;g<2;g++){for(;(o?f>=r:f<i)&&o===t.get(f,u);){if(Math.abs(l-f)>Ce.CODEWORD_SKEW_SIZE)return l;f+=h}h=-h,o=!o}return f}static checkCodewordSkew(t,r,i){return r-Ce.CODEWORD_SKEW_SIZE<=t&&t<=i+Ce.CODEWORD_SKEW_SIZE}static decodeCodewords(t,r,i){if(t.length===0)throw P.getFormatInstance();let o=1<<r+1,l=Ce.correctErrors(t,i,o);Ce.verifyCodewordCount(t,o);let u=z.decode(t,""+r);return u.setErrorsCorrected(l),u.setErasures(i.length),u}static correctErrors(t,r,i){if(r!=null&&r.length>i/2+Ce.MAX_ERRORS||i<0||i>Ce.MAX_EC_CODEWORDS)throw F.getChecksumInstance();return Ce.errorCorrection.decode(t,i,r)}static verifyCodewordCount(t,r){if(t.length<4)throw P.getFormatInstance();let i=t[0];if(i>t.length)throw P.getFormatInstance();if(i===0)if(r<t.length)t[0]=t.length-r;else throw P.getFormatInstance()}static getBitCountForCodeword(t){let r=new Int32Array(8),i=0,o=r.length-1;for(;!((t&1)!==i&&(i=t&1,o--,o<0));)r[o]++,t>>=1;return r}static getCodewordBucketNumber(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)}static getCodewordBucketNumber_number(t){return Ce.getCodewordBucketNumber(Ce.getBitCountForCodeword(t))}static getCodewordBucketNumber_Int32Array(t){return(t[0]-t[2]+t[4]-t[6]+9)%9}static toString(t){let r=new Ji;for(let i=0;i<t.length;i++){r.format("Row %2d: ",i);for(let o=0;o<t[i].length;o++){let l=t[i][o];l.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",l.getValue()[0],l.getConfidence(l.getValue()[0]))}r.format("%n")}return r.toString()}}Ce.CODEWORD_SKEW_SIZE=2,Ce.MAX_ERRORS=3,Ce.MAX_EC_CODEWORDS=512,Ce.errorCorrection=new Oc;class Nt{decode(t,r=null){let i=Nt.decode(t,r,!1);if(i==null||i.length===0||i[0]==null)throw L.getNotFoundInstance();return i[0]}decodeMultiple(t,r=null){try{return Nt.decode(t,r,!0)}catch(i){throw i instanceof P||i instanceof F?L.getNotFoundInstance():i}}static decode(t,r,i){const o=new Array,l=Ee.detectMultiple(t,r,i);for(const u of l.getPoints()){const f=Ce.decode(l.getBits(),u[4],u[5],u[6],u[7],Nt.getMinCodewordWidth(u),Nt.getMaxCodewordWidth(u)),h=new ze(f.getText(),f.getRawBytes(),void 0,u,le.PDF_417);h.putMetadata(oe.ERROR_CORRECTION_LEVEL,f.getECLevel());const g=f.getOther();g!=null&&h.putMetadata(oe.PDF417_EXTRA_METADATA,g),o.push(h)}return o.map(u=>u)}static getMaxWidth(t,r){return t==null||r==null?0:Math.trunc(Math.abs(t.getX()-r.getX()))}static getMinWidth(t,r){return t==null||r==null?_.MAX_VALUE:Math.trunc(Math.abs(t.getX()-r.getX()))}static getMaxCodewordWidth(t){return Math.floor(Math.max(Math.max(Nt.getMaxWidth(t[0],t[4]),Nt.getMaxWidth(t[6],t[2])*me.MODULES_IN_CODEWORD/me.MODULES_IN_STOP_PATTERN),Math.max(Nt.getMaxWidth(t[1],t[5]),Nt.getMaxWidth(t[7],t[3])*me.MODULES_IN_CODEWORD/me.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(t){return Math.floor(Math.min(Math.min(Nt.getMinWidth(t[0],t[4]),Nt.getMinWidth(t[6],t[2])*me.MODULES_IN_CODEWORD/me.MODULES_IN_STOP_PATTERN),Math.min(Nt.getMinWidth(t[1],t[5]),Nt.getMinWidth(t[7],t[3])*me.MODULES_IN_CODEWORD/me.MODULES_IN_STOP_PATTERN)))}reset(){}}class oo extends m{}oo.kind="ReaderException";class Bc{constructor(t,r){this.verbose=t===!0,r&&this.setHints(r)}decode(t,r){return r&&this.setHints(r),this.decodeInternal(t)}decodeWithState(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)}setHints(t){this.hints=t;const r=!a(t)&&t.get(K.TRY_HARDER)===!0,i=a(t)?null:t.get(K.POSSIBLE_FORMATS),o=new Array;if(!a(i)){const l=i.some(u=>u===le.UPC_A||u===le.UPC_E||u===le.EAN_13||u===le.EAN_8||u===le.CODABAR||u===le.CODE_39||u===le.CODE_93||u===le.CODE_128||u===le.ITF||u===le.RSS_14||u===le.RSS_EXPANDED);l&&!r&&o.push(new li(t,this.verbose)),i.includes(le.QR_CODE)&&o.push(new or),i.includes(le.DATA_MATRIX)&&o.push(new sr),i.includes(le.AZTEC)&&o.push(new eo),i.includes(le.PDF_417)&&o.push(new Nt),l&&r&&o.push(new li(t,this.verbose))}o.length===0&&(r||o.push(new li(t,this.verbose)),o.push(new or),o.push(new sr),o.push(new eo),o.push(new Nt),r&&o.push(new li(t,this.verbose))),this.readers=o}reset(){if(this.readers!==null)for(const t of this.readers)t.reset()}decodeInternal(t){if(this.readers===null)throw new oo("No readers where selected, nothing can be read.");for(const r of this.readers)try{return r.decode(t,this.hints)}catch(i){if(i instanceof oo)continue}throw new L("No MultiFormat Readers were able to detect the code.")}}class uh extends zt{constructor(t=null,r=500){const i=new Bc;i.setHints(t),super(i,r)}decodeBitmap(t){return this.reader.decodeWithState(t)}}class ch extends zt{constructor(t=500){super(new Nt,t)}}class fh extends zt{constructor(t=500){super(new or,t)}}var Hl;(function(C){C[C.ERROR_CORRECTION=0]="ERROR_CORRECTION",C[C.CHARACTER_SET=1]="CHARACTER_SET",C[C.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",C[C.MIN_SIZE=3]="MIN_SIZE",C[C.MAX_SIZE=4]="MAX_SIZE",C[C.MARGIN=5]="MARGIN",C[C.PDF417_COMPACT=6]="PDF417_COMPACT",C[C.PDF417_COMPACTION=7]="PDF417_COMPACTION",C[C.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",C[C.AZTEC_LAYERS=9]="AZTEC_LAYERS",C[C.QR_VERSION=10]="QR_VERSION"})(Hl||(Hl={}));var pt=Hl;class Gl{constructor(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new Wt(t,Int32Array.from([1])))}buildGenerator(t){const r=this.cachedGenerators;if(t>=r.length){let i=r[r.length-1];const o=this.field;for(let l=r.length;l<=t;l++){const u=i.multiply(new Wt(o,Int32Array.from([1,o.exp(l-1+o.getGeneratorBase())])));r.push(u),i=u}}return r[t]}encode(t,r){if(r===0)throw new S("No error correction bytes");const i=t.length-r;if(i<=0)throw new S("No data bytes provided");const o=this.buildGenerator(r),l=new Int32Array(i);M.arraycopy(t,0,l,0,i);let u=new Wt(this.field,l);u=u.multiplyByMonomial(r,1);const h=u.divide(o)[1].getCoefficients(),g=r-h.length;for(let p=0;p<g;p++)t[i+p]=0;M.arraycopy(h,0,t,i+g,h.length)}}class st{constructor(){}static applyMaskPenaltyRule1(t){return st.applyMaskPenaltyRule1Internal(t,!0)+st.applyMaskPenaltyRule1Internal(t,!1)}static applyMaskPenaltyRule2(t){let r=0;const i=t.getArray(),o=t.getWidth(),l=t.getHeight();for(let u=0;u<l-1;u++){const f=i[u];for(let h=0;h<o-1;h++){const g=f[h];g===f[h+1]&&g===i[u+1][h]&&g===i[u+1][h+1]&&r++}}return st.N2*r}static applyMaskPenaltyRule3(t){let r=0;const i=t.getArray(),o=t.getWidth(),l=t.getHeight();for(let u=0;u<l;u++)for(let f=0;f<o;f++){const h=i[u];f+6<o&&h[f]===1&&h[f+1]===0&&h[f+2]===1&&h[f+3]===1&&h[f+4]===1&&h[f+5]===0&&h[f+6]===1&&(st.isWhiteHorizontal(h,f-4,f)||st.isWhiteHorizontal(h,f+7,f+11))&&r++,u+6<l&&i[u][f]===1&&i[u+1][f]===0&&i[u+2][f]===1&&i[u+3][f]===1&&i[u+4][f]===1&&i[u+5][f]===0&&i[u+6][f]===1&&(st.isWhiteVertical(i,f,u-4,u)||st.isWhiteVertical(i,f,u+7,u+11))&&r++}return r*st.N3}static isWhiteHorizontal(t,r,i){r=Math.max(r,0),i=Math.min(i,t.length);for(let o=r;o<i;o++)if(t[o]===1)return!1;return!0}static isWhiteVertical(t,r,i,o){i=Math.max(i,0),o=Math.min(o,t.length);for(let l=i;l<o;l++)if(t[l][r]===1)return!1;return!0}static applyMaskPenaltyRule4(t){let r=0;const i=t.getArray(),o=t.getWidth(),l=t.getHeight();for(let h=0;h<l;h++){const g=i[h];for(let p=0;p<o;p++)g[p]===1&&r++}const u=t.getHeight()*t.getWidth();return Math.floor(Math.abs(r*2-u)*10/u)*st.N4}static getDataMaskBit(t,r,i){let o,l;switch(t){case 0:o=i+r&1;break;case 1:o=i&1;break;case 2:o=r%3;break;case 3:o=(i+r)%3;break;case 4:o=Math.floor(i/2)+Math.floor(r/3)&1;break;case 5:l=i*r,o=(l&1)+l%3;break;case 6:l=i*r,o=(l&1)+l%3&1;break;case 7:l=i*r,o=l%3+(i+r&1)&1;break;default:throw new S("Invalid mask pattern: "+t)}return o===0}static applyMaskPenaltyRule1Internal(t,r){let i=0;const o=r?t.getHeight():t.getWidth(),l=r?t.getWidth():t.getHeight(),u=t.getArray();for(let f=0;f<o;f++){let h=0,g=-1;for(let p=0;p<l;p++){const v=r?u[f][p]:u[p][f];v===g?h++:(h>=5&&(i+=st.N1+(h-5)),h=1,g=v)}h>=5&&(i+=st.N1+(h-5))}return i}}st.N1=3,st.N2=3,st.N3=40,st.N4=10;class lo{constructor(t,r){this.width=t,this.height=r;const i=new Array(r);for(let o=0;o!==r;o++)i[o]=new Uint8Array(t);this.bytes=i}getHeight(){return this.height}getWidth(){return this.width}get(t,r){return this.bytes[r][t]}getArray(){return this.bytes}setNumber(t,r,i){this.bytes[r][t]=i}setBoolean(t,r,i){this.bytes[r][t]=i?1:0}clear(t){for(const r of this.bytes)T.fill(r,t)}equals(t){if(!(t instanceof lo))return!1;const r=t;if(this.width!==r.width||this.height!==r.height)return!1;for(let i=0,o=this.height;i<o;++i){const l=this.bytes[i],u=r.bytes[i];for(let f=0,h=this.width;f<h;++f)if(l[f]!==u[f])return!1}return!0}toString(){const t=new we;for(let r=0,i=this.height;r<i;++r){const o=this.bytes[r];for(let l=0,u=this.width;l<u;++l)switch(o[l]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()}}class jr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const t=new we;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()}setMode(t){this.mode=t}setECLevel(t){this.ecLevel=t}setVersion(t){this.version=t}setMaskPattern(t){this.maskPattern=t}setMatrix(t){this.matrix=t}static isValidMaskPattern(t){return t>=0&&t<jr.NUM_MASK_PATTERNS}}jr.NUM_MASK_PATTERNS=8;class Ue extends m{}Ue.kind="WriterException";class pe{constructor(){}static clearMatrix(t){t.clear(255)}static buildMatrix(t,r,i,o,l){pe.clearMatrix(l),pe.embedBasicPatterns(i,l),pe.embedTypeInfo(r,o,l),pe.maybeEmbedVersionInfo(i,l),pe.embedDataBits(t,o,l)}static embedBasicPatterns(t,r){pe.embedPositionDetectionPatternsAndSeparators(r),pe.embedDarkDotAtLeftBottomCorner(r),pe.maybeEmbedPositionAdjustmentPatterns(t,r),pe.embedTimingPatterns(r)}static embedTypeInfo(t,r,i){const o=new V;pe.makeTypeInfoBits(t,r,o);for(let l=0,u=o.getSize();l<u;++l){const f=o.get(o.getSize()-1-l),h=pe.TYPE_INFO_COORDINATES[l],g=h[0],p=h[1];if(i.setBoolean(g,p,f),l<8){const v=i.getWidth()-l-1;i.setBoolean(v,8,f)}else{const A=i.getHeight()-7+(l-8);i.setBoolean(8,A,f)}}}static maybeEmbedVersionInfo(t,r){if(t.getVersionNumber()<7)return;const i=new V;pe.makeVersionInfoBits(t,i);let o=6*3-1;for(let l=0;l<6;++l)for(let u=0;u<3;++u){const f=i.get(o);o--,r.setBoolean(l,r.getHeight()-11+u,f),r.setBoolean(r.getHeight()-11+u,l,f)}}static embedDataBits(t,r,i){let o=0,l=-1,u=i.getWidth()-1,f=i.getHeight()-1;for(;u>0;){for(u===6&&(u-=1);f>=0&&f<i.getHeight();){for(let h=0;h<2;++h){const g=u-h;if(!pe.isEmpty(i.get(g,f)))continue;let p;o<t.getSize()?(p=t.get(o),++o):p=!1,r!==255&&st.getDataMaskBit(r,g,f)&&(p=!p),i.setBoolean(g,f,p)}f+=l}l=-l,f+=l,u-=2}if(o!==t.getSize())throw new Ue("Not all bits consumed: "+o+"/"+t.getSize())}static findMSBSet(t){return 32-_.numberOfLeadingZeros(t)}static calculateBCHCode(t,r){if(r===0)throw new S("0 polynomial");const i=pe.findMSBSet(r);for(t<<=i-1;pe.findMSBSet(t)>=i;)t^=r<<pe.findMSBSet(t)-i;return t}static makeTypeInfoBits(t,r,i){if(!jr.isValidMaskPattern(r))throw new Ue("Invalid mask pattern");const o=t.getBits()<<3|r;i.appendBits(o,5);const l=pe.calculateBCHCode(o,pe.TYPE_INFO_POLY);i.appendBits(l,10);const u=new V;if(u.appendBits(pe.TYPE_INFO_MASK_PATTERN,15),i.xor(u),i.getSize()!==15)throw new Ue("should not happen but we got: "+i.getSize())}static makeVersionInfoBits(t,r){r.appendBits(t.getVersionNumber(),6);const i=pe.calculateBCHCode(t.getVersionNumber(),pe.VERSION_INFO_POLY);if(r.appendBits(i,12),r.getSize()!==18)throw new Ue("should not happen but we got: "+r.getSize())}static isEmpty(t){return t===255}static embedTimingPatterns(t){for(let r=8;r<t.getWidth()-8;++r){const i=(r+1)%2;pe.isEmpty(t.get(r,6))&&t.setNumber(r,6,i),pe.isEmpty(t.get(6,r))&&t.setNumber(6,r,i)}}static embedDarkDotAtLeftBottomCorner(t){if(t.get(8,t.getHeight()-8)===0)throw new Ue;t.setNumber(8,t.getHeight()-8,1)}static embedHorizontalSeparationPattern(t,r,i){for(let o=0;o<8;++o){if(!pe.isEmpty(i.get(t+o,r)))throw new Ue;i.setNumber(t+o,r,0)}}static embedVerticalSeparationPattern(t,r,i){for(let o=0;o<7;++o){if(!pe.isEmpty(i.get(t,r+o)))throw new Ue;i.setNumber(t,r+o,0)}}static embedPositionAdjustmentPattern(t,r,i){for(let o=0;o<5;++o){const l=pe.POSITION_ADJUSTMENT_PATTERN[o];for(let u=0;u<5;++u)i.setNumber(t+u,r+o,l[u])}}static embedPositionDetectionPattern(t,r,i){for(let o=0;o<7;++o){const l=pe.POSITION_DETECTION_PATTERN[o];for(let u=0;u<7;++u)i.setNumber(t+u,r+o,l[u])}}static embedPositionDetectionPatternsAndSeparators(t){const r=pe.POSITION_DETECTION_PATTERN[0].length;pe.embedPositionDetectionPattern(0,0,t),pe.embedPositionDetectionPattern(t.getWidth()-r,0,t),pe.embedPositionDetectionPattern(0,t.getWidth()-r,t);const i=8;pe.embedHorizontalSeparationPattern(0,i-1,t),pe.embedHorizontalSeparationPattern(t.getWidth()-i,i-1,t),pe.embedHorizontalSeparationPattern(0,t.getWidth()-i,t);const o=7;pe.embedVerticalSeparationPattern(o,0,t),pe.embedVerticalSeparationPattern(t.getHeight()-o-1,0,t),pe.embedVerticalSeparationPattern(o,t.getHeight()-o,t)}static maybeEmbedPositionAdjustmentPatterns(t,r){if(t.getVersionNumber()<2)return;const i=t.getVersionNumber()-1,o=pe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[i];for(let l=0,u=o.length;l!==u;l++){const f=o[l];if(f>=0)for(let h=0;h!==u;h++){const g=o[h];g>=0&&pe.isEmpty(r.get(g,f))&&pe.embedPositionAdjustmentPattern(g-2,f-2,r)}}}}pe.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),pe.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),pe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),pe.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),pe.VERSION_INFO_POLY=7973,pe.TYPE_INFO_POLY=1335,pe.TYPE_INFO_MASK_PATTERN=21522;class dh{constructor(t,r){this.dataBytes=t,this.errorCorrectionBytes=r}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Xe{constructor(){}static calculateMaskPenalty(t){return st.applyMaskPenaltyRule1(t)+st.applyMaskPenaltyRule2(t)+st.applyMaskPenaltyRule3(t)+st.applyMaskPenaltyRule4(t)}static encode(t,r,i=null){let o=Xe.DEFAULT_BYTE_MODE_ENCODING;const l=i!==null&&i.get(pt.CHARACTER_SET)!==void 0;l&&(o=i.get(pt.CHARACTER_SET).toString());const u=this.chooseMode(t,o),f=new V;if(u===ge.BYTE&&(l||Xe.DEFAULT_BYTE_MODE_ENCODING!==o)){const ee=X.getCharacterSetECIByName(o);ee!==void 0&&this.appendECI(ee,f)}this.appendModeInfo(u,f);const h=new V;this.appendBytes(t,u,h,o);let g;if(i!==null&&i.get(pt.QR_VERSION)!==void 0){const ee=Number.parseInt(i.get(pt.QR_VERSION).toString(),10);g=de.getVersionForNumber(ee);const Z=this.calculateBitsNeeded(u,f,h,g);if(!this.willFit(Z,g,r))throw new Ue("Data too big for requested version")}else g=this.recommendVersion(r,u,f,h);const p=new V;p.appendBitArray(f);const v=u===ge.BYTE?h.getSizeInBytes():t.length;this.appendLengthInfo(v,g,u,p),p.appendBitArray(h);const A=g.getECBlocksForLevel(r),I=g.getTotalCodewords()-A.getTotalECCodewords();this.terminateBits(I,p);const O=this.interleaveWithECBytes(p,g.getTotalCodewords(),I,A.getNumBlocks()),D=new jr;D.setECLevel(r),D.setMode(u),D.setVersion(g);const B=g.getDimensionForVersion(),W=new lo(B,B),J=this.chooseMaskPattern(O,r,g,W);return D.setMaskPattern(J),pe.buildMatrix(O,r,g,J,W),D.setMatrix(W),D}static recommendVersion(t,r,i,o){const l=this.calculateBitsNeeded(r,i,o,de.getVersionForNumber(1)),u=this.chooseVersion(l,t),f=this.calculateBitsNeeded(r,i,o,u);return this.chooseVersion(f,t)}static calculateBitsNeeded(t,r,i,o){return r.getSize()+t.getCharacterCountBits(o)+i.getSize()}static getAlphanumericCode(t){return t<Xe.ALPHANUMERIC_TABLE.length?Xe.ALPHANUMERIC_TABLE[t]:-1}static chooseMode(t,r=null){if(X.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(t))return ge.KANJI;let i=!1,o=!1;for(let l=0,u=t.length;l<u;++l){const f=t.charAt(l);if(Xe.isDigit(f))i=!0;else if(this.getAlphanumericCode(f.charCodeAt(0))!==-1)o=!0;else return ge.BYTE}return o?ge.ALPHANUMERIC:i?ge.NUMERIC:ge.BYTE}static isOnlyDoubleByteKanji(t){let r;try{r=Ie.encode(t,X.SJIS)}catch{return!1}const i=r.length;if(i%2!==0)return!1;for(let o=0;o<i;o+=2){const l=r[o]&255;if((l<129||l>159)&&(l<224||l>235))return!1}return!0}static chooseMaskPattern(t,r,i,o){let l=Number.MAX_SAFE_INTEGER,u=-1;for(let f=0;f<jr.NUM_MASK_PATTERNS;f++){pe.buildMatrix(t,r,i,f,o);let h=this.calculateMaskPenalty(o);h<l&&(l=h,u=f)}return u}static chooseVersion(t,r){for(let i=1;i<=40;i++){const o=de.getVersionForNumber(i);if(Xe.willFit(t,o,r))return o}throw new Ue("Data too big")}static willFit(t,r,i){const o=r.getTotalCodewords(),u=r.getECBlocksForLevel(i).getTotalECCodewords(),f=o-u,h=(t+7)/8;return f>=h}static terminateBits(t,r){const i=t*8;if(r.getSize()>i)throw new Ue("data bits cannot fit in the QR Code"+r.getSize()+" > "+i);for(let u=0;u<4&&r.getSize()<i;++u)r.appendBit(!1);const o=r.getSize()&7;if(o>0)for(let u=o;u<8;u++)r.appendBit(!1);const l=t-r.getSizeInBytes();for(let u=0;u<l;++u)r.appendBits(u&1?17:236,8);if(r.getSize()!==i)throw new Ue("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(t,r,i,o,l,u){if(o>=i)throw new Ue("Block ID too large");const f=t%i,h=i-f,g=Math.floor(t/i),p=g+1,v=Math.floor(r/i),A=v+1,I=g-v,O=p-A;if(I!==O)throw new Ue("EC bytes mismatch");if(i!==h+f)throw new Ue("RS blocks mismatch");if(t!==(v+I)*h+(A+O)*f)throw new Ue("Total bytes mismatch");o<h?(l[0]=v,u[0]=I):(l[0]=A,u[0]=O)}static interleaveWithECBytes(t,r,i,o){if(t.getSizeInBytes()!==i)throw new Ue("Number of bits and data bytes does not match");let l=0,u=0,f=0;const h=new Array;for(let p=0;p<o;++p){const v=new Int32Array(1),A=new Int32Array(1);Xe.getNumDataBytesAndNumECBytesForBlockID(r,i,o,p,v,A);const I=v[0],O=new Uint8Array(I);t.toBytes(8*l,O,0,I);const D=Xe.generateECBytes(O,A[0]);h.push(new dh(O,D)),u=Math.max(u,I),f=Math.max(f,D.length),l+=v[0]}if(i!==l)throw new Ue("Data bytes does not match offset");const g=new V;for(let p=0;p<u;++p)for(const v of h){const A=v.getDataBytes();p<A.length&&g.appendBits(A[p],8)}for(let p=0;p<f;++p)for(const v of h){const A=v.getErrorCorrectionBytes();p<A.length&&g.appendBits(A[p],8)}if(r!==g.getSizeInBytes())throw new Ue("Interleaving error: "+r+" and "+g.getSizeInBytes()+" differ.");return g}static generateECBytes(t,r){const i=t.length,o=new Int32Array(i+r);for(let u=0;u<i;u++)o[u]=t[u]&255;new Gl(Oe.QR_CODE_FIELD_256).encode(o,r);const l=new Uint8Array(r);for(let u=0;u<r;u++)l[u]=o[i+u];return l}static appendModeInfo(t,r){r.appendBits(t.getBits(),4)}static appendLengthInfo(t,r,i,o){const l=i.getCharacterCountBits(r);if(t>=1<<l)throw new Ue(t+" is bigger than "+((1<<l)-1));o.appendBits(t,l)}static appendBytes(t,r,i,o){switch(r){case ge.NUMERIC:Xe.appendNumericBytes(t,i);break;case ge.ALPHANUMERIC:Xe.appendAlphanumericBytes(t,i);break;case ge.BYTE:Xe.append8BitBytes(t,i,o);break;case ge.KANJI:Xe.appendKanjiBytes(t,i);break;default:throw new Ue("Invalid mode: "+r)}}static getDigit(t){return t.charCodeAt(0)-48}static isDigit(t){const r=Xe.getDigit(t);return r>=0&&r<=9}static appendNumericBytes(t,r){const i=t.length;let o=0;for(;o<i;){const l=Xe.getDigit(t.charAt(o));if(o+2<i){const u=Xe.getDigit(t.charAt(o+1)),f=Xe.getDigit(t.charAt(o+2));r.appendBits(l*100+u*10+f,10),o+=3}else if(o+1<i){const u=Xe.getDigit(t.charAt(o+1));r.appendBits(l*10+u,7),o+=2}else r.appendBits(l,4),o++}}static appendAlphanumericBytes(t,r){const i=t.length;let o=0;for(;o<i;){const l=Xe.getAlphanumericCode(t.charCodeAt(o));if(l===-1)throw new Ue;if(o+1<i){const u=Xe.getAlphanumericCode(t.charCodeAt(o+1));if(u===-1)throw new Ue;r.appendBits(l*45+u,11),o+=2}else r.appendBits(l,6),o++}}static append8BitBytes(t,r,i){let o;try{o=Ie.encode(t,i)}catch(l){throw new Ue(l)}for(let l=0,u=o.length;l!==u;l++){const f=o[l];r.appendBits(f,8)}}static appendKanjiBytes(t,r){let i;try{i=Ie.encode(t,X.SJIS)}catch(l){throw new Ue(l)}const o=i.length;for(let l=0;l<o;l+=2){const u=i[l]&255,f=i[l+1]&255,h=u<<8&4294967295|f;let g=-1;if(h>=33088&&h<=40956?g=h-33088:h>=57408&&h<=60351&&(g=h-49472),g===-1)throw new Ue("Invalid byte sequence");const p=(g>>8)*192+(g&255);r.appendBits(p,13)}}static appendECI(t,r){r.appendBits(ge.ECI.getBits(),4),r.appendBits(t.getValue(),8)}}Xe.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Xe.DEFAULT_BYTE_MODE_ENCODING=X.UTF8.getName();class Ur{write(t,r,i,o=null){if(t.length===0)throw new S("Found empty contents");if(r<0||i<0)throw new S("Requested dimensions are too small: "+r+"x"+i);let l=He.L,u=Ur.QUIET_ZONE_SIZE;o!==null&&(o.get(pt.ERROR_CORRECTION)!==void 0&&(l=He.fromString(o.get(pt.ERROR_CORRECTION).toString())),o.get(pt.MARGIN)!==void 0&&(u=Number.parseInt(o.get(pt.MARGIN).toString(),10)));const f=Xe.encode(t,l,o);return this.renderResult(f,r,i,u)}writeToDom(t,r,i,o,l=null){typeof t=="string"&&(t=document.querySelector(t));const u=this.write(r,i,o,l);t&&t.appendChild(u)}renderResult(t,r,i,o){const l=t.getMatrix();if(l===null)throw new Dn;const u=l.getWidth(),f=l.getHeight(),h=u+o*2,g=f+o*2,p=Math.max(r,h),v=Math.max(i,g),A=Math.min(Math.floor(p/h),Math.floor(v/g)),I=Math.floor((p-u*A)/2),O=Math.floor((v-f*A)/2),D=this.createSVGElement(p,v);for(let B=0,W=O;B<f;B++,W+=A)for(let J=0,ee=I;J<u;J++,ee+=A)if(l.get(J,B)===1){const Z=this.createSvgRectElement(ee,W,A,A);D.appendChild(Z)}return D}createSVGElement(t,r){const i=document.createElementNS(Ur.SVG_NS,"svg");return i.setAttributeNS(null,"height",t.toString()),i.setAttributeNS(null,"width",r.toString()),i}createSvgRectElement(t,r,i,o){const l=document.createElementNS(Ur.SVG_NS,"rect");return l.setAttributeNS(null,"x",t.toString()),l.setAttributeNS(null,"y",r.toString()),l.setAttributeNS(null,"height",i.toString()),l.setAttributeNS(null,"width",o.toString()),l.setAttributeNS(null,"fill","#000000"),l}}Ur.QUIET_ZONE_SIZE=4,Ur.SVG_NS="http://www.w3.org/2000/svg";class ui{encode(t,r,i,o,l){if(t.length===0)throw new S("Found empty contents");if(r!==le.QR_CODE)throw new S("Can only encode QR_CODE, but got "+r);if(i<0||o<0)throw new S(`Requested dimensions are too small: ${i}x${o}`);let u=He.L,f=ui.QUIET_ZONE_SIZE;l!==null&&(l.get(pt.ERROR_CORRECTION)!==void 0&&(u=He.fromString(l.get(pt.ERROR_CORRECTION).toString())),l.get(pt.MARGIN)!==void 0&&(f=Number.parseInt(l.get(pt.MARGIN).toString(),10)));const h=Xe.encode(t,u,l);return ui.renderResult(h,i,o,f)}static renderResult(t,r,i,o){const l=t.getMatrix();if(l===null)throw new Dn;const u=l.getWidth(),f=l.getHeight(),h=u+o*2,g=f+o*2,p=Math.max(r,h),v=Math.max(i,g),A=Math.min(Math.floor(p/h),Math.floor(v/g)),I=Math.floor((p-u*A)/2),O=Math.floor((v-f*A)/2),D=new Be(p,v);for(let B=0,W=O;B<f;B++,W+=A)for(let J=0,ee=I;J<u;J++,ee+=A)l.get(J,B)===1&&D.setRegion(ee,W,A,A);return D}}ui.QUIET_ZONE_SIZE=4;class hh{encode(t,r,i,o,l){let u;switch(r){case le.QR_CODE:u=new ui;break;default:throw new S("No encoder available for format "+r)}return u.encode(t,r,i,o,l)}}class Ln extends te{constructor(t,r,i,o,l,u,f,h){if(super(u,f),this.yuvData=t,this.dataWidth=r,this.dataHeight=i,this.left=o,this.top=l,o+u>r||l+f>i)throw new S("Crop rectangle does not fit within image data.");h&&this.reverseHorizontal(u,f)}getRow(t,r){if(t<0||t>=this.getHeight())throw new S("Requested row is outside the image: "+t);const i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));const o=(t+this.top)*this.dataWidth+this.left;return M.arraycopy(this.yuvData,o,r,0,i),r}getMatrix(){const t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.yuvData;const i=t*r,o=new Uint8ClampedArray(i);let l=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return M.arraycopy(this.yuvData,l,o,0,i),o;for(let u=0;u<r;u++){const f=u*t;M.arraycopy(this.yuvData,l,o,f,t),l+=this.dataWidth}return o}isCropSupported(){return!0}crop(t,r,i,o){return new Ln(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+r,i,o,!1)}renderThumbnail(){const t=this.getWidth()/Ln.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/Ln.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(t*r),o=this.yuvData;let l=this.top*this.dataWidth+this.left;for(let u=0;u<r;u++){const f=u*t;for(let h=0;h<t;h++){const g=o[l+h*Ln.THUMBNAIL_SCALE_FACTOR]&255;i[f+h]=4278190080|g*65793}l+=this.dataWidth*Ln.THUMBNAIL_SCALE_FACTOR}return i}getThumbnailWidth(){return this.getWidth()/Ln.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Ln.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(t,r){const i=this.yuvData;for(let o=0,l=this.top*this.dataWidth+this.left;o<r;o++,l+=this.dataWidth){const u=l+t/2;for(let f=l,h=l+t-1;f<u;f++,h--){const g=i[f];i[f]=i[h],i[h]=g}}}invert(){return new xe(this)}}Ln.THUMBNAIL_SCALE_FACTOR=2;class Xl extends te{constructor(t,r,i,o,l,u,f){if(super(r,i),this.dataWidth=o,this.dataHeight=l,this.left=u,this.top=f,t.BYTES_PER_ELEMENT===4){const h=r*i,g=new Uint8ClampedArray(h);for(let p=0;p<h;p++){const v=t[p],A=v>>16&255,I=v>>7&510,O=v&255;g[p]=(A+I+O)/4&255}this.luminances=g}else this.luminances=t;if(o===void 0&&(this.dataWidth=r),l===void 0&&(this.dataHeight=i),u===void 0&&(this.left=0),f===void 0&&(this.top=0),this.left+r>this.dataWidth||this.top+i>this.dataHeight)throw new S("Crop rectangle does not fit within image data.")}getRow(t,r){if(t<0||t>=this.getHeight())throw new S("Requested row is outside the image: "+t);const i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));const o=(t+this.top)*this.dataWidth+this.left;return M.arraycopy(this.luminances,o,r,0,i),r}getMatrix(){const t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.luminances;const i=t*r,o=new Uint8ClampedArray(i);let l=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return M.arraycopy(this.luminances,l,o,0,i),o;for(let u=0;u<r;u++){const f=u*t;M.arraycopy(this.luminances,l,o,f,t),l+=this.dataWidth}return o}isCropSupported(){return!0}crop(t,r,i,o){return new Xl(this.luminances,i,o,this.dataWidth,this.dataHeight,this.left+t,this.top+r)}invert(){return new xe(this)}}class Fc extends X{static forName(t){return this.getCharacterSetECIByName(t)}}class Yl{}Yl.ISO_8859_1=X.ISO8859_1;class jc{isCompact(){return this.compact}setCompact(t){this.compact=t}getSize(){return this.size}setSize(t){this.size=t}getLayers(){return this.layers}setLayers(t){this.layers=t}getCodeWords(){return this.codeWords}setCodeWords(t){this.codeWords=t}getMatrix(){return this.matrix}setMatrix(t){this.matrix=t}}class Uc{static singletonList(t){return[t]}static min(t,r){return t.sort(r)[0]}}class gh{constructor(t){this.previous=t}getPrevious(){return this.previous}}class ci extends gh{constructor(t,r,i){super(t),this.value=r,this.bitCount=i}appendTo(t,r){t.appendBits(this.value,this.bitCount)}add(t,r){return new ci(this,t,r)}addBinaryShift(t,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new ci(this,t,r)}toString(){let t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+_.toBinaryString(t|1<<this.bitCount).substring(1)+">"}}class Zl extends ci{constructor(t,r,i){super(t,0,0),this.binaryShiftStart=r,this.binaryShiftByteCount=i}appendTo(t,r){for(let i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):i===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(r[this.binaryShiftStart+i],8)}addBinaryShift(t,r){return new Zl(this,t,r)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function xh(C,t,r){return new Zl(C,t,r)}function rs(C,t,r){return new ci(C,t,r)}const ph=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],ar=0,ao=1,gn=2,Vc=3,Bn=4,mh=new ci(null,0,0),Kl=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function wh(C){for(let t of C)T.fill(t,-1);return C[ar][Bn]=0,C[ao][Bn]=0,C[ao][ar]=28,C[Vc][Bn]=0,C[gn][Bn]=0,C[gn][ar]=15,C}const zc=wh(T.createInt32Array(6,6));class Fn{constructor(t,r,i,o){this.token=t,this.mode=r,this.binaryShiftByteCount=i,this.bitCount=o}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(t,r){let i=this.bitCount,o=this.token;if(t!==this.mode){let u=Kl[this.mode][t];o=rs(o,u&65535,u>>16),i+=u>>16}let l=t===gn?4:5;return o=rs(o,r,l),new Fn(o,t,0,i+l)}shiftAndAppend(t,r){let i=this.token,o=this.mode===gn?4:5;return i=rs(i,zc[this.mode][t],o),i=rs(i,r,5),new Fn(i,this.mode,0,this.bitCount+o+5)}addBinaryShiftChar(t){let r=this.token,i=this.mode,o=this.bitCount;if(this.mode===Bn||this.mode===gn){let f=Kl[i][ar];r=rs(r,f&65535,f>>16),o+=f>>16,i=ar}let l=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,u=new Fn(r,i,this.binaryShiftByteCount+1,o+l);return u.binaryShiftByteCount===2078&&(u=u.endBinaryShift(t+1)),u}endBinaryShift(t){if(this.binaryShiftByteCount===0)return this;let r=this.token;return r=xh(r,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new Fn(r,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(t){let r=this.bitCount+(Kl[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?r+=Fn.calculateBinaryShiftCost(t)-Fn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(r+=10),r<=t.bitCount}toBitArray(t){let r=[];for(let o=this.endBinaryShift(t.length).token;o!==null;o=o.getPrevious())r.unshift(o);let i=new V;for(const o of r)o.appendTo(i,t);return i}toString(){return ue.format("%s bits=%d bytes=%d",ph[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0}}Fn.INITIAL_STATE=new Fn(mh,ar,0,0);function yh(C){const t=ue.getCharCode(" "),r=ue.getCharCode("."),i=ue.getCharCode(",");C[ar][t]=1;const o=ue.getCharCode("Z"),l=ue.getCharCode("A");for(let A=l;A<=o;A++)C[ar][A]=A-l+2;C[ao][t]=1;const u=ue.getCharCode("z"),f=ue.getCharCode("a");for(let A=f;A<=u;A++)C[ao][A]=A-f+2;C[gn][t]=1;const h=ue.getCharCode("9"),g=ue.getCharCode("0");for(let A=g;A<=h;A++)C[gn][A]=A-g+2;C[gn][i]=12,C[gn][r]=13;const p=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let A=0;A<p.length;A++)C[Vc][ue.getCharCode(p[A])]=A;const v=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let A=0;A<v.length;A++)ue.getCharCode(v[A])>0&&(C[Bn][ue.getCharCode(v[A])]=A);return C}const Ql=yh(T.createInt32Array(5,256));class is{constructor(t){this.text=t}encode(){const t=ue.getCharCode(" "),r=ue.getCharCode(`
`);let i=Uc.singletonList(Fn.INITIAL_STATE);for(let l=0;l<this.text.length;l++){let u,f=l+1<this.text.length?this.text[l+1]:0;switch(this.text[l]){case ue.getCharCode("\r"):u=f===r?2:0;break;case ue.getCharCode("."):u=f===t?3:0;break;case ue.getCharCode(","):u=f===t?4:0;break;case ue.getCharCode(":"):u=f===t?5:0;break;default:u=0}u>0?(i=is.updateStateListForPair(i,l,u),l++):i=this.updateStateListForChar(i,l)}return Uc.min(i,(l,u)=>l.getBitCount()-u.getBitCount()).toBitArray(this.text)}updateStateListForChar(t,r){const i=[];for(let o of t)this.updateStateForChar(o,r,i);return is.simplifyStates(i)}updateStateForChar(t,r,i){let o=this.text[r]&255,l=Ql[t.getMode()][o]>0,u=null;for(let f=0;f<=Bn;f++){let h=Ql[f][o];if(h>0){if(u==null&&(u=t.endBinaryShift(r)),!l||f===t.getMode()||f===gn){const g=u.latchAndAppend(f,h);i.push(g)}if(!l&&zc[t.getMode()][f]>=0){const g=u.shiftAndAppend(f,h);i.push(g)}}}if(t.getBinaryShiftByteCount()>0||Ql[t.getMode()][o]===0){let f=t.addBinaryShiftChar(r);i.push(f)}}static updateStateListForPair(t,r,i){const o=[];for(let l of t)this.updateStateForPair(l,r,i,o);return this.simplifyStates(o)}static updateStateForPair(t,r,i,o){let l=t.endBinaryShift(r);if(o.push(l.latchAndAppend(Bn,i)),t.getMode()!==Bn&&o.push(l.shiftAndAppend(Bn,i)),i===3||i===4){let u=l.latchAndAppend(gn,16-i).latchAndAppend(gn,1);o.push(u)}if(t.getBinaryShiftByteCount()>0){let u=t.addBinaryShiftChar(r).addBinaryShiftChar(r+1);o.push(u)}}static simplifyStates(t){let r=[];for(const i of t){let o=!0;for(const l of r){if(l.isBetterThanOrEqualTo(i)){o=!1;break}i.isBetterThanOrEqualTo(l)&&(r=r.filter(u=>u!==l))}o&&r.push(i)}return r}}class _e{constructor(){}static encodeBytes(t){return _e.encode(t,_e.DEFAULT_EC_PERCENT,_e.DEFAULT_AZTEC_LAYERS)}static encode(t,r,i){let o=new is(t).encode(),l=_.truncDivision(o.getSize()*r,100)+11,u=o.getSize()+l,f,h,g,p,v;if(i!==_e.DEFAULT_AZTEC_LAYERS){if(f=i<0,h=Math.abs(i),h>(f?_e.MAX_NB_BITS_COMPACT:_e.MAX_NB_BITS))throw new S(ue.format("Illegal value %s for layers",i));g=_e.totalBitsInLayer(h,f),p=_e.WORD_SIZE[h];let Z=g-g%p;if(v=_e.stuffBits(o,p),v.getSize()+l>Z)throw new S("Data to large for user specified layer");if(f&&v.getSize()>p*64)throw new S("Data to large for user specified layer")}else{p=0,v=null;for(let Z=0;;Z++){if(Z>_e.MAX_NB_BITS)throw new S("Data too large for an Aztec code");if(f=Z<=3,h=f?Z+1:Z,g=_e.totalBitsInLayer(h,f),u>g)continue;(v==null||p!==_e.WORD_SIZE[h])&&(p=_e.WORD_SIZE[h],v=_e.stuffBits(o,p));let Se=g-g%p;if(!(f&&v.getSize()>p*64)&&v.getSize()+l<=Se)break}}let A=_e.generateCheckWords(v,g,p),I=v.getSize()/p,O=_e.generateModeMessage(f,h,I),D=(f?11:14)+h*4,B=new Int32Array(D),W;if(f){W=D;for(let Z=0;Z<B.length;Z++)B[Z]=Z}else{W=D+1+2*_.truncDivision(_.truncDivision(D,2)-1,15);let Z=_.truncDivision(D,2),Se=_.truncDivision(W,2);for(let ye=0;ye<Z;ye++){let Yt=ye+_.truncDivision(ye,15);B[Z-ye-1]=Se-Yt-1,B[Z+ye]=Se+Yt+1}}let J=new Be(W);for(let Z=0,Se=0;Z<h;Z++){let ye=(h-Z)*4+(f?9:12);for(let Yt=0;Yt<ye;Yt++){let An=Yt*2;for(let Zt=0;Zt<2;Zt++)A.get(Se+An+Zt)&&J.set(B[Z*2+Zt],B[Z*2+Yt]),A.get(Se+ye*2+An+Zt)&&J.set(B[Z*2+Yt],B[D-1-Z*2-Zt]),A.get(Se+ye*4+An+Zt)&&J.set(B[D-1-Z*2-Zt],B[D-1-Z*2-Yt]),A.get(Se+ye*6+An+Zt)&&J.set(B[D-1-Z*2-Yt],B[Z*2+Zt])}Se+=ye*8}if(_e.drawModeMessage(J,f,W,O),f)_e.drawBullsEye(J,_.truncDivision(W,2),5);else{_e.drawBullsEye(J,_.truncDivision(W,2),7);for(let Z=0,Se=0;Z<_.truncDivision(D,2)-1;Z+=15,Se+=16)for(let ye=_.truncDivision(W,2)&1;ye<W;ye+=2)J.set(_.truncDivision(W,2)-Se,ye),J.set(_.truncDivision(W,2)+Se,ye),J.set(ye,_.truncDivision(W,2)-Se),J.set(ye,_.truncDivision(W,2)+Se)}let ee=new jc;return ee.setCompact(f),ee.setSize(W),ee.setLayers(h),ee.setCodeWords(I),ee.setMatrix(J),ee}static drawBullsEye(t,r,i){for(let o=0;o<i;o+=2)for(let l=r-o;l<=r+o;l++)t.set(l,r-o),t.set(l,r+o),t.set(r-o,l),t.set(r+o,l);t.set(r-i,r-i),t.set(r-i+1,r-i),t.set(r-i,r-i+1),t.set(r+i,r-i),t.set(r+i,r-i+1),t.set(r+i,r+i-1)}static generateModeMessage(t,r,i){let o=new V;return t?(o.appendBits(r-1,2),o.appendBits(i-1,6),o=_e.generateCheckWords(o,28,4)):(o.appendBits(r-1,5),o.appendBits(i-1,11),o=_e.generateCheckWords(o,40,4)),o}static drawModeMessage(t,r,i,o){let l=_.truncDivision(i,2);if(r)for(let u=0;u<7;u++){let f=l-3+u;o.get(u)&&t.set(f,l-5),o.get(u+7)&&t.set(l+5,f),o.get(20-u)&&t.set(f,l+5),o.get(27-u)&&t.set(l-5,f)}else for(let u=0;u<10;u++){let f=l-5+u+_.truncDivision(u,5);o.get(u)&&t.set(f,l-7),o.get(u+10)&&t.set(l+7,f),o.get(29-u)&&t.set(f,l+7),o.get(39-u)&&t.set(l-7,f)}}static generateCheckWords(t,r,i){let o=t.getSize()/i,l=new Gl(_e.getGF(i)),u=_.truncDivision(r,i),f=_e.bitsToWords(t,i,u);l.encode(f,u-o);let h=r%i,g=new V;g.appendBits(0,h);for(const p of Array.from(f))g.appendBits(p,i);return g}static bitsToWords(t,r,i){let o=new Int32Array(i),l,u;for(l=0,u=t.getSize()/r;l<u;l++){let f=0;for(let h=0;h<r;h++)f|=t.get(l*r+h)?1<<r-h-1:0;o[l]=f}return o}static getGF(t){switch(t){case 4:return Oe.AZTEC_PARAM;case 6:return Oe.AZTEC_DATA_6;case 8:return Oe.AZTEC_DATA_8;case 10:return Oe.AZTEC_DATA_10;case 12:return Oe.AZTEC_DATA_12;default:throw new S("Unsupported word size "+t)}}static stuffBits(t,r){let i=new V,o=t.getSize(),l=(1<<r)-2;for(let u=0;u<o;u+=r){let f=0;for(let h=0;h<r;h++)(u+h>=o||t.get(u+h))&&(f|=1<<r-1-h);(f&l)===l?(i.appendBits(f&l,r),u--):f&l?i.appendBits(f,r):(i.appendBits(f|1,r),u--)}return i}static totalBitsInLayer(t,r){return((r?88:112)+16*t)*t}}_e.DEFAULT_EC_PERCENT=33,_e.DEFAULT_AZTEC_LAYERS=0,_e.MAX_NB_BITS=32,_e.MAX_NB_BITS_COMPACT=4,_e.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class uo{encode(t,r,i,o){return this.encodeWithHints(t,r,i,o,null)}encodeWithHints(t,r,i,o,l){let u=Yl.ISO_8859_1,f=_e.DEFAULT_EC_PERCENT,h=_e.DEFAULT_AZTEC_LAYERS;return l!=null&&(l.has(pt.CHARACTER_SET)&&(u=Fc.forName(l.get(pt.CHARACTER_SET).toString())),l.has(pt.ERROR_CORRECTION)&&(f=_.parseInt(l.get(pt.ERROR_CORRECTION).toString())),l.has(pt.AZTEC_LAYERS)&&(h=_.parseInt(l.get(pt.AZTEC_LAYERS).toString()))),uo.encodeLayers(t,r,i,o,u,f,h)}static encodeLayers(t,r,i,o,l,u,f){if(r!==le.AZTEC)throw new S("Can only encode AZTEC, but got "+r);let h=_e.encode(ue.getBytes(t,l),u,f);return uo.renderResult(h,i,o)}static renderResult(t,r,i){let o=t.getMatrix();if(o==null)throw new Dn;let l=o.getWidth(),u=o.getHeight(),f=Math.max(r,l),h=Math.max(i,u),g=Math.min(f/l,h/u),p=(f-l*g)/2,v=(h-u*g)/2,A=new Be(f,h);for(let I=0,O=v;I<u;I++,O+=g)for(let D=0,B=p;D<l;D++,B+=g)o.get(D,I)&&A.setRegion(B,O,g,g);return A}}s.AbstractExpandedDecoder=Pl,s.ArgumentException=b,s.ArithmeticException=qs,s.AztecCode=jc,s.AztecCodeReader=eo,s.AztecCodeWriter=uo,s.AztecDecoder=We,s.AztecDetector=Nc,s.AztecDetectorResult=Ac,s.AztecEncoder=_e,s.AztecHighLevelEncoder=is,s.AztecPoint=Lt,s.BarcodeFormat=le,s.Binarizer=H,s.BinaryBitmap=k,s.BitArray=V,s.BitMatrix=Be,s.BitSource=jl,s.BrowserAztecCodeReader=Gd,s.BrowserBarcodeReader=Qd,s.BrowserCodeReader=zt,s.BrowserDatamatrixCodeReader=Jd,s.BrowserMultiFormatReader=uh,s.BrowserPDF417Reader=ch,s.BrowserQRCodeReader=fh,s.BrowserQRCodeSvgWriter=Ur,s.CharacterSetECI=X,s.ChecksumException=F,s.Code128Reader=ne,s.Code39Reader=gt,s.DataMatrixDecodedBitStreamParser=ir,s.DataMatrixReader=sr,s.DecodeHintType=K,s.DecoderResult=Mr,s.DefaultGridSampler=Sc,s.DetectorResult=$s,s.EAN13Reader=Pr,s.EncodeHintType=pt,s.Exception=m,s.FormatException=P,s.GenericGF=Oe,s.GenericGFPoly=Wt,s.GlobalHistogramBinarizer=be,s.GridSampler=Ol,s.GridSamplerInstance=nr,s.HTMLCanvasElementLuminanceSource=he,s.HybridBinarizer=fe,s.ITFReader=je,s.IllegalArgumentException=S,s.IllegalStateException=Dn,s.InvertedLuminanceSource=xe,s.LuminanceSource=te,s.MathUtils=Te,s.MultiFormatOneDReader=li,s.MultiFormatReader=Bc,s.MultiFormatWriter=hh,s.NotFoundException=L,s.OneDReader=dt,s.PDF417DecodedBitStreamParser=z,s.PDF417DecoderErrorCorrection=Oc,s.PDF417Reader=Nt,s.PDF417ResultMetadata=kc,s.PerspectiveTransform=Cn,s.PlanarYUVLuminanceSource=Ln,s.QRCodeByteMatrix=lo,s.QRCodeDataMask=dn,s.QRCodeDecodedBitStreamParser=Je,s.QRCodeDecoderErrorCorrectionLevel=He,s.QRCodeDecoderFormatInformation=Ot,s.QRCodeEncoder=Xe,s.QRCodeEncoderQRCode=jr,s.QRCodeMaskUtil=st,s.QRCodeMatrixUtil=pe,s.QRCodeMode=ge,s.QRCodeReader=or,s.QRCodeVersion=de,s.QRCodeWriter=ui,s.RGBLuminanceSource=Xl,s.RSS14Reader=it,s.RSSExpandedReader=Y,s.ReaderException=oo,s.ReedSolomonDecoder=Ki,s.ReedSolomonEncoder=Gl,s.ReedSolomonException=ri,s.Result=ze,s.ResultMetadataType=oe,s.ResultPoint=ae,s.StringUtils=ue,s.UnsupportedOperationException=ce,s.VideoInputDevice=Fe,s.WhiteRectangleDetector=Hn,s.WriterException=Ue,s.ZXingArrays=T,s.ZXingCharset=Fc,s.ZXingInteger=_,s.ZXingStandardCharsets=Yl,s.ZXingStringBuilder=we,s.ZXingStringEncoding=Ie,s.ZXingSystem=M,s.createAbstractExpandedDecoder=_c,Object.defineProperty(s,"__esModule",{value:!0})})})(Cu,Cu.exports);var $e=Cu.exports;const ap=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var c1=function(){function e(n,s,a){if(this.formatMap=new Map([[ie.QR_CODE,$e.BarcodeFormat.QR_CODE],[ie.AZTEC,$e.BarcodeFormat.AZTEC],[ie.CODABAR,$e.BarcodeFormat.CODABAR],[ie.CODE_39,$e.BarcodeFormat.CODE_39],[ie.CODE_93,$e.BarcodeFormat.CODE_93],[ie.CODE_128,$e.BarcodeFormat.CODE_128],[ie.DATA_MATRIX,$e.BarcodeFormat.DATA_MATRIX],[ie.MAXICODE,$e.BarcodeFormat.MAXICODE],[ie.ITF,$e.BarcodeFormat.ITF],[ie.EAN_13,$e.BarcodeFormat.EAN_13],[ie.EAN_8,$e.BarcodeFormat.EAN_8],[ie.PDF_417,$e.BarcodeFormat.PDF_417],[ie.RSS_14,$e.BarcodeFormat.RSS_14],[ie.RSS_EXPANDED,$e.BarcodeFormat.RSS_EXPANDED],[ie.UPC_A,$e.BarcodeFormat.UPC_A],[ie.UPC_E,$e.BarcodeFormat.UPC_E],[ie.UPC_EAN_EXTENSION,$e.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!ap)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=s,this.logger=a;var c=this.createZXingFormats(n),d=new Map;d.set($e.DecodeHintType.POSSIBLE_FORMATS,c),d.set($e.DecodeHintType.TRY_HARDER,!1),this.hints=d}return e.prototype.decodeAsync=function(n){var s=this;return new Promise(function(a,c){try{a(s.decode(n))}catch(d){c(d)}})},e.prototype.decode=function(n){var s=new $e.MultiFormatReader(this.verbose,this.hints),a=new $e.HTMLCanvasElementLuminanceSource(n),c=new $e.BinaryBitmap(new $e.HybridBinarizer(a)),d=s.decode(c);return{text:d.text,format:zd.create(this.toHtml5QrcodeSupportedFormats(d.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var n=new Map;return this.formatMap.forEach(function(s,a,c){n.set(s,a)}),n},e.prototype.toHtml5QrcodeSupportedFormats=function(n){if(!this.reverseFormatMap.has(n))throw"reverseFormatMap doesn't have ".concat(n);return this.reverseFormatMap.get(n)},e.prototype.createZXingFormats=function(n){for(var s=[],a=0,c=n;a<c.length;a++){var d=c[a];this.formatMap.has(d)?s.push(this.formatMap.get(d)):this.logger.logError("".concat(d," is not supported by")+"ZXingHtml5QrcodeShim")}return s},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),up=function(e,n,s,a){function c(d){return d instanceof s?d:new s(function(x){x(d)})}return new(s||(s=Promise))(function(d,x){function w(b){try{m(a.next(b))}catch(S){x(S)}}function E(b){try{m(a.throw(b))}catch(S){x(S)}}function m(b){b.done?d(b.value):c(b.value).then(w,E)}m((a=a.apply(e,n||[])).next())})},cp=function(e,n){var s={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},a,c,d,x;return x={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function w(m){return function(b){return E([m,b])}}function E(m){if(a)throw new TypeError("Generator is already executing.");for(;x&&(x=0,m[0]&&(s=0)),s;)try{if(a=1,c&&(d=m[0]&2?c.return:m[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,m[1])).done)return d;switch(c=0,d&&(m=[m[0]&2,d.value]),m[0]){case 0:case 1:d=m;break;case 4:return s.label++,{value:m[1],done:!1};case 5:s.label++,c=m[1],m=[0];continue;case 7:m=s.ops.pop(),s.trys.pop();continue;default:if(d=s.trys,!(d=d.length>0&&d[d.length-1])&&(m[0]===6||m[0]===2)){s=0;continue}if(m[0]===3&&(!d||m[1]>d[0]&&m[1]<d[3])){s.label=m[1];break}if(m[0]===6&&s.label<d[1]){s.label=d[1],d=m;break}if(d&&s.label<d[2]){s.label=d[2],s.ops.push(m);break}d[2]&&s.ops.pop(),s.trys.pop();continue}m=n.call(e,s)}catch(b){m=[6,b],c=0}finally{a=d=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},f1=function(){function e(n,s,a){if(this.formatMap=new Map([[ie.QR_CODE,"qr_code"],[ie.AZTEC,"aztec"],[ie.CODABAR,"codabar"],[ie.CODE_39,"code_39"],[ie.CODE_93,"code_93"],[ie.CODE_128,"code_128"],[ie.DATA_MATRIX,"data_matrix"],[ie.ITF,"itf"],[ie.EAN_13,"ean_13"],[ie.EAN_8,"ean_8"],[ie.PDF_417,"pdf417"],[ie.UPC_A,"upc_a"],[ie.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=s,this.logger=a;var c=this.createBarcodeDetectorFormats(n);if(this.detector=new BarcodeDetector(c),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var n=new BarcodeDetector({formats:["qr_code"]});return typeof n<"u"},e.prototype.decodeAsync=function(n){return up(this,void 0,void 0,function(){var s,a;return cp(this,function(c){switch(c.label){case 0:return[4,this.detector.detect(n)];case 1:if(s=c.sent(),!s||s.length===0)throw"No barcode or QR code detected.";return a=this.selectLargestBarcode(s),[2,{text:a.rawValue,format:zd.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(n){for(var s=null,a=0,c=0,d=n;c<d.length;c++){var x=d[c],w=x.boundingBox.width*x.boundingBox.height;w>a&&(a=w,s=x)}if(!s)throw"No largest barcode found";return s},e.prototype.createBarcodeDetectorFormats=function(n){for(var s=[],a=0,c=n;a<c.length;a++){var d=c[a];this.formatMap.has(d)?s.push(this.formatMap.get(d)):this.logger.warn("".concat(d," is not supported by")+"BarcodeDetectorDelegate")}return{formats:s}},e.prototype.toHtml5QrcodeSupportedFormats=function(n){if(!this.reverseFormatMap.has(n))throw"reverseFormatMap doesn't have ".concat(n);return this.reverseFormatMap.get(n)},e.prototype.createReverseFormatMap=function(){var n=new Map;return this.formatMap.forEach(function(s,a,c){n.set(s,a)}),n},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),d1=function(e,n,s,a){function c(d){return d instanceof s?d:new s(function(x){x(d)})}return new(s||(s=Promise))(function(d,x){function w(b){try{m(a.next(b))}catch(S){x(S)}}function E(b){try{m(a.throw(b))}catch(S){x(S)}}function m(b){b.done?d(b.value):c(b.value).then(w,E)}m((a=a.apply(e,n||[])).next())})},h1=function(e,n){var s={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},a,c,d,x;return x={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function w(m){return function(b){return E([m,b])}}function E(m){if(a)throw new TypeError("Generator is already executing.");for(;x&&(x=0,m[0]&&(s=0)),s;)try{if(a=1,c&&(d=m[0]&2?c.return:m[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,m[1])).done)return d;switch(c=0,d&&(m=[m[0]&2,d.value]),m[0]){case 0:case 1:d=m;break;case 4:return s.label++,{value:m[1],done:!1};case 5:s.label++,c=m[1],m=[0];continue;case 7:m=s.ops.pop(),s.trys.pop();continue;default:if(d=s.trys,!(d=d.length>0&&d[d.length-1])&&(m[0]===6||m[0]===2)){s=0;continue}if(m[0]===3&&(!d||m[1]>d[0]&&m[1]<d[3])){s.label=m[1];break}if(m[0]===6&&s.label<d[1]){s.label=d[1],d=m;break}if(d&&s.label<d[2]){s.label=d[2],s.ops.push(m);break}d[2]&&s.ops.pop(),s.trys.pop();continue}m=n.call(e,s)}catch(b){m=[6,b],c=0}finally{a=d=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},fp=function(){function e(n,s,a,c){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=a,s&&f1.isSupported()?(this.primaryDecoder=new f1(n,a,c),this.secondaryDecoder=new c1(n,a,c)):this.primaryDecoder=new c1(n,a,c)}return e.prototype.decodeAsync=function(n){return d1(this,void 0,void 0,function(){var s;return h1(this,function(a){switch(a.label){case 0:s=performance.now(),a.label=1;case 1:return a.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(n)];case 2:return[2,a.sent()];case 3:return this.possiblyLogPerformance(s),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(n){return d1(this,void 0,void 0,function(){var s,a;return h1(this,function(c){switch(c.label){case 0:s=performance.now(),c.label=1;case 1:return c.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(n)];case 2:return[2,c.sent()];case 3:if(a=c.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(n)];throw a;case 4:return this.possiblyLogPerformance(s),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(n){if(this.verbose){var s=performance.now()-n;this.executionResults.push(s),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var n=0,s=0,a=this.executionResults;s<a.length;s++){var c=a[s];n+=c}var d=n/this.executionResults.length;console.log("".concat(d," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),Cc=function(){var e=function(n,s){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])},e(n,s)};return function(n,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");e(n,s);function a(){this.constructor=n}n.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}}(),dl=function(e,n,s,a){function c(d){return d instanceof s?d:new s(function(x){x(d)})}return new(s||(s=Promise))(function(d,x){function w(b){try{m(a.next(b))}catch(S){x(S)}}function E(b){try{m(a.throw(b))}catch(S){x(S)}}function m(b){b.done?d(b.value):c(b.value).then(w,E)}m((a=a.apply(e,n||[])).next())})},hl=function(e,n){var s={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},a,c,d,x;return x={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function w(m){return function(b){return E([m,b])}}function E(m){if(a)throw new TypeError("Generator is already executing.");for(;x&&(x=0,m[0]&&(s=0)),s;)try{if(a=1,c&&(d=m[0]&2?c.return:m[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,m[1])).done)return d;switch(c=0,d&&(m=[m[0]&2,d.value]),m[0]){case 0:case 1:d=m;break;case 4:return s.label++,{value:m[1],done:!1};case 5:s.label++,c=m[1],m=[0];continue;case 7:m=s.ops.pop(),s.trys.pop();continue;default:if(d=s.trys,!(d=d.length>0&&d[d.length-1])&&(m[0]===6||m[0]===2)){s=0;continue}if(m[0]===3&&(!d||m[1]>d[0]&&m[1]<d[3])){s.label=m[1];break}if(m[0]===6&&s.label<d[1]){s.label=d[1],d=m;break}if(d&&s.label<d[2]){s.label=d[2],s.ops.push(m);break}d[2]&&s.ops.pop(),s.trys.pop();continue}m=n.call(e,s)}catch(b){m=[6,b],c=0}finally{a=d=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},Hd=function(){function e(n,s){this.name=n,this.track=s}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(n){var s={};s[this.name]=n;var a={advanced:[s]};return this.track.applyConstraints(a)},e.prototype.value=function(){var n=this.track.getSettings();if(this.name in n){var s=n[this.name];return s}return null},e}(),dp=function(e){Cc(n,e);function n(s,a){return e.call(this,s,a)||this}return n.prototype.min=function(){return this.getCapabilities().min},n.prototype.max=function(){return this.getCapabilities().max},n.prototype.step=function(){return this.getCapabilities().step},n.prototype.apply=function(s){var a={};a[this.name]=s;var c={advanced:[a]};return this.track.applyConstraints(c)},n.prototype.getCapabilities=function(){this.failIfNotSupported();var s=this.track.getCapabilities(),a=s[this.name];return{min:a.min,max:a.max,step:a.step}},n.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},n}(Hd),hp=function(e){Cc(n,e);function n(s){return e.call(this,"zoom",s)||this}return n}(dp),gp=function(e){Cc(n,e);function n(s){return e.call(this,"torch",s)||this}return n}(Hd),xp=function(){function e(n){this.track=n}return e.prototype.zoomFeature=function(){return new hp(this.track)},e.prototype.torchFeature=function(){return new gp(this.track)},e}(),pp=function(){function e(n,s,a){this.isClosed=!1,this.parentElement=n,this.mediaStream=s,this.callbacks=a,this.surface=this.createVideoElement(this.parentElement.clientWidth),n.append(this.surface)}return e.prototype.createVideoElement=function(n){var s=document.createElement("video");return s.style.width="".concat(n,"px"),s.style.display="block",s.muted=!0,s.setAttribute("muted","true"),s.playsInline=!0,s},e.prototype.setupSurface=function(){var n=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var s=function(){var a=n.surface.clientWidth,c=n.surface.clientHeight;n.callbacks.onRenderSurfaceReady(a,c),n.surface.removeEventListener("playing",s)};this.surface.addEventListener("playing",s),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(n,s,a,c){return dl(this,void 0,void 0,function(){var d,x;return hl(this,function(w){switch(w.label){case 0:return d=new e(n,s,c),a.aspectRatio?(x={aspectRatio:a.aspectRatio},[4,d.getFirstTrackOrFail().applyConstraints(x)]):[3,2];case 1:w.sent(),w.label=2;case 2:return d.setupSurface(),[2,d]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(n){this.failIfClosed();var s=this,a=function(){setTimeout(n,200),s.surface.removeEventListener("playing",a)};this.surface.addEventListener("playing",a),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(n){return dl(this,void 0,void 0,function(){return hl(this,function(s){if("aspectRatio"in n)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(n)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var n=this;return new Promise(function(s,a){var c=n.mediaStream.getVideoTracks(),d=c.length,x=0;n.mediaStream.getVideoTracks().forEach(function(w){n.mediaStream.removeTrack(w),w.stop(),++x,x>=d&&(n.isClosed=!0,n.parentElement.removeChild(n.surface),s())})})},e.prototype.getCapabilities=function(){return new xp(this.getFirstTrackOrFail())},e}(),mp=function(){function e(n){this.mediaStream=n}return e.prototype.render=function(n,s,a){return dl(this,void 0,void 0,function(){return hl(this,function(c){return[2,pp.create(n,this.mediaStream,s,a)]})})},e.create=function(n){return dl(this,void 0,void 0,function(){var s,a;return hl(this,function(c){switch(c.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return s={audio:!1,video:n},[4,navigator.mediaDevices.getUserMedia(s)];case 1:return a=c.sent(),[2,new e(a)]}})})},e}(),g1=function(e,n,s,a){function c(d){return d instanceof s?d:new s(function(x){x(d)})}return new(s||(s=Promise))(function(d,x){function w(b){try{m(a.next(b))}catch(S){x(S)}}function E(b){try{m(a.throw(b))}catch(S){x(S)}}function m(b){b.done?d(b.value):c(b.value).then(w,E)}m((a=a.apply(e,n||[])).next())})},x1=function(e,n){var s={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},a,c,d,x;return x={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function w(m){return function(b){return E([m,b])}}function E(m){if(a)throw new TypeError("Generator is already executing.");for(;x&&(x=0,m[0]&&(s=0)),s;)try{if(a=1,c&&(d=m[0]&2?c.return:m[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,m[1])).done)return d;switch(c=0,d&&(m=[m[0]&2,d.value]),m[0]){case 0:case 1:d=m;break;case 4:return s.label++,{value:m[1],done:!1};case 5:s.label++,c=m[1],m=[0];continue;case 7:m=s.ops.pop(),s.trys.pop();continue;default:if(d=s.trys,!(d=d.length>0&&d[d.length-1])&&(m[0]===6||m[0]===2)){s=0;continue}if(m[0]===3&&(!d||m[1]>d[0]&&m[1]<d[3])){s.label=m[1];break}if(m[0]===6&&s.label<d[1]){s.label=d[1],d=m;break}if(d&&s.label<d[2]){s.label=d[2],s.ops.push(m);break}d[2]&&s.ops.pop(),s.trys.pop();continue}m=n.call(e,s)}catch(b){m=[6,b],c=0}finally{a=d=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},wp=function(){function e(){}return e.failIfNotSupported=function(){return g1(this,void 0,void 0,function(){return x1(this,function(n){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(n){return g1(this,void 0,void 0,function(){return x1(this,function(s){return[2,mp.create(n)]})})},e}(),yp=function(e,n,s,a){function c(d){return d instanceof s?d:new s(function(x){x(d)})}return new(s||(s=Promise))(function(d,x){function w(b){try{m(a.next(b))}catch(S){x(S)}}function E(b){try{m(a.throw(b))}catch(S){x(S)}}function m(b){b.done?d(b.value):c(b.value).then(w,E)}m((a=a.apply(e,n||[])).next())})},Ep=function(e,n){var s={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},a,c,d,x;return x={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function w(m){return function(b){return E([m,b])}}function E(m){if(a)throw new TypeError("Generator is already executing.");for(;x&&(x=0,m[0]&&(s=0)),s;)try{if(a=1,c&&(d=m[0]&2?c.return:m[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,m[1])).done)return d;switch(c=0,d&&(m=[m[0]&2,d.value]),m[0]){case 0:case 1:d=m;break;case 4:return s.label++,{value:m[1],done:!1};case 5:s.label++,c=m[1],m=[0];continue;case 7:m=s.ops.pop(),s.trys.pop();continue;default:if(d=s.trys,!(d=d.length>0&&d[d.length-1])&&(m[0]===6||m[0]===2)){s=0;continue}if(m[0]===3&&(!d||m[1]>d[0]&&m[1]<d[3])){s.label=m[1];break}if(m[0]===6&&s.label<d[1]){s.label=d[1],d=m;break}if(d&&s.label<d[2]){s.label=d[2],s.ops.push(m);break}d[2]&&s.ops.pop(),s.trys.pop();continue}m=n.call(e,s)}catch(b){m=[6,b],c=0}finally{a=d=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},Cp=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var n=MediaStreamTrack;return MediaStreamTrack&&n.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var n=bi.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(n=bi.insecureContextCameraQueryError()),Promise.reject(n)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var n=location.host.split(":")[0];return n==="127.0.0.1"||n==="localhost"},e.getCamerasFromMediaDevices=function(){return yp(this,void 0,void 0,function(){var n,s,a,c,d,x,w;return Ep(this,function(E){switch(E.label){case 0:return n=function(m){for(var b=m.getVideoTracks(),S=0,k=b;S<k.length;S++){var F=k[S];F.enabled=!1,F.stop(),m.removeTrack(F)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return s=E.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(a=E.sent(),c=[],d=0,x=a;d<x.length;d++)w=x[d],w.kind==="videoinput"&&c.push({id:w.deviceId,label:w.label});return n(s),[2,c]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(n,s){var a=function(d){for(var x=[],w=0,E=d;w<E.length;w++){var m=E[w];m.kind==="video"&&x.push({id:m.id,label:m.label})}n(x)},c=MediaStreamTrack;c.getSources(a)})},e}(),lt;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(lt||(lt={}));var vp=function(){function e(){this.state=lt.NOT_STARTED,this.onGoingTransactionNewState=lt.UNKNOWN}return e.prototype.directTransition=function(n){this.failIfTransitionOngoing(),this.validateTransition(n),this.state=n},e.prototype.startTransition=function(n){return this.failIfTransitionOngoing(),this.validateTransition(n),this.onGoingTransactionNewState=n,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===lt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var n=this.onGoingTransactionNewState;this.onGoingTransactionNewState=lt.UNKNOWN,this.directTransition(n)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===lt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=lt.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==lt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(n){switch(this.state){case lt.UNKNOWN:throw"Transition from unknown is not allowed";case lt.NOT_STARTED:this.failIfNewStateIs(n,[lt.PAUSED]);break;case lt.SCANNING:break;case lt.PAUSED:break}},e.prototype.failIfNewStateIs=function(n,s){for(var a=0,c=s;a<c.length;a++){var d=c[a];if(n===d)throw"Cannot transition from ".concat(this.state," to ").concat(n)}},e}(),Ap=function(){function e(n){this.stateManager=n}return e.prototype.startTransition=function(n){return this.stateManager.startTransition(n)},e.prototype.directTransition=function(n){this.stateManager.directTransition(n)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===lt.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==lt.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===lt.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===lt.PAUSED},e}(),Sp=function(){function e(){}return e.create=function(){return new Ap(new vp)},e}(),Np=function(){var e=function(n,s){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])},e(n,s)};return function(n,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");e(n,s);function a(){this.constructor=n}n.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}}(),nn=function(e){Np(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.DEFAULT_WIDTH=300,n.DEFAULT_WIDTH_OFFSET=2,n.FILE_SCAN_MIN_HEIGHT=300,n.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,n.MIN_QR_BOX_SIZE=50,n.SHADED_LEFT=1,n.SHADED_RIGHT=2,n.SHADED_TOP=3,n.SHADED_BOTTOM=4,n.SHADED_REGION_ELEMENT_ID="qr-shaded-region",n.VERBOSE=!1,n.BORDER_SHADER_DEFAULT_COLOR="#ffffff",n.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",n}(sp),Ip=function(){function e(n,s){this.logger=s,this.fps=nn.SCAN_DEFAULT_FPS,n?(n.fps&&(this.fps=n.fps),this.disableFlip=n.disableFlip===!0,this.qrbox=n.qrbox,this.aspectRatio=n.aspectRatio,this.videoConstraints=n.videoConstraints):this.disableFlip=nn.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Wd.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!Gn(this.qrbox)},e.create=function(n,s){return new e(n,s)},e}(),bp=function(){function e(n,s){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(n))throw"HTML Element with id=".concat(n," not found");this.elementId=n,this.verbose=!1;var a;typeof s=="boolean"?this.verbose=s===!0:s&&(a=s,this.verbose=a.verbose===!0,a.experimentalFeatures),this.logger=new lp(this.verbose),this.qrcode=new fp(this.getSupportedFormats(s),this.getUseBarCodeDetectorIfSupported(a),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Sp.create()}return e.prototype.start=function(n,s,a,c){var d=this;if(!n)throw"cameraIdOrConfig is required";if(!a||typeof a!="function")throw"qrCodeSuccessCallback is required and should be a function.";var x;c?x=c:x=this.verbose?this.logger.log:function(){};var w=Ip.create(s,this.logger);this.clearElement();var E=!1;w.videoConstraints&&(w.isMediaStreamConstraintsValid()?E=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var m=E,b=document.getElementById(this.elementId);b.clientWidth?b.clientWidth:nn.DEFAULT_WIDTH,b.style.position="relative",this.shouldScan=!0,this.element=b;var S=this,k=this.stateManagerProxy.startTransition(lt.SCANNING);return new Promise(function(F,H){var M=m?w.videoConstraints:S.createVideoConstraints(n);if(!M){k.cancel(),H("videoConstraints should be defined");return}var G={};(!m||w.aspectRatio)&&(G.aspectRatio=w.aspectRatio);var R={onRenderSurfaceReady:function(T,_){S.setupUi(T,_,w),S.isScanning=!0,S.foreverScan(w,a,x)}};wp.failIfNotSupported().then(function(T){T.create(M).then(function(_){return _.render(d.element,G,R).then(function(V){S.renderedCamera=V,k.execute(),F(null)}).catch(function(V){k.cancel(),H(V)})}).catch(function(_){k.cancel(),H(bi.errorGettingUserMedia(_))})}).catch(function(T){k.cancel(),H(bi.cameraStreamingNotSupported())})})},e.prototype.pause=function(n){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(lt.PAUSED),this.showPausedState(),(Gn(n)||n!==!0)&&(n=!1),n&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var n=this,s=function(){n.stateManagerProxy.directTransition(lt.SCANNING),n.hidePausedState()};if(!this.renderedCamera.isPaused()){s();return}this.renderedCamera.resume(function(){s()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var n=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var s=this.stateManagerProxy.startTransition(lt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var a=function(){if(n.element){var d=document.getElementById(nn.SHADED_REGION_ELEMENT_ID);d&&n.element.removeChild(d)}},c=this;return this.renderedCamera.close().then(function(){return c.renderedCamera=null,c.element&&(c.element.removeChild(c.canvasElement),c.canvasElement=null),a(),c.qrRegion&&(c.qrRegion=null),c.context&&(c.context=null),s.execute(),c.hidePausedState(),c.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(n,s){return this.scanFileV2(n,s).then(function(a){return a.decodedText})},e.prototype.scanFileV2=function(n,s){var a=this;if(!n||!(n instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Gn(s)&&(s=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(c,d){a.possiblyCloseLastScanImageFile(),a.clearElement(),a.lastScanImageFile=URL.createObjectURL(n);var x=new Image;x.onload=function(){var w=x.width,E=x.height,m=document.getElementById(a.elementId),b=m.clientWidth?m.clientWidth:nn.DEFAULT_WIDTH,S=Math.max(m.clientHeight?m.clientHeight:E,nn.FILE_SCAN_MIN_HEIGHT),k=a.computeCanvasDrawConfig(w,E,b,S);if(s){var F=a.createCanvasElement(b,S,"qr-canvas-visible");F.style.display="inline-block",m.appendChild(F);var H=F.getContext("2d");if(!H)throw"Unable to get 2d context from canvas";H.canvas.width=b,H.canvas.height=S,H.drawImage(x,0,0,w,E,k.x,k.y,k.width,k.height)}var M=nn.FILE_SCAN_HIDDEN_CANVAS_PADDING,G=Math.max(x.width,k.width),R=Math.max(x.height,k.height),T=G+2*M,_=R+2*M,V=a.createCanvasElement(T,_);m.appendChild(V);var $=V.getContext("2d");if(!$)throw"Unable to get 2d context from canvas";$.canvas.width=T,$.canvas.height=_,$.drawImage(x,0,0,w,E,M,M,G,R);try{a.qrcode.decodeRobustlyAsync(V).then(function(K){c(u1.createFromQrcodeResult(K))}).catch(d)}catch(K){d("QR code parse error, error = ".concat(K))}},x.onerror=d,x.onabort=d,x.onstalled=d,x.onsuspend=d,x.src=URL.createObjectURL(n)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return Cp.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(n){if(n){if(!Wd.isMediaStreamConstraintsValid(n,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(n)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(n){var s=[ie.QR_CODE,ie.AZTEC,ie.CODABAR,ie.CODE_39,ie.CODE_93,ie.CODE_128,ie.DATA_MATRIX,ie.MAXICODE,ie.ITF,ie.EAN_13,ie.EAN_8,ie.PDF_417,ie.RSS_14,ie.RSS_EXPANDED,ie.UPC_A,ie.UPC_E,ie.UPC_EAN_EXTENSION];if(!n||typeof n=="boolean"||!n.formatsToSupport)return s;if(!Array.isArray(n.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(n.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var a=[],c=0,d=n.formatsToSupport;c<d.length;c++){var x=d[c];ip(x)?a.push(x):this.logger.warn("Invalid format: ".concat(x," passed in config, ignoring."))}if(a.length===0)throw"None of formatsToSupport match supported values.";return a},e.prototype.getUseBarCodeDetectorIfSupported=function(n){if(Gn(n))return!0;if(!Gn(n.useBarCodeDetectorIfSupported))return n.useBarCodeDetectorIfSupported!==!1;if(Gn(n.experimentalFeatures))return!0;var s=n.experimentalFeatures;return Gn(s.useBarCodeDetectorIfSupported)?!0:s.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(n,s,a){var c=this,d=a.qrbox;this.validateQrboxConfig(d);var x=this.toQrdimensions(n,s,d),w=function(m){if(m<nn.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(nn.MIN_QR_BOX_SIZE,"px.")},E=function(m){return m>n&&(c.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),m=n),m};w(x.width),w(x.height),x.width=E(x.width)},e.prototype.validateQrboxConfig=function(n){if(typeof n!="number"&&typeof n!="function"&&(n.width===void 0||n.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(n,s,a){if(typeof a=="number")return{width:a,height:a};if(typeof a=="function")try{return a(n,s)}catch(c){throw new Error("qrbox config was passed as a function but it failed with unknown error"+c)}return a},e.prototype.setupUi=function(n,s,a){a.isShadedBoxEnabled()&&this.validateQrboxSize(n,s,a);var c=Gn(a.qrbox)?{width:n,height:s}:a.qrbox;this.validateQrboxConfig(c);var d=this.toQrdimensions(n,s,c);d.height>s&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var x=a.isShadedBoxEnabled()&&d.height<=s,w={x:0,y:0,width:n,height:s},E=x?this.getShadedRegionBounds(n,s,d):w,m=this.createCanvasElement(E.width,E.height),b={willReadFrequently:!0},S=m.getContext("2d",b);S.canvas.width=E.width,S.canvas.height=E.height,this.element.append(m),x&&this.possiblyInsertShadingElement(this.element,n,s,d),this.createScannerPausedUiElement(this.element),this.qrRegion=E,this.context=S,this.canvasElement=m},e.prototype.createScannerPausedUiElement=function(n){var s=document.createElement("div");s.innerText=bi.scannerPaused(),s.style.display="none",s.style.position="absolute",s.style.top="0px",s.style.zIndex="1",s.style.background="rgba(9, 9, 9, 0.46)",s.style.color="#FFECEC",s.style.textAlign="center",s.style.width="100%",n.appendChild(s),this.scannerPausedUiElement=s},e.prototype.scanContext=function(n,s){var a=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(c){return n(c.text,u1.createFromQrcodeResult(c)),a.possiblyUpdateShaders(!0),!0}).catch(function(c){a.possiblyUpdateShaders(!1);var d=bi.codeParseError(c);return s(d,op.createFrom(d)),!1})},e.prototype.foreverScan=function(n,s,a){var c=this;if(this.shouldScan&&this.renderedCamera){var d=this.renderedCamera.getSurface(),x=d.videoWidth/d.clientWidth,w=d.videoHeight/d.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var E=this.qrRegion.width*x,m=this.qrRegion.height*w,b=this.qrRegion.x*x,S=this.qrRegion.y*w;this.context.drawImage(d,b,S,E,m,0,0,this.qrRegion.width,this.qrRegion.height);var k=function(){c.foreverScanTimeout=setTimeout(function(){c.foreverScan(n,s,a)},c.getTimeoutFps(n.fps))};this.scanContext(s,a).then(function(F){!F&&n.disableFlip!==!0?(c.context.translate(c.context.canvas.width,0),c.context.scale(-1,1),c.scanContext(s,a).finally(function(){k()})):k()}).catch(function(F){c.logger.logError("Error happend while scanning context",F),k()})}},e.prototype.createVideoConstraints=function(n){if(typeof n=="string")return{deviceId:{exact:n}};if(typeof n=="object"){var s="facingMode",a="deviceId",c={user:!0,environment:!0},d="exact",x=function(H){if(H in c)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(H,"'")},w=Object.keys(n);if(w.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(w.length," keys");var E=Object.keys(n)[0];if(E!==s&&E!==a)throw"Only '".concat(s,"' and '").concat(a,"' ")+" are supported for 'cameraIdOrConfig'";if(E===s){var m=n.facingMode;if(typeof m=="string"){if(x(m))return{facingMode:m}}else if(typeof m=="object")if(d in m){if(x(m["".concat(d)]))return{facingMode:{exact:m["".concat(d)]}}}else throw"'facingMode' should be string or object with"+" ".concat(d," as key.");else{var b=typeof m;throw"Invalid type of 'facingMode' = ".concat(b)}}else{var S=n.deviceId;if(typeof S=="string")return{deviceId:S};if(typeof S=="object"){if(d in S)return{deviceId:{exact:S["".concat(d)]}};throw"'deviceId' should be string or object with"+" ".concat(d," as key.")}else{var k=typeof S;throw"Invalid type of 'deviceId' = ".concat(k)}}}var F=typeof n;throw"Invalid type of 'cameraIdOrConfig' = ".concat(F)},e.prototype.computeCanvasDrawConfig=function(n,s,a,c){if(n<=a&&s<=c){var d=(a-n)/2,x=(c-s)/2;return{x:d,y:x,width:n,height:s}}else{var w=n,E=s;return n>a&&(s=a/n*s,n=a),s>c&&(n=c/s*n,s=c),this.logger.log("Image downsampled from "+"".concat(w,"X").concat(E)+" to ".concat(n,"X").concat(s,".")),this.computeCanvasDrawConfig(n,s,a,c)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var n=document.getElementById(this.elementId);n&&(n.innerHTML="")},e.prototype.possiblyUpdateShaders=function(n){this.qrMatch!==n&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(s){s.style.backgroundColor=n?nn.BORDER_SHADER_MATCH_COLOR:nn.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=n)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(n,s,a){var c=n,d=s,x=document.createElement("canvas");return x.style.width="".concat(c,"px"),x.style.height="".concat(d,"px"),x.style.display="none",x.id=Gn(a)?"qr-canvas":a,x},e.prototype.getShadedRegionBounds=function(n,s,a){if(a.width>n||a.height>s)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(n-a.width)/2,y:(s-a.height)/2,width:a.width,height:a.height}},e.prototype.possiblyInsertShadingElement=function(n,s,a,c){if(!(s-c.width<1||a-c.height<1)){var d=document.createElement("div");d.style.position="absolute";var x=(s-c.width)/2,w=(a-c.height)/2;if(d.style.borderLeft="".concat(x,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderRight="".concat(x,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderTop="".concat(w,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderBottom="".concat(w,"px solid rgba(0, 0, 0, 0.48)"),d.style.boxSizing="border-box",d.style.top="0px",d.style.bottom="0px",d.style.left="0px",d.style.right="0px",d.id="".concat(nn.SHADED_REGION_ELEMENT_ID),s-c.width<11||a-c.height<11)this.hasBorderShaders=!1;else{var E=5,m=40;this.insertShaderBorders(d,m,E,-E,null,0,!0),this.insertShaderBorders(d,m,E,-E,null,0,!1),this.insertShaderBorders(d,m,E,null,-E,0,!0),this.insertShaderBorders(d,m,E,null,-E,0,!1),this.insertShaderBorders(d,E,m+E,-E,null,-E,!0),this.insertShaderBorders(d,E,m+E,null,-E,-E,!0),this.insertShaderBorders(d,E,m+E,-E,null,-E,!1),this.insertShaderBorders(d,E,m+E,null,-E,-E,!1),this.hasBorderShaders=!0}n.append(d)}},e.prototype.insertShaderBorders=function(n,s,a,c,d,x,w){var E=document.createElement("div");E.style.position="absolute",E.style.backgroundColor=nn.BORDER_SHADER_DEFAULT_COLOR,E.style.width="".concat(s,"px"),E.style.height="".concat(a,"px"),c!==null&&(E.style.top="".concat(c,"px")),d!==null&&(E.style.bottom="".concat(d,"px")),w?E.style.left="".concat(x,"px"):E.style.right="".concat(x,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(E),n.appendChild(E)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(n){return 1e3/n},e}(),p1;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(p1||(p1={}));function vc({onScan:e,onClose:n}){const s=U.useRef(null),a="qr-scanner-container";return U.useEffect(()=>{const c=new bp(a);return s.current=c,c.start({facingMode:"environment"},{fps:10,qrbox:{width:250,height:150}},d=>{c.stop().catch(()=>{}),e(d)},void 0).catch(d=>{console.error("Scanner start error:",d)}),()=>{c.stop().catch(()=>{})}},[e]),y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50",children:y.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden w-full max-w-sm mx-4",children:[y.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b",children:[y.jsx("h3",{className:"font-semibold text-gray-800",children:"Scan Barcode / QR Code"}),y.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 text-2xl leading-none",children:""})]}),y.jsx("div",{id:a,className:"w-full"}),y.jsx("div",{className:"px-4 py-3 text-center text-sm text-gray-500",children:"Point camera at barcode or QR code"})]})})}const Tp=["Forgot my laptop","Battery / charging issue","Hardware fault","Software issue","Other"];function _p(){const e=ni(),[n,s]=U.useState("identify"),[a,c]=U.useState("id"),[d,x]=U.useState(""),[w,E]=U.useState(null),[m,b]=U.useState([]),[S,k]=U.useState(""),[F,H]=U.useState(""),[M,G]=U.useState(!1),[R,T]=U.useState(!1),_=async P=>{const Q=(P??d).trim();if(Q){G(!0),H(""),b([]);try{const X=await qe.lookupStudent(Q);E(X.data),s("reason")}catch{H("Student not found. Try searching by name, or ask ICT staff.")}finally{G(!1)}}},V=async()=>{if(d.trim()){G(!0),H("");try{const P=await qe.searchStudents(d.trim());b(P.data),P.data.length===0&&H("No students found. Please ask ICT staff.")}catch{H("Search failed. Please ask ICT staff.")}finally{G(!1)}}},$=U.useCallback(P=>{T(!1),x(P),_(P)},[]),K=async()=>{if(!(!w||!S)){G(!0),H("");try{await qe.reserveLoan({studentId:w.studentId,reason:S}),e("/kiosk/success",{state:{student:w,reason:S}})}catch(P){H(P.message||"Failed to submit request. Please ask ICT staff.")}finally{G(!1)}}};return y.jsxs("div",{className:"min-h-screen bg-blue-900 text-white flex flex-col",children:[y.jsxs("div",{className:"p-5 flex items-center justify-between border-b border-blue-800",children:[y.jsx("button",{onClick:()=>n==="reason"?s("identify"):e("/kiosk"),className:"text-blue-300 hover:text-white text-lg",children:" Back"}),y.jsx("h1",{className:"text-xl font-bold",children:"Request a Laptop"}),y.jsx("div",{className:"w-16"})]}),y.jsx("div",{className:"flex px-6 pt-4 space-x-2",children:["Identify","Reason"].map((P,Q)=>{const X=n==="identify"?0:1;return y.jsx("div",{className:`flex-1 h-1 rounded-full ${Q<=X?"bg-green-400":"bg-blue-700"}`},P)})}),y.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center px-6 py-8 max-w-lg mx-auto w-full",children:[n==="identify"&&y.jsxs("div",{className:"w-full",children:[y.jsx("h2",{className:"text-3xl font-bold mb-2 text-center",children:"Who are you?"}),y.jsx("p",{className:"text-blue-300 text-center mb-8",children:"Scan your student ID barcode, or search by name"}),y.jsxs("div",{className:"flex rounded-xl overflow-hidden mb-6 border border-blue-700",children:[y.jsx("button",{onClick:()=>{c("id"),x(""),b([]),H("")},className:`flex-1 py-3 text-sm font-medium transition-colors ${a==="id"?"bg-blue-600 text-white":"bg-blue-800 text-blue-300"}`,children:"Student ID / Barcode"}),y.jsx("button",{onClick:()=>{c("name"),x(""),b([]),H("")},className:`flex-1 py-3 text-sm font-medium transition-colors ${a==="name"?"bg-blue-600 text-white":"bg-blue-800 text-blue-300"}`,children:"Search by Name"})]}),y.jsx("input",{type:"text",value:d,onChange:P=>x(P.target.value),onKeyDown:P=>P.key==="Enter"&&(a==="id"?_():V()),placeholder:a==="id"?"Scan or type your student ID":"Type your name",className:"w-full bg-blue-800 border border-blue-600 rounded-xl px-5 py-4 text-xl text-white placeholder-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-400 mb-4",autoFocus:!0}),a==="id"&&y.jsxs("button",{onClick:()=>T(!0),className:"w-full py-3 bg-blue-700 hover:bg-blue-600 rounded-xl text-base font-medium transition-colors mb-4 flex items-center justify-center space-x-2",children:[y.jsx("span",{children:""}),y.jsx("span",{children:"Scan with Camera"})]}),F&&y.jsx("p",{className:"text-red-400 text-center text-sm mb-4",children:F}),m.length>0&&y.jsx("div",{className:"space-y-2 mb-4 max-h-48 overflow-y-auto",children:m.map(P=>y.jsxs("button",{onClick:()=>{E(P),s("reason")},className:"w-full bg-blue-800 hover:bg-blue-700 rounded-xl p-4 text-left transition-colors",children:[y.jsx("div",{className:"font-semibold",children:P.fullName}),y.jsxs("div",{className:"text-blue-300 text-sm",children:[P.studentId,P.tutorGroup?`  ${P.tutorGroup}`:""]})]},P.id))}),y.jsx("button",{onClick:a==="id"?()=>_():V,disabled:M||!d.trim(),className:"w-full py-5 bg-green-500 hover:bg-green-400 disabled:bg-blue-800 disabled:text-blue-500 rounded-2xl text-2xl font-bold transition-colors mt-2",children:M?"Searching...":"Continue "})]}),n==="reason"&&w&&y.jsxs("div",{className:"w-full",children:[y.jsxs("div",{className:"bg-blue-800 rounded-xl p-4 mb-6 text-center",children:[y.jsx("p",{className:"text-blue-400 text-sm",children:"Logged in as"}),y.jsx("p",{className:"text-2xl font-bold",children:w.fullName}),w.tutorGroup&&y.jsx("p",{className:"text-blue-300 text-sm",children:w.tutorGroup})]}),y.jsx("h2",{className:"text-2xl font-bold mb-2 text-center",children:"Why do you need a loaner?"}),y.jsx("p",{className:"text-blue-300 text-center mb-6 text-sm",children:"Select the best reason"}),y.jsx("div",{className:"space-y-3 mb-6",children:Tp.map(P=>y.jsx("button",{onClick:()=>k(P),className:`w-full py-4 rounded-xl text-lg font-medium transition-colors ${S===P?"bg-green-500 text-white":"bg-blue-800 hover:bg-blue-700 text-white"}`,children:P},P))}),F&&y.jsx("p",{className:"text-red-400 text-center text-sm mb-4",children:F}),y.jsx("button",{onClick:K,disabled:M||!S,className:"w-full py-5 bg-green-500 hover:bg-green-400 disabled:bg-blue-800 disabled:text-blue-500 rounded-2xl text-2xl font-bold transition-colors",children:M?"Submitting...":"Submit Request "})]})]}),R&&y.jsx(vc,{onScan:$,onClose:()=>T(!1)})]})}function Rp(){const e=ni(),{state:n}=ti();return U.useEffect(()=>{const s=setTimeout(()=>e("/kiosk"),1e4);return()=>clearTimeout(s)},[e]),y.jsxs("div",{className:"min-h-screen bg-green-600 flex flex-col items-center justify-center text-white text-center px-6",children:[y.jsx("div",{className:"text-8xl mb-6",children:""}),y.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Request Submitted!"}),(n==null?void 0:n.student)&&y.jsxs("p",{className:"text-xl text-green-100 mb-2",children:["Hi ",y.jsx("strong",{children:n.student.fullName}),", your request has been received."]}),y.jsx("p",{className:"text-green-200 text-lg mb-8",children:"Please collect your loaner laptop from ICT staff."}),(n==null?void 0:n.reason)&&y.jsxs("div",{className:"bg-green-700 rounded-xl px-6 py-4 text-sm text-left space-y-1 mb-10",children:[y.jsxs("div",{children:[y.jsx("span",{className:"text-green-300",children:"Reason: "}),n.reason]}),y.jsxs("div",{children:[y.jsx("span",{className:"text-green-300",children:"Due back: "}),"End of today"]})]}),y.jsx("button",{onClick:()=>e("/kiosk"),className:"px-10 py-4 bg-white text-green-700 font-bold text-xl rounded-2xl hover:bg-green-50",children:"Done"}),y.jsx("p",{className:"mt-4 text-green-300 text-sm",children:"Screen resets automatically in 10 seconds"})]})}function Op(){const[e,n]=U.useState([]),[s,a]=U.useState(!0),[c,d]=U.useState(null),[x,w]=U.useState(""),[E,m]=U.useState(""),[b,S]=U.useState(!1),[k,F]=U.useState(!1),[H,M]=U.useState(""),[G,R]=U.useState(null),[T,_]=U.useState([]),[V,$]=U.useState(""),[K,P]=U.useState(""),[Q,X]=U.useState("day_loan"),[ce,Ie]=U.useState(""),[ue,we]=U.useState(""),[Be,L]=U.useState(!1),[be,fe]=U.useState(!1),[te,xe]=U.useState("checkout"),he=()=>{a(!0),qe.getReservations().then(oe=>n(oe.data)).finally(()=>a(!1))};U.useEffect(()=>{he()},[]);const Fe=async()=>{if(!(!c||!x.trim())){S(!0),m("");try{await qe.checkoutLoan(c.id,{barcode:x.trim()}),d(null),w(""),he()}catch(oe){m(oe.message)}finally{S(!1)}}},Ae=async oe=>{confirm("Cancel this reservation?")&&(await qe.cancelLoan(oe),he())},zt=U.useCallback(oe=>{fe(!1),te==="checkout"?w(oe):$(oe)},[te]),ze=oe=>{xe(oe),fe(!0)},On=async()=>{if(H.trim())try{try{const Mr=await qe.lookupStudent(H.trim());R(Mr.data),_([]);return}catch{}const oe=await qe.searchStudents(H.trim());_(oe.data),oe.data.length===0&&we("No students found")}catch{we("Search failed")}},le=async()=>{if(!G||!V.trim()){we("Student and device barcode are required");return}L(!0),we("");try{await qe.createManualLoan({studentId:G.studentId,barcode:V.trim(),reason:K,loanType:Q,dueAt:ce||void 0}),F(!1),cn(),he()}catch(oe){we(oe.message||"Failed to create loan")}finally{L(!1)}},cn=()=>{M(""),R(null),_([]),$(""),P(""),X("day_loan"),Ie(""),we("")};return y.jsx(Yi,{children:y.jsxs("div",{className:"max-w-5xl",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Reservations"}),y.jsxs("div",{className:"flex space-x-2",children:[y.jsx("button",{onClick:()=>{cn(),F(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700",children:"+ New Loan (Walk-in)"}),y.jsx("button",{onClick:he,className:"text-sm text-blue-600 hover:underline px-2",children:"Refresh"})]})]}),s?y.jsx("p",{className:"text-gray-500",children:"Loading..."}):e.length===0?y.jsx("div",{className:"bg-white rounded-xl shadow p-8 text-center text-gray-500",children:"No pending reservations"}):y.jsx("div",{className:"bg-white rounded-xl shadow overflow-hidden",children:y.jsxs("table",{className:"w-full text-sm",children:[y.jsx("thead",{className:"bg-gray-50 border-b",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-600",children:"Student"}),y.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-600",children:"Reason"}),y.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-600",children:"Reserved At"}),y.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-600",children:"Actions"})]})}),y.jsx("tbody",{className:"divide-y",children:e.map(oe=>y.jsxs("tr",{className:"hover:bg-gray-50",children:[y.jsxs("td",{className:"px-4 py-3",children:[y.jsx("div",{className:"font-medium",children:oe.student.fullName}),y.jsx("div",{className:"text-gray-400 text-xs",children:oe.student.studentId})]}),y.jsx("td",{className:"px-4 py-3 text-gray-600",children:oe.reason||""}),y.jsx("td",{className:"px-4 py-3 text-gray-500 text-xs",children:new Date(oe.reservedAt).toLocaleString()}),y.jsxs("td",{className:"px-4 py-3 space-x-2",children:[y.jsx("button",{onClick:()=>{d(oe),m(""),w("")},className:"px-3 py-1 bg-blue-600 text-white rounded text-xs hover:bg-blue-700",children:"Check Out"}),y.jsx("button",{onClick:()=>Ae(oe.id),className:"px-3 py-1 bg-red-100 text-red-600 rounded text-xs hover:bg-red-200",children:"Cancel"})]})]},oe.id))})]})}),c&&y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-40",children:y.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-6 w-full max-w-md",children:[y.jsx("h2",{className:"text-lg font-bold mb-1",children:"Check Out Device"}),y.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Student: ",y.jsx("strong",{children:c.student.fullName})]}),E&&y.jsx("p",{className:"text-red-600 text-sm mb-3",children:E}),y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Scan or enter device barcode"}),y.jsxs("div",{className:"flex space-x-2 mb-4",children:[y.jsx("input",{type:"text",value:x,onChange:oe=>w(oe.target.value),onKeyDown:oe=>oe.key==="Enter"&&Fe(),className:"flex-1 border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Device barcode",autoFocus:!0}),y.jsx("button",{onClick:()=>ze("checkout"),className:"px-3 py-2 bg-gray-100 hover:bg-gray-200 rounded-md text-sm",title:"Scan with camera",children:""})]}),y.jsxs("div",{className:"flex justify-end space-x-3",children:[y.jsx("button",{onClick:()=>d(null),className:"px-4 py-2 text-gray-600 hover:text-gray-800 text-sm",children:"Cancel"}),y.jsx("button",{onClick:Fe,disabled:b||!x.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm hover:bg-blue-700 disabled:opacity-50",children:b?"Processing...":"Check Out"})]})]})}),k&&y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-40",children:y.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-6 w-full max-w-lg max-h-screen overflow-y-auto",children:[y.jsx("h2",{className:"text-lg font-bold mb-4",children:"New Walk-in Loan"}),ue&&y.jsx("p",{className:"text-red-600 text-sm mb-3",children:ue}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Student"}),G?y.jsxs("div",{className:"flex items-center justify-between bg-green-50 border border-green-200 rounded-md px-3 py-2",children:[y.jsxs("div",{children:[y.jsx("div",{className:"font-medium text-sm",children:G.fullName}),y.jsxs("div",{className:"text-xs text-gray-500",children:[G.studentId,G.tutorGroup?`  ${G.tutorGroup}`:""]})]}),y.jsx("button",{onClick:()=>{R(null),_([])},className:"text-xs text-gray-400 hover:text-gray-600",children:"Change"})]}):y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"flex space-x-2 mb-2",children:[y.jsx("input",{type:"text",value:H,onChange:oe=>M(oe.target.value),onKeyDown:oe=>oe.key==="Enter"&&On(),placeholder:"Student ID or name",className:"flex-1 border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0}),y.jsx("button",{onClick:On,className:"px-3 py-2 bg-blue-600 text-white rounded-md text-sm hover:bg-blue-700",children:"Search"})]}),T.length>0&&y.jsx("div",{className:"border border-gray-200 rounded-md divide-y max-h-36 overflow-y-auto",children:T.map(oe=>y.jsxs("button",{onClick:()=>{R(oe),_([])},className:"w-full px-3 py-2 text-left hover:bg-gray-50 text-sm",children:[y.jsx("div",{className:"font-medium",children:oe.fullName}),y.jsx("div",{className:"text-gray-400 text-xs",children:oe.studentId})]},oe.id))})]})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Device Barcode"}),y.jsxs("div",{className:"flex space-x-2",children:[y.jsx("input",{type:"text",value:V,onChange:oe=>$(oe.target.value),placeholder:"Scan or type device barcode",className:"flex-1 border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),y.jsx("button",{onClick:()=>ze("newLoanDevice"),className:"px-3 py-2 bg-gray-100 hover:bg-gray-200 rounded-md text-sm",title:"Scan with camera",children:""})]})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason"}),y.jsx("input",{type:"text",value:K,onChange:oe=>P(oe.target.value),placeholder:"e.g. Forgot laptop",className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Loan Type"}),y.jsxs("select",{value:Q,onChange:oe=>X(oe.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[y.jsx("option",{value:"day_loan",children:"Day Loan (returns end of day)"}),y.jsx("option",{value:"extended",children:"Extended"}),y.jsx("option",{value:"repair",children:"Repair"})]})]}),y.jsxs("div",{className:"mb-5",children:[y.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Due Date/Time ",y.jsx("span",{className:"text-gray-400 font-normal",children:"(optional  defaults to end of day)"})]}),y.jsx("input",{type:"datetime-local",value:ce,onChange:oe=>Ie(oe.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),y.jsxs("div",{className:"flex justify-end space-x-3",children:[y.jsx("button",{onClick:()=>{F(!1),cn()},className:"px-4 py-2 text-gray-600 hover:text-gray-800 text-sm",children:"Cancel"}),y.jsx("button",{onClick:le,disabled:Be||!G||!V.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm hover:bg-blue-700 disabled:opacity-50",children:Be?"Creating...":"Check Out Now"})]})]})}),be&&y.jsx(vc,{onScan:zt,onClose:()=>fe(!1)})]})})}function Dp(){var we,Be;const[e,n]=U.useState([]),[s,a]=U.useState(!0),[c,d]=U.useState(""),[x,w]=U.useState(""),[E,m]=U.useState(""),[b,S]=U.useState(!1),[k,F]=U.useState(!1),[H,M]=U.useState(null),[G,R]=U.useState({loanType:"",dueAt:"",notes:""}),[T,_]=U.useState(""),[V,$]=U.useState(!1),K=()=>{a(!0),qe.getActiveLoans().then(L=>n(L.data)).finally(()=>a(!1))};U.useEffect(()=>{K()},[]);const P=async L=>{var fe;const be=(L??c).trim();if(be){S(!0),w(""),m("");try{const te=await qe.checkinLoan({barcode:be});d(""),m(`Checked in: ${((fe=te.data.student)==null?void 0:fe.fullName)??"device"}`),K(),setTimeout(()=>m(""),4e3)}catch(te){w(te.message)}finally{S(!1)}}},Q=U.useCallback(L=>{F(!1),d(L),P(L)},[]),X=L=>{M(L),R({loanType:L.loanType,dueAt:L.dueAt?new Date(L.dueAt).toISOString().slice(0,16):"",notes:L.notes||""}),_("")},ce=async()=>{if(H){$(!0),_("");try{await qe.updateLoan(H.id,{loanType:G.loanType,dueAt:G.dueAt?new Date(G.dueAt).toISOString():void 0,notes:G.notes}),M(null),K()}catch(L){_(L.message||"Failed to update loan")}finally{$(!1)}}},Ie=e.filter(L=>L.status==="checked_out"),ue=e.filter(L=>L.status==="reserved");return y.jsxs(Yi,{children:[y.jsxs("div",{className:"max-w-5xl",children:[y.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Active Loans"}),y.jsxs("div",{className:"bg-white rounded-xl shadow p-4 mb-6",children:[y.jsx("h2",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Quick Check-In"}),y.jsxs("div",{className:"flex space-x-2",children:[y.jsx("input",{type:"text",value:c,onChange:L=>d(L.target.value),onKeyDown:L=>L.key==="Enter"&&P(),placeholder:"Scan device barcode to check in",className:"flex-1 border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),y.jsx("button",{onClick:()=>F(!0),className:"px-3 py-2 bg-gray-100 hover:bg-gray-200 rounded-md text-sm",title:"Scan with camera",children:""}),y.jsx("button",{onClick:()=>P(),disabled:b||!c.trim(),className:"px-4 py-2 bg-green-600 text-white rounded-md text-sm hover:bg-green-700 disabled:opacity-50",children:"Check In"})]}),x&&y.jsx("p",{className:"text-red-600 text-xs mt-1",children:x}),E&&y.jsxs("p",{className:"text-green-600 text-xs mt-1",children:[" ",E]})]}),s?y.jsx("p",{className:"text-gray-500",children:"Loading..."}):y.jsxs(y.Fragment,{children:[Ie.length>0&&y.jsxs("div",{className:"bg-white rounded-xl shadow overflow-hidden mb-6",children:[y.jsx("div",{className:"px-4 py-3 bg-blue-50 border-b",children:y.jsxs("h2",{className:"font-semibold text-blue-800",children:["Checked Out (",Ie.length,")"]})}),y.jsxs("table",{className:"w-full text-sm",children:[y.jsx("thead",{className:"bg-gray-50 border-b",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-600",children:"Student"}),y.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-600",children:"Device"}),y.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-600",children:"Type"}),y.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-600",children:"Due"}),y.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-600",children:"Status"}),y.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-600",children:"Actions"})]})}),y.jsx("tbody",{className:"divide-y",children:Ie.map(L=>{var be,fe,te;return y.jsxs("tr",{className:`hover:bg-gray-50 ${L.isOverdue?"bg-red-50":""}`,children:[y.jsxs("td",{className:"px-4 py-3",children:[y.jsx("div",{className:"font-medium",children:(be=L.student)==null?void 0:be.fullName}),y.jsx("div",{className:"text-gray-400 text-xs",children:(fe=L.student)==null?void 0:fe.studentId})]}),y.jsx("td",{className:"px-4 py-3 text-gray-600 font-mono text-xs",children:((te=L.device)==null?void 0:te.assetNumber)||""}),y.jsx("td",{className:"px-4 py-3 text-gray-600 capitalize",children:L.loanType.replace("_"," ")}),y.jsx("td",{className:"px-4 py-3 text-gray-500 text-xs",children:new Date(L.dueAt).toLocaleString()}),y.jsx("td",{className:"px-4 py-3",children:L.isOverdue?y.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-700 rounded-full text-xs",children:"Overdue"}):y.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded-full text-xs",children:"Active"})}),y.jsx("td",{className:"px-4 py-3",children:y.jsx("button",{onClick:()=>X(L),className:"px-2 py-1 bg-gray-100 hover:bg-gray-200 text-gray-600 rounded text-xs",children:"Edit"})})]},L.id)})})]})]}),ue.length>0&&y.jsxs("div",{className:"bg-white rounded-xl shadow overflow-hidden",children:[y.jsx("div",{className:"px-4 py-3 bg-yellow-50 border-b",children:y.jsxs("h2",{className:"font-semibold text-yellow-800",children:["Awaiting Collection (",ue.length,")"]})}),y.jsxs("table",{className:"w-full text-sm",children:[y.jsx("thead",{className:"bg-gray-50 border-b",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-600",children:"Student"}),y.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-600",children:"Reason"}),y.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-600",children:"Reserved At"})]})}),y.jsx("tbody",{className:"divide-y",children:ue.map(L=>{var be,fe;return y.jsxs("tr",{className:"hover:bg-gray-50",children:[y.jsxs("td",{className:"px-4 py-3",children:[y.jsx("div",{className:"font-medium",children:(be=L.student)==null?void 0:be.fullName}),y.jsx("div",{className:"text-gray-400 text-xs",children:(fe=L.student)==null?void 0:fe.studentId})]}),y.jsx("td",{className:"px-4 py-3 text-gray-600",children:L.reason||""}),y.jsx("td",{className:"px-4 py-3 text-gray-500 text-xs",children:new Date(L.reservedAt).toLocaleString()})]},L.id)})})]})]}),e.length===0&&y.jsx("div",{className:"bg-white rounded-xl shadow p-8 text-center text-gray-500",children:"No active loans"})]})]}),H&&y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-40",children:y.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-6 w-full max-w-md",children:[y.jsx("h2",{className:"text-lg font-bold mb-4",children:"Edit Loan"}),y.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Student: ",y.jsx("strong",{children:(we=H.student)==null?void 0:we.fullName})," "," ","Device: ",y.jsx("strong",{children:((Be=H.device)==null?void 0:Be.assetNumber)||""})]}),T&&y.jsx("p",{className:"text-red-600 text-sm mb-3",children:T}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Loan Type"}),y.jsxs("select",{value:G.loanType,onChange:L=>R({...G,loanType:L.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[y.jsx("option",{value:"day_loan",children:"Day Loan"}),y.jsx("option",{value:"extended",children:"Extended"}),y.jsx("option",{value:"repair",children:"Repair"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Date/Time"}),y.jsx("input",{type:"datetime-local",value:G.dueAt,onChange:L=>R({...G,dueAt:L.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),y.jsx("textarea",{value:G.notes,onChange:L=>R({...G,notes:L.target.value}),rows:3,className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Optional notes..."})]})]}),y.jsxs("div",{className:"flex justify-end space-x-3 mt-5",children:[y.jsx("button",{onClick:()=>M(null),className:"px-4 py-2 text-gray-600 hover:text-gray-800 text-sm",children:"Cancel"}),y.jsx("button",{onClick:ce,disabled:V,className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm hover:bg-blue-700 disabled:opacity-50",children:V?"Saving...":"Save Changes"})]})]})}),k&&y.jsx(vc,{onScan:Q,onClose:()=>F(!1)})]})}const kp={reserved:"bg-yellow-100 text-yellow-700",checked_out:"bg-blue-100 text-blue-700",returned:"bg-green-100 text-green-700",cancelled:"bg-gray-100 text-gray-500"};function Mp(){const[e,n]=U.useState([]),[s,a]=U.useState(0),[c,d]=U.useState(1),[x,w]=U.useState(!0),E=25;U.useEffect(()=>{w(!0),qe.getLoanHistory(c,E).then(S=>{n(S.data),a(S.total)}).finally(()=>w(!1))},[c]);const m=Math.ceil(s/E),b=()=>{qe.exportLoans().catch(()=>alert("Export failed"))};return y.jsx(Yi,{children:y.jsxs("div",{className:"max-w-6xl",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Loan History"}),y.jsx("button",{onClick:b,className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg text-sm font-medium",children:"Export CSV"})]}),y.jsxs("div",{className:"bg-white rounded-xl shadow overflow-hidden",children:[y.jsxs("div",{className:"px-4 py-3 border-b text-sm text-gray-500",children:[s," total records"]}),x?y.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading..."}):y.jsxs("table",{className:"w-full text-sm",children:[y.jsx("thead",{className:"bg-gray-50 border-b",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-600",children:"Student"}),y.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-600",children:"Device"}),y.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-600",children:"Type"}),y.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-600",children:"Status"}),y.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-600",children:"Reserved"}),y.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-600",children:"Returned"})]})}),y.jsx("tbody",{className:"divide-y",children:e.map(S=>{var k,F,H;return y.jsxs("tr",{className:"hover:bg-gray-50",children:[y.jsxs("td",{className:"px-4 py-3",children:[y.jsx("div",{className:"font-medium",children:(k=S.student)==null?void 0:k.fullName}),y.jsx("div",{className:"text-gray-400 text-xs",children:(F=S.student)==null?void 0:F.studentId})]}),y.jsx("td",{className:"px-4 py-3 text-gray-600 font-mono text-xs",children:((H=S.device)==null?void 0:H.assetNumber)||""}),y.jsx("td",{className:"px-4 py-3 text-gray-600",children:S.loanType.replace("_"," ")}),y.jsx("td",{className:"px-4 py-3",children:y.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${kp[S.status]||""}`,children:S.status.replace("_"," ")})}),y.jsx("td",{className:"px-4 py-3 text-gray-500 text-xs",children:new Date(S.reservedAt).toLocaleString()}),y.jsx("td",{className:"px-4 py-3 text-gray-500 text-xs",children:S.returnedAt?new Date(S.returnedAt).toLocaleString():""})]},S.id)})})]}),m>1&&y.jsxs("div",{className:"px-4 py-3 border-t flex justify-between items-center text-sm",children:[y.jsx("button",{onClick:()=>d(S=>Math.max(1,S-1)),disabled:c===1,className:"px-3 py-1 bg-gray-100 rounded disabled:opacity-40 hover:bg-gray-200",children:"Previous"}),y.jsxs("span",{className:"text-gray-500",children:["Page ",c," of ",m]}),y.jsx("button",{onClick:()=>d(S=>Math.min(m,S+1)),disabled:c===m,className:"px-3 py-1 bg-gray-100 rounded disabled:opacity-40 hover:bg-gray-200",children:"Next"})]})]})]})})}const Pp={available:"bg-green-100 text-green-700",reserved:"bg-yellow-100 text-yellow-700",checked_out:"bg-blue-100 text-blue-700",maintenance:"bg-orange-100 text-orange-700",retired:"bg-gray-100 text-gray-500"};function Lp(){const[e,n]=U.useState([]),[s,a]=U.useState(!0),[c,d]=U.useState(!1),[x,w]=U.useState({assetNumber:"",barcode:"",make:"",model:"",serialNumber:"",notes:""}),[E,m]=U.useState(""),[b,S]=U.useState(!1),k=()=>{a(!0),qe.getDevices().then(M=>n(M.data)).finally(()=>a(!1))};U.useEffect(()=>{k()},[]);const F=async()=>{if(!x.assetNumber||!x.barcode){m("Asset number and barcode are required");return}S(!0),m("");try{await qe.createDevice(x),d(!1),w({assetNumber:"",barcode:"",make:"",model:"",serialNumber:"",notes:""}),k()}catch(M){m(M.message)}finally{S(!1)}},H=async(M,G)=>{await qe.updateDevice(M.id,{status:G}),k()};return y.jsx(Yi,{children:y.jsxs("div",{className:"max-w-6xl",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Devices"}),y.jsx("button",{onClick:()=>{d(!0),m("")},className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm hover:bg-blue-700",children:"+ Add Device"})]}),c&&y.jsxs("div",{className:"bg-white rounded-xl shadow p-6 mb-6",children:[y.jsx("h2",{className:"font-semibold mb-4",children:"Add New Device"}),E&&y.jsx("p",{className:"text-red-600 text-sm mb-3",children:E}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[[{key:"assetNumber",label:"Asset Number *"},{key:"barcode",label:"Barcode *"},{key:"make",label:"Make"},{key:"model",label:"Model"},{key:"serialNumber",label:"Serial Number"}].map(({key:M,label:G})=>y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:G}),y.jsx("input",{type:"text",value:x[M],onChange:R=>w(T=>({...T,[M]:R.target.value})),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]},M)),y.jsxs("div",{className:"col-span-2",children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),y.jsx("textarea",{value:x.notes,onChange:M=>w(G=>({...G,notes:M.target.value})),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",rows:2})]})]}),y.jsxs("div",{className:"flex justify-end space-x-3 mt-4",children:[y.jsx("button",{onClick:()=>d(!1),className:"px-4 py-2 text-gray-600 text-sm hover:text-gray-800",children:"Cancel"}),y.jsx("button",{onClick:F,disabled:b,className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm hover:bg-blue-700 disabled:opacity-50",children:b?"Saving...":"Add Device"})]})]}),s?y.jsx("p",{className:"text-gray-500",children:"Loading..."}):y.jsx("div",{className:"bg-white rounded-xl shadow overflow-hidden",children:y.jsxs("table",{className:"w-full text-sm",children:[y.jsx("thead",{className:"bg-gray-50 border-b",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-600",children:"Asset #"}),y.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-600",children:"Barcode"}),y.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-600",children:"Make / Model"}),y.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-600",children:"Status"}),y.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-600",children:"Change Status"})]})}),y.jsx("tbody",{className:"divide-y",children:e.map(M=>y.jsxs("tr",{className:"hover:bg-gray-50",children:[y.jsx("td",{className:"px-4 py-3 font-medium",children:M.assetNumber}),y.jsx("td",{className:"px-4 py-3 text-gray-500 font-mono text-xs",children:M.barcode}),y.jsx("td",{className:"px-4 py-3 text-gray-600",children:[M.make,M.model].filter(Boolean).join(" ")||""}),y.jsx("td",{className:"px-4 py-3",children:y.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${Pp[M.status]}`,children:M.status.replace("_"," ")})}),y.jsx("td",{className:"px-4 py-3",children:y.jsxs("select",{value:M.status,onChange:G=>H(M,G.target.value),disabled:M.status==="checked_out"||M.status==="reserved",className:"text-xs border border-gray-300 rounded px-2 py-1 disabled:opacity-40",children:[y.jsx("option",{value:"available",children:"Available"}),y.jsx("option",{value:"maintenance",children:"Maintenance"}),y.jsx("option",{value:"retired",children:"Retired"}),M.status==="checked_out"&&y.jsx("option",{value:"checked_out",children:"Checked Out"}),M.status==="reserved"&&y.jsx("option",{value:"reserved",children:"Reserved"})]})})]},M.id))})]})})]})})}function Bp(){const[e,n]=U.useState([]),[s,a]=U.useState(!0),[c,d]=U.useState(!1),[x,w]=U.useState({username:"",email:"",password:"",role:"staff"}),[E,m]=U.useState(""),[b,S]=U.useState(!1),k=()=>{a(!0),qe.getStaff().then(M=>n(M.data)).finally(()=>a(!1))};U.useEffect(()=>{k()},[]);const F=async()=>{if(!x.username||!x.email||!x.password){m("All fields are required");return}S(!0),m("");try{await qe.createStaff(x),d(!1),w({username:"",email:"",password:"",role:"staff"}),k()}catch(M){m(M.message)}finally{S(!1)}},H=async M=>{await qe.updateStaff(M.id,{isActive:!M.isActive}),k()};return y.jsx(Yi,{children:y.jsxs("div",{className:"max-w-4xl",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Staff Management"}),y.jsx("button",{onClick:()=>{d(!0),m("")},className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm hover:bg-blue-700",children:"+ Add Staff"})]}),c&&y.jsxs("div",{className:"bg-white rounded-xl shadow p-6 mb-6",children:[y.jsx("h2",{className:"font-semibold mb-4",children:"Add Staff Member"}),E&&y.jsx("p",{className:"text-red-600 text-sm mb-3",children:E}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[[{key:"username",label:"Username *",type:"text"},{key:"email",label:"Email *",type:"email"},{key:"password",label:"Password *",type:"password"}].map(({key:M,label:G,type:R})=>y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:G}),y.jsx("input",{type:R,value:x[M],onChange:T=>w(_=>({..._,[M]:T.target.value})),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]},M)),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),y.jsxs("select",{value:x.role,onChange:M=>w(G=>({...G,role:M.target.value})),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[y.jsx("option",{value:"staff",children:"Staff"}),y.jsx("option",{value:"admin",children:"Admin"})]})]})]}),y.jsxs("div",{className:"flex justify-end space-x-3 mt-4",children:[y.jsx("button",{onClick:()=>d(!1),className:"px-4 py-2 text-gray-600 text-sm hover:text-gray-800",children:"Cancel"}),y.jsx("button",{onClick:F,disabled:b,className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm hover:bg-blue-700 disabled:opacity-50",children:b?"Saving...":"Add Staff"})]})]}),s?y.jsx("p",{className:"text-gray-500",children:"Loading..."}):y.jsx("div",{className:"bg-white rounded-xl shadow overflow-hidden",children:y.jsxs("table",{className:"w-full text-sm",children:[y.jsx("thead",{className:"bg-gray-50 border-b",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-600",children:"Username"}),y.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-600",children:"Email"}),y.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-600",children:"Role"}),y.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-600",children:"Status"}),y.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-600",children:"Actions"})]})}),y.jsx("tbody",{className:"divide-y",children:e.map(M=>y.jsxs("tr",{className:"hover:bg-gray-50",children:[y.jsx("td",{className:"px-4 py-3 font-medium",children:M.username}),y.jsx("td",{className:"px-4 py-3 text-gray-600",children:M.email}),y.jsx("td",{className:"px-4 py-3",children:y.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${M.role==="admin"?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-600"}`,children:M.role})}),y.jsx("td",{className:"px-4 py-3",children:y.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${M.isActive?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:M.isActive?"Active":"Inactive"})}),y.jsx("td",{className:"px-4 py-3",children:y.jsx("button",{onClick:()=>H(M),className:"text-xs text-blue-600 hover:underline",children:M.isActive?"Deactivate":"Activate"})})]},M.id))})]})})]})})}function gi({children:e,adminOnly:n=!1}){const{user:s,loading:a,isKioskMode:c}=Vi();return a?y.jsx("div",{className:"flex items-center justify-center h-screen",children:"Loading..."}):s?c?y.jsx(gr,{to:"/kiosk",replace:!0}):n&&s.role!=="admin"?y.jsx(gr,{to:"/admin",replace:!0}):y.jsx(y.Fragment,{children:e}):y.jsx(gr,{to:"/login",replace:!0})}function Fp(){const{user:e,loading:n,isKioskMode:s}=Vi();return n?y.jsx("div",{className:"flex items-center justify-center h-screen",children:"Loading..."}):y.jsxs(z2,{children:[y.jsx(tn,{path:"/",element:e?s?y.jsx(gr,{to:"/kiosk",replace:!0}):y.jsx(gr,{to:"/admin",replace:!0}):y.jsx(gr,{to:"/login",replace:!0})}),y.jsx(tn,{path:"/login",element:e&&!s?y.jsx(gr,{to:"/admin",replace:!0}):y.jsx(tp,{})}),y.jsx(tn,{path:"/kiosk",element:y.jsx(rp,{})}),y.jsx(tn,{path:"/kiosk/checkout",element:y.jsx(_p,{})}),y.jsx(tn,{path:"/kiosk/success",element:y.jsx(Rp,{})}),y.jsx(tn,{path:"/admin",element:y.jsx(gi,{children:y.jsx(np,{})})}),y.jsx(tn,{path:"/admin/reservations",element:y.jsx(gi,{children:y.jsx(Op,{})})}),y.jsx(tn,{path:"/admin/loans",element:y.jsx(gi,{children:y.jsx(Dp,{})})}),y.jsx(tn,{path:"/admin/history",element:y.jsx(gi,{children:y.jsx(Mp,{})})}),y.jsx(tn,{path:"/admin/devices",element:y.jsx(gi,{adminOnly:!0,children:y.jsx(Lp,{})})}),y.jsx(tn,{path:"/admin/staff",element:y.jsx(gi,{adminOnly:!0,children:y.jsx(Bp,{})})}),y.jsx(tn,{path:"*",element:y.jsx(gr,{to:"/",replace:!0})})]})}function jp(){return y.jsx(K2,{children:y.jsx(ep,{children:y.jsx(Fp,{})})})}Sa.createRoot(document.getElementById("root")).render(y.jsx(b1.StrictMode,{children:y.jsx(jp,{})}));
